const E0=function(){const e=document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),hf={},T0="https://thomasdeparis.github.io/store-manager/",St=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${T0}${r}`,r in hf)return;hf[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":E0,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((a,l)=>{o.addEventListener("load",a),o.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function dh(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ne={},Ii=[],en=()=>{},I0=()=>!1,b0=/^on[^a-z]/,ul=t=>b0.test(t),fh=t=>t.startsWith("onUpdate:"),Je=Object.assign,ph=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},A0=Object.prototype.hasOwnProperty,be=(t,e)=>A0.call(t,e),le=Array.isArray,bi=t=>dl(t)==="[object Map]",Pg=t=>dl(t)==="[object Set]",ge=t=>typeof t=="function",He=t=>typeof t=="string",hl=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",kg=t=>(Ve(t)||ge(t))&&ge(t.then)&&ge(t.catch),xg=Object.prototype.toString,dl=t=>xg.call(t),S0=t=>dl(t).slice(8,-1),Og=t=>dl(t)==="[object Object]",mh=t=>He(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,pa=dh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},R0=/-(\w)/g,In=fl(t=>t.replace(R0,(e,n)=>n?n.toUpperCase():"")),C0=/\B([A-Z])/g,Wi=fl(t=>t.replace(C0,"-$1").toLowerCase()),pl=fl(t=>t.charAt(0).toUpperCase()+t.slice(1)),mc=fl(t=>t?`on${pl(t)}`:""),zr=(t,e)=>!Object.is(t,e),gc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Pa=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},P0=t=>{const e=parseFloat(t);return isNaN(e)?t:e},k0=t=>{const e=He(t)?Number(t):NaN;return isNaN(e)?t:e};let df;const au=()=>df||(df=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function gh(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=He(r)?V0(r):gh(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(He(t)||Ve(t))return t}const x0=/;(?![^(]*\))/g,O0=/:([^]+)/,D0=/\/\*[^]*?\*\//g;function V0(t){const e={};return t.replace(D0,"").split(x0).forEach(n=>{if(n){const r=n.split(O0);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function _h(t){let e="";if(He(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const r=_h(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const N0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",M0=dh(N0);function Dg(t){return!!t||t===""}const fM=t=>He(t)?t:t==null?"":le(t)||Ve(t)&&(t.toString===xg||!ge(t.toString))?JSON.stringify(t,Vg,2):String(t),Vg=(t,e)=>e&&e.__v_isRef?Vg(t,e.value):bi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Pg(e)?{[`Set(${e.size})`]:[...e.values()]}:Ve(e)&&!le(e)&&!Og(e)?String(e):e;let Vt;class Ng{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vt,!e&&Vt&&(this.index=(Vt.scopes||(Vt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Vt;try{return Vt=this,e()}finally{Vt=n}}}on(){Vt=this}off(){Vt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Mg(t){return new Ng(t)}function L0(t,e=Vt){e&&e.active&&e.effects.push(t)}function Lg(){return Vt}function F0(t){Vt&&Vt.cleanups.push(t)}const vh=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Fg=t=>(t.w&cr)>0,Ug=t=>(t.n&cr)>0,U0=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=cr},q0=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Fg(i)&&!Ug(i)?i.delete(t):e[n++]=i,i.w&=~cr,i.n&=~cr}e.length=n}},ka=new WeakMap;let ms=0,cr=1;const lu=30;let Jt;const Fr=Symbol(""),cu=Symbol("");class yh{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,L0(this,r)}run(){if(!this.active)return this.fn();let e=Jt,n=rr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Jt,Jt=this,rr=!0,cr=1<<++ms,ms<=lu?U0(this):ff(this),this.fn()}finally{ms<=lu&&q0(this),cr=1<<--ms,Jt=this.parent,rr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jt===this?this.deferStop=!0:this.active&&(ff(this),this.onStop&&this.onStop(),this.active=!1)}}function ff(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let rr=!0;const qg=[];function Gi(){qg.push(rr),rr=!1}function Qi(){const t=qg.pop();rr=t===void 0?!0:t}function Ot(t,e,n){if(rr&&Jt){let r=ka.get(t);r||ka.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=vh()),$g(i)}}function $g(t,e){let n=!1;ms<=lu?Ug(t)||(t.n|=cr,n=!Fg(t)):n=!t.has(Jt),n&&(t.add(Jt),Jt.deps.push(t))}function Nn(t,e,n,r,i,s){const o=ka.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&le(t)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!hl(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":le(t)?mh(n)&&a.push(o.get("length")):(a.push(o.get(Fr)),bi(t)&&a.push(o.get(cu)));break;case"delete":le(t)||(a.push(o.get(Fr)),bi(t)&&a.push(o.get(cu)));break;case"set":bi(t)&&a.push(o.get(Fr));break}if(a.length===1)a[0]&&uu(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);uu(vh(l))}}function uu(t,e){const n=le(t)?t:[...t];for(const r of n)r.computed&&pf(r);for(const r of n)r.computed||pf(r)}function pf(t,e){(t!==Jt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function $0(t,e){var n;return(n=ka.get(t))==null?void 0:n.get(e)}const B0=dh("__proto__,__v_isRef,__isVue"),Bg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hl)),mf=j0();function j0(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=pe(this);for(let s=0,o=this.length;s<o;s++)Ot(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(pe)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Gi();const r=pe(this)[e].apply(this,n);return Qi(),r}}),t}function z0(t){const e=pe(this);return Ot(e,"has",t),e.hasOwnProperty(t)}class jg{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&r===(i?s?rT:Wg:s?Kg:Hg).get(e))return e;const o=le(e);if(!i){if(o&&be(mf,n))return Reflect.get(mf,n,r);if(n==="hasOwnProperty")return z0}const a=Reflect.get(e,n,r);return(hl(n)?Bg.has(n):B0(n))||(i||Ot(e,"get",n),s)?a:$e(a)?o&&mh(n)?a:a.value:Ve(a)?i?Qg(a):Zr(a):a}}class zg extends jg{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(Oi(s)&&$e(s)&&!$e(r))return!1;if(!this._shallow&&(!xa(r)&&!Oi(r)&&(s=pe(s),r=pe(r)),!le(e)&&$e(s)&&!$e(r)))return s.value=r,!0;const o=le(e)&&mh(n)?Number(n)<e.length:be(e,n),a=Reflect.set(e,n,r,i);return e===pe(i)&&(o?zr(r,s)&&Nn(e,"set",n,r):Nn(e,"add",n,r)),a}deleteProperty(e,n){const r=be(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Nn(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!hl(n)||!Bg.has(n))&&Ot(e,"has",n),r}ownKeys(e){return Ot(e,"iterate",le(e)?"length":Fr),Reflect.ownKeys(e)}}class H0 extends jg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const K0=new zg,W0=new H0,G0=new zg(!0),wh=t=>t,ml=t=>Reflect.getPrototypeOf(t);function zo(t,e,n=!1,r=!1){t=t.__v_raw;const i=pe(t),s=pe(e);n||(zr(e,s)&&Ot(i,"get",e),Ot(i,"get",s));const{has:o}=ml(i),a=r?wh:n?Ih:qs;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Ho(t,e=!1){const n=this.__v_raw,r=pe(n),i=pe(t);return e||(zr(t,i)&&Ot(r,"has",t),Ot(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ko(t,e=!1){return t=t.__v_raw,!e&&Ot(pe(t),"iterate",Fr),Reflect.get(t,"size",t)}function gf(t){t=pe(t);const e=pe(this);return ml(e).has.call(e,t)||(e.add(t),Nn(e,"add",t,t)),this}function _f(t,e){e=pe(e);const n=pe(this),{has:r,get:i}=ml(n);let s=r.call(n,t);s||(t=pe(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?zr(e,o)&&Nn(n,"set",t,e):Nn(n,"add",t,e),this}function vf(t){const e=pe(this),{has:n,get:r}=ml(e);let i=n.call(e,t);i||(t=pe(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Nn(e,"delete",t,void 0),s}function yf(){const t=pe(this),e=t.size!==0,n=t.clear();return e&&Nn(t,"clear",void 0,void 0),n}function Wo(t,e){return function(r,i){const s=this,o=s.__v_raw,a=pe(o),l=e?wh:t?Ih:qs;return!t&&Ot(a,"iterate",Fr),o.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function Go(t,e,n){return function(...r){const i=this.__v_raw,s=pe(i),o=bi(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?wh:e?Ih:qs;return!e&&Ot(s,"iterate",l?cu:Fr),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Bn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Q0(){const t={get(s){return zo(this,s)},get size(){return Ko(this)},has:Ho,add:gf,set:_f,delete:vf,clear:yf,forEach:Wo(!1,!1)},e={get(s){return zo(this,s,!1,!0)},get size(){return Ko(this)},has:Ho,add:gf,set:_f,delete:vf,clear:yf,forEach:Wo(!1,!0)},n={get(s){return zo(this,s,!0)},get size(){return Ko(this,!0)},has(s){return Ho.call(this,s,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:Wo(!0,!1)},r={get(s){return zo(this,s,!0,!0)},get size(){return Ko(this,!0)},has(s){return Ho.call(this,s,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:Wo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Go(s,!1,!1),n[s]=Go(s,!0,!1),e[s]=Go(s,!1,!0),r[s]=Go(s,!0,!0)}),[t,n,e,r]}const[Y0,J0,X0,Z0]=Q0();function Eh(t,e){const n=e?t?Z0:X0:t?J0:Y0;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(be(n,i)&&i in r?n:r,i,s)}const eT={get:Eh(!1,!1)},tT={get:Eh(!1,!0)},nT={get:Eh(!0,!1)},Hg=new WeakMap,Kg=new WeakMap,Wg=new WeakMap,rT=new WeakMap;function iT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sT(t){return t.__v_skip||!Object.isExtensible(t)?0:iT(S0(t))}function Zr(t){return Oi(t)?t:Th(t,!1,K0,eT,Hg)}function Gg(t){return Th(t,!1,G0,tT,Kg)}function Qg(t){return Th(t,!0,W0,nT,Wg)}function Th(t,e,n,r,i){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=sT(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function ir(t){return Oi(t)?ir(t.__v_raw):!!(t&&t.__v_isReactive)}function Oi(t){return!!(t&&t.__v_isReadonly)}function xa(t){return!!(t&&t.__v_isShallow)}function Yg(t){return ir(t)||Oi(t)}function pe(t){const e=t&&t.__v_raw;return e?pe(e):t}function mr(t){return Pa(t,"__v_skip",!0),t}const qs=t=>Ve(t)?Zr(t):t,Ih=t=>Ve(t)?Qg(t):t;function Jg(t){rr&&Jt&&(t=pe(t),$g(t.dep||(t.dep=vh())))}function Xg(t,e){t=pe(t);const n=t.dep;n&&uu(n)}function $e(t){return!!(t&&t.__v_isRef===!0)}function Ae(t){return Zg(t,!1)}function oT(t){return Zg(t,!0)}function Zg(t,e){return $e(t)?t:new aT(t,e)}class aT{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:pe(e),this._value=n?e:qs(e)}get value(){return Jg(this),this._value}set value(e){const n=this.__v_isShallow||xa(e)||Oi(e);e=n?e:pe(e),zr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:qs(e),Xg(this))}}function Ur(t){return $e(t)?t.value:t}const lT={get:(t,e,n)=>Ur(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return $e(i)&&!$e(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function e_(t){return ir(t)?t:new Proxy(t,lT)}function cT(t){const e=le(t)?new Array(t.length):{};for(const n in t)e[n]=t_(t,n);return e}class uT{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $0(pe(this._object),this._key)}}class hT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function pM(t,e,n){return $e(t)?t:ge(t)?new hT(t):Ve(t)&&arguments.length>1?t_(t,e,n):Ae(t)}function t_(t,e,n){const r=t[e];return $e(r)?r:new uT(t,e,n)}class dT{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new yh(e,()=>{this._dirty||(this._dirty=!0,Xg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=pe(this);return Jg(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function fT(t,e,n=!1){let r,i;const s=ge(t);return s?(r=t,i=en):(r=t.get,i=t.set),new dT(r,i,s||!i,n)}function sr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){gl(s,e,n)}return i}function Ht(t,e,n,r){if(ge(t)){const s=sr(t,e,n,r);return s&&kg(s)&&s.catch(o=>{gl(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Ht(t[s],e,n,r));return i}function gl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){sr(l,null,10,[t,o,a]);return}}pT(t,n,i,r)}function pT(t,e,n,r=!0){console.error(t)}let $s=!1,hu=!1;const _t=[];let dn=0;const Ai=[];let kn=null,Sr=0;const n_=Promise.resolve();let bh=null;function Pt(t){const e=bh||n_;return t?e.then(this?t.bind(this):t):e}function mT(t){let e=dn+1,n=_t.length;for(;e<n;){const r=e+n>>>1,i=_t[r],s=Bs(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Ah(t){(!_t.length||!_t.includes(t,$s&&t.allowRecurse?dn+1:dn))&&(t.id==null?_t.push(t):_t.splice(mT(t.id),0,t),r_())}function r_(){!$s&&!hu&&(hu=!0,bh=n_.then(s_))}function gT(t){const e=_t.indexOf(t);e>dn&&_t.splice(e,1)}function _T(t){le(t)?Ai.push(...t):(!kn||!kn.includes(t,t.allowRecurse?Sr+1:Sr))&&Ai.push(t),r_()}function wf(t,e=$s?dn+1:0){for(;e<_t.length;e++){const n=_t[e];n&&n.pre&&(_t.splice(e,1),e--,n())}}function i_(t){if(Ai.length){const e=[...new Set(Ai)];if(Ai.length=0,kn){kn.push(...e);return}for(kn=e,kn.sort((n,r)=>Bs(n)-Bs(r)),Sr=0;Sr<kn.length;Sr++)kn[Sr]();kn=null,Sr=0}}const Bs=t=>t.id==null?1/0:t.id,vT=(t,e)=>{const n=Bs(t)-Bs(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function s_(t){hu=!1,$s=!0,_t.sort(vT);const e=en;try{for(dn=0;dn<_t.length;dn++){const n=_t[dn];n&&n.active!==!1&&sr(n,null,14)}}finally{dn=0,_t.length=0,i_(),$s=!1,bh=null,(_t.length||Ai.length)&&s_()}}function yT(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ne;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||Ne;d&&(i=n.map(f=>He(f)?f.trim():f)),h&&(i=n.map(P0))}let a,l=r[a=mc(e)]||r[a=mc(In(e))];!l&&s&&(l=r[a=mc(Wi(e))]),l&&Ht(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ht(c,t,6,i)}}function o_(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ge(t)){const l=c=>{const u=o_(c,e,!0);u&&(a=!0,Je(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ve(t)&&r.set(t,null),null):(le(s)?s.forEach(l=>o[l]=null):Je(o,s),Ve(t)&&r.set(t,o),o)}function _l(t,e){return!t||!ul(e)?!1:(e=e.slice(2).replace(/Once$/,""),be(t,e[0].toLowerCase()+e.slice(1))||be(t,Wi(e))||be(t,e))}let it=null,vl=null;function Oa(t){const e=it;return it=t,vl=t&&t.type.__scopeId||null,e}function mM(t){vl=t}function gM(){vl=null}function wT(t,e=it,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Df(-1);const s=Oa(e);let o;try{o=t(...i)}finally{Oa(s),r._d&&Df(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function _c(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:f,ctx:g,inheritAttrs:w}=t;let y,b;const _=Oa(t);try{if(n.shapeFlag&4){const x=i||r,F=x;y=hn(u.call(F,x,h,s,f,d,g)),b=l}else{const x=e;y=hn(x.length>1?x(s,{attrs:l,slots:a,emit:c}):x(s,null)),b=e.props?l:ET(l)}}catch(x){Cs.length=0,gl(x,t,1),y=It(Kt)}let A=y;if(b&&w!==!1){const x=Object.keys(b),{shapeFlag:F}=A;x.length&&F&7&&(o&&x.some(fh)&&(b=TT(b,o)),A=ur(A,b))}return n.dirs&&(A=ur(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),y=A,Oa(_),y}const ET=t=>{let e;for(const n in t)(n==="class"||n==="style"||ul(n))&&((e||(e={}))[n]=t[n]);return e},TT=(t,e)=>{const n={};for(const r in t)(!fh(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function IT(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Ef(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!_l(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ef(r,o,c):!0:!!o;return!1}function Ef(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!_l(n,s))return!0}return!1}function bT({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const a_="components";function AT(t,e){return RT(a_,t,!0,e)||t}const ST=Symbol.for("v-ndc");function RT(t,e,n=!0,r=!1){const i=it||et;if(i){const s=i.type;if(t===a_){const a=yI(s,!1);if(a&&(a===e||a===In(e)||a===pl(In(e))))return s}const o=Tf(i[t]||s[t],e)||Tf(i.appContext[t],e);return!o&&r?s:o}}function Tf(t,e){return t&&(t[e]||t[In(e)]||t[pl(In(e))])}const CT=t=>t.__isSuspense;function PT(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):_T(t)}function _M(t,e){return Sh(t,null,e)}const Qo={};function Fe(t,e,n){return Sh(t,e,n)}function Sh(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Ne){var a;const l=Lg()===((a=et)==null?void 0:a.scope)?et:null;let c,u=!1,h=!1;if($e(t)?(c=()=>t.value,u=xa(t)):ir(t)?(c=()=>t,r=!0):le(t)?(h=!0,u=t.some(x=>ir(x)||xa(x)),c=()=>t.map(x=>{if($e(x))return x.value;if(ir(x))return kr(x);if(ge(x))return sr(x,l,2)})):ge(t)?e?c=()=>sr(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Ht(t,l,3,[f])}:c=en,e&&r){const x=c;c=()=>kr(x())}let d,f=x=>{d=_.onStop=()=>{sr(x,l,4),d=_.onStop=void 0}},g;if(Ws)if(f=en,e?n&&Ht(e,l,3,[c(),h?[]:void 0,f]):c(),i==="sync"){const x=TI();g=x.__watcherHandles||(x.__watcherHandles=[])}else return en;let w=h?new Array(t.length).fill(Qo):Qo;const y=()=>{if(!!_.active)if(e){const x=_.run();(r||u||(h?x.some((F,j)=>zr(F,w[j])):zr(x,w)))&&(d&&d(),Ht(e,l,3,[x,w===Qo?void 0:h&&w[0]===Qo?[]:w,f]),w=x)}else _.run()};y.allowRecurse=!!e;let b;i==="sync"?b=y:i==="post"?b=()=>Rt(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),b=()=>Ah(y));const _=new yh(c,b);e?n?y():w=_.run():i==="post"?Rt(_.run.bind(_),l&&l.suspense):_.run();const A=()=>{_.stop(),l&&l.scope&&ph(l.scope.effects,_)};return g&&g.push(A),A}function kT(t,e,n){const r=this.proxy,i=He(t)?t.includes(".")?l_(r,t):()=>r[t]:t.bind(r,r);let s;ge(e)?s=e:(s=e.handler,n=e);const o=et;Di(this);const a=Sh(i,s.bind(r),n);return o?Di(o):qr(),a}function l_(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function kr(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),$e(t))kr(t.value,e);else if(le(t))for(let n=0;n<t.length;n++)kr(t[n],e);else if(Pg(t)||bi(t))t.forEach(n=>{kr(n,e)});else if(Og(t))for(const n in t)kr(t[n],e);return t}function c_(t,e){const n=it;if(n===null)return t;const r=Al(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=Ne]=e[s];o&&(ge(o)&&(o={mounted:o,updated:o}),o.deep&&kr(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Er(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Gi(),Ht(l,n,8,[t.el,a,t,e]),Qi())}}const Gn=Symbol("_leaveCb"),Yo=Symbol("_enterCb");function u_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yi(()=>{t.isMounted=!0}),an(()=>{t.isUnmounting=!0}),t}const $t=[Function,Array],h_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$t,onEnter:$t,onAfterEnter:$t,onEnterCancelled:$t,onBeforeLeave:$t,onLeave:$t,onAfterLeave:$t,onLeaveCancelled:$t,onBeforeAppear:$t,onAppear:$t,onAfterAppear:$t,onAppearCancelled:$t},xT={name:"BaseTransition",props:h_,setup(t,{slots:e}){const n=Ze(),r=u_();let i;return()=>{const s=e.default&&Rh(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const w of s)if(w.type!==Kt){o=w;break}}const a=pe(t),{mode:l}=a;if(r.isLeaving)return vc(o);const c=If(o);if(!c)return vc(o);const u=js(c,a,r,n);zs(c,u);const h=n.subTree,d=h&&If(h);let f=!1;const{getTransitionKey:g}=c.type;if(g){const w=g();i===void 0?i=w:w!==i&&(i=w,f=!0)}if(d&&d.type!==Kt&&(!Rr(c,d)||f)){const w=js(d,a,r,n);if(zs(d,w),l==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},vc(o);l==="in-out"&&c.type!==Kt&&(w.delayLeave=(y,b,_)=>{const A=d_(r,d);A[String(d.key)]=d,y[Gn]=()=>{b(),y[Gn]=void 0,delete u.delayedLeave},u.delayedLeave=_})}return o}}},OT=xT;function d_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function js(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:w,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=e,A=String(t.key),x=d_(n,t),F=(V,T)=>{V&&Ht(V,r,9,T)},j=(V,T)=>{const I=T[1];F(V,T),le(V)?V.every(L=>L.length<=1)&&I():V.length<=1&&I()},B={mode:s,persisted:o,beforeEnter(V){let T=a;if(!n.isMounted)if(i)T=w||a;else return;V[Gn]&&V[Gn](!0);const I=x[A];I&&Rr(t,I)&&I.el[Gn]&&I.el[Gn](),F(T,[V])},enter(V){let T=l,I=c,L=u;if(!n.isMounted)if(i)T=y||l,I=b||c,L=_||u;else return;let v=!1;const z=V[Yo]=S=>{v||(v=!0,S?F(L,[V]):F(I,[V]),B.delayedLeave&&B.delayedLeave(),V[Yo]=void 0)};T?j(T,[V,z]):z()},leave(V,T){const I=String(t.key);if(V[Yo]&&V[Yo](!0),n.isUnmounting)return T();F(h,[V]);let L=!1;const v=V[Gn]=z=>{L||(L=!0,T(),z?F(g,[V]):F(f,[V]),V[Gn]=void 0,x[I]===t&&delete x[I])};x[I]=t,d?j(d,[V,v]):v()},clone(V){return js(V,e,n,r)}};return B}function vc(t){if(wl(t))return t=ur(t),t.children=null,t}function If(t){return wl(t)?t.children?t.children[0]:void 0:t}function zs(t,e){t.shapeFlag&6&&t.component?zs(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Rh(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Nt?(o.patchFlag&128&&i++,r=r.concat(Rh(o.children,e,a))):(e||o.type!==Kt)&&r.push(a!=null?ur(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function yl(t,e){return ge(t)?(()=>Je({name:t.name},e,{setup:t}))():t}const As=t=>!!t.type.__asyncLoader,wl=t=>t.type.__isKeepAlive;function f_(t,e){p_(t,"a",e)}function El(t,e){p_(t,"da",e)}function p_(t,e,n=et){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Tl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)wl(i.parent.vnode)&&DT(r,e,n,i),i=i.parent}}function DT(t,e,n,r){const i=Tl(e,t,r,!0);Ch(()=>{ph(r[e],i)},n)}function Tl(t,e,n=et,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Gi(),Di(n);const a=Ht(e,n,t,o);return qr(),Qi(),a});return r?i.unshift(s):i.push(s),s}}const $n=t=>(e,n=et)=>(!Ws||t==="sp")&&Tl(t,(...r)=>e(...r),n),VT=$n("bm"),Yi=$n("m"),m_=$n("bu"),g_=$n("u"),an=$n("bum"),Ch=$n("um"),NT=$n("sp"),MT=$n("rtg"),LT=$n("rtc");function FT(t,e=et){Tl("ec",t,e)}function vM(t,e,n,r){let i;const s=n&&n[r];if(le(t)||He(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Ve(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function yM(t,e,n={},r,i){if(it.isCE||it.parent&&As(it.parent)&&it.parent.isCE)return e!=="default"&&(n.name=e),It("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),Oh();const o=s&&__(s(n)),a=Dh(Nt,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function __(t){return t.some(e=>Va(e)?!(e.type===Kt||e.type===Nt&&!__(e.children)):!0)?t:null}const du=t=>t?P_(t)?Al(t)||t.proxy:du(t.parent):null,Ss=Je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>du(t.parent),$root:t=>du(t.root),$emit:t=>t.emit,$options:t=>Ph(t),$forceUpdate:t=>t.f||(t.f=()=>Ah(t.update)),$nextTick:t=>t.n||(t.n=Pt.bind(t.proxy)),$watch:t=>kT.bind(t)}),yc=(t,e)=>t!==Ne&&!t.__isScriptSetup&&be(t,e),UT={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(yc(r,e))return o[e]=1,r[e];if(i!==Ne&&be(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&be(c,e))return o[e]=3,s[e];if(n!==Ne&&be(n,e))return o[e]=4,n[e];fu&&(o[e]=0)}}const u=Ss[e];let h,d;if(u)return e==="$attrs"&&Ot(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ne&&be(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,be(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return yc(i,e)?(i[e]=n,!0):r!==Ne&&be(r,e)?(r[e]=n,!0):be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Ne&&be(t,o)||yc(e,o)||(a=s[0])&&be(a,o)||be(r,o)||be(Ss,o)||be(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:be(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function bf(t){return le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let fu=!0;function qT(t){const e=Ph(t),n=t.proxy,r=t.ctx;fu=!1,e.beforeCreate&&Af(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:w,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:A,unmounted:x,render:F,renderTracked:j,renderTriggered:B,errorCaptured:V,serverPrefetch:T,expose:I,inheritAttrs:L,components:v,directives:z,filters:S}=e;if(c&&$T(c,r,null),o)for(const O in o){const ee=o[O];ge(ee)&&(r[O]=ee.bind(n))}if(i){const O=i.call(n,n);Ve(O)&&(t.data=Zr(O))}if(fu=!0,s)for(const O in s){const ee=s[O],Ue=ge(ee)?ee.bind(n,n):ge(ee.get)?ee.get.bind(n,n):en,ve=!ge(ee)&&ge(ee.set)?ee.set.bind(n):en,Se=R({get:Ue,set:ve});Object.defineProperty(r,O,{enumerable:!0,configurable:!0,get:()=>Se.value,set:U=>Se.value=U})}if(a)for(const O in a)v_(a[O],r,n,O);if(l){const O=ge(l)?l.call(n):l;Reflect.ownKeys(O).forEach(ee=>{ma(ee,O[ee])})}u&&Af(u,t,"c");function K(O,ee){le(ee)?ee.forEach(Ue=>O(Ue.bind(n))):ee&&O(ee.bind(n))}if(K(VT,h),K(Yi,d),K(m_,f),K(g_,g),K(f_,w),K(El,y),K(FT,V),K(LT,j),K(MT,B),K(an,_),K(Ch,x),K(NT,T),le(I))if(I.length){const O=t.exposed||(t.exposed={});I.forEach(ee=>{Object.defineProperty(O,ee,{get:()=>n[ee],set:Ue=>n[ee]=Ue})})}else t.exposed||(t.exposed={});F&&t.render===en&&(t.render=F),L!=null&&(t.inheritAttrs=L),v&&(t.components=v),z&&(t.directives=z)}function $T(t,e,n=en){le(t)&&(t=pu(t));for(const r in t){const i=t[r];let s;Ve(i)?"default"in i?s=Lt(i.from||r,i.default,!0):s=Lt(i.from||r):s=Lt(i),$e(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Af(t,e,n){Ht(le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function v_(t,e,n,r){const i=r.includes(".")?l_(n,r):()=>n[r];if(He(t)){const s=e[t];ge(s)&&Fe(i,s)}else if(ge(t))Fe(i,t.bind(n));else if(Ve(t))if(le(t))t.forEach(s=>v_(s,e,n,r));else{const s=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(s)&&Fe(i,s,t)}}function Ph(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Da(l,c,o,!0)),Da(l,e,o)),Ve(e)&&s.set(e,l),l}function Da(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Da(t,s,n,!0),i&&i.forEach(o=>Da(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=BT[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const BT={data:Sf,props:Rf,emits:Rf,methods:gs,computed:gs,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:gs,directives:gs,watch:zT,provide:Sf,inject:jT};function Sf(t,e){return e?t?function(){return Je(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function jT(t,e){return gs(pu(t),pu(e))}function pu(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Tt(t,e){return t?[...new Set([].concat(t,e))]:e}function gs(t,e){return t?Je(Object.create(null),t,e):e}function Rf(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:Je(Object.create(null),bf(t),bf(e!=null?e:{})):e}function zT(t,e){if(!t)return e;if(!e)return t;const n=Je(Object.create(null),t);for(const r in e)n[r]=Tt(t[r],e[r]);return n}function y_(){return{app:null,config:{isNativeTag:I0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let HT=0;function KT(t,e){return function(r,i=null){ge(r)||(r=Je({},r)),i!=null&&!Ve(i)&&(i=null);const s=y_(),o=new WeakSet;let a=!1;const l=s.app={_uid:HT++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:II,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&ge(c.install)?(o.add(c),c.install(l,...u)):ge(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!a){const d=It(r,i);return d.appContext=s,u&&e?e(d,c):t(d,c,h),a=!0,l._container=c,c.__vue_app__=l,Al(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){Hs=l;try{return c()}finally{Hs=null}}};return l}}let Hs=null;function ma(t,e){if(et){let n=et.provides;const r=et.parent&&et.parent.provides;r===n&&(n=et.provides=Object.create(r)),n[t]=e}}function Lt(t,e,n=!1){const r=et||it;if(r||Hs){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Hs._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ge(e)?e.call(r&&r.proxy):e}}function WT(){return!!(et||it||Hs)}function GT(t,e,n,r=!1){const i={},s={};Pa(s,bl,1),t.propsDefaults=Object.create(null),w_(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Gg(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function QT(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pe(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(_l(t.emitsOptions,d))continue;const f=e[d];if(l)if(be(s,d))f!==s[d]&&(s[d]=f,c=!0);else{const g=In(d);i[g]=mu(l,a,g,f,t,!1)}else f!==s[d]&&(s[d]=f,c=!0)}}}else{w_(t,e,i,s)&&(c=!0);let u;for(const h in a)(!e||!be(e,h)&&((u=Wi(h))===h||!be(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=mu(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!be(e,h)&&!0)&&(delete s[h],c=!0)}c&&Nn(t,"set","$attrs")}function w_(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(pa(l))continue;const c=e[l];let u;i&&be(i,u=In(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:_l(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=pe(n),c=a||Ne;for(let u=0;u<s.length;u++){const h=s[u];n[h]=mu(i,l,h,c[h],t,!be(c,h))}}return o}function mu(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=be(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ge(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(Di(i),r=c[n]=l.call(null,e),qr())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Wi(n))&&(r=!0))}return r}function E_(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!ge(t)){const u=h=>{l=!0;const[d,f]=E_(h,e,!0);Je(o,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Ve(t)&&r.set(t,Ii),Ii;if(le(s))for(let u=0;u<s.length;u++){const h=In(s[u]);Cf(h)&&(o[h]=Ne)}else if(s)for(const u in s){const h=In(u);if(Cf(h)){const d=s[u],f=o[h]=le(d)||ge(d)?{type:d}:Je({},d);if(f){const g=xf(Boolean,f.type),w=xf(String,f.type);f[0]=g>-1,f[1]=w<0||g<w,(g>-1||be(f,"default"))&&a.push(h)}}}const c=[o,a];return Ve(t)&&r.set(t,c),c}function Cf(t){return t[0]!=="$"}function Pf(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function kf(t,e){return Pf(t)===Pf(e)}function xf(t,e){return le(e)?e.findIndex(n=>kf(n,t)):ge(e)&&kf(e,t)?0:-1}const T_=t=>t[0]==="_"||t==="$stable",kh=t=>le(t)?t.map(hn):[hn(t)],YT=(t,e,n)=>{if(e._n)return e;const r=wT((...i)=>kh(e(...i)),n);return r._c=!1,r},I_=(t,e,n)=>{const r=t._ctx;for(const i in t){if(T_(i))continue;const s=t[i];if(ge(s))e[i]=YT(i,s,r);else if(s!=null){const o=kh(s);e[i]=()=>o}}},b_=(t,e)=>{const n=kh(e);t.slots.default=()=>n},JT=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=pe(e),Pa(e,"_",n)):I_(e,t.slots={})}else t.slots={},e&&b_(t,e);Pa(t.slots,bl,1)},XT=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ne;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Je(i,e),!n&&a===1&&delete i._):(s=!e.$stable,I_(e,i)),o=e}else e&&(b_(t,e),o={default:1});if(s)for(const a in i)!T_(a)&&o[a]==null&&delete i[a]};function gu(t,e,n,r,i=!1){if(le(t)){t.forEach((d,f)=>gu(d,e&&(le(e)?e[f]:e),n,r,i));return}if(As(r)&&!i)return;const s=r.shapeFlag&4?Al(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ne?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(He(c)?(u[c]=null,be(h,c)&&(h[c]=null)):$e(c)&&(c.value=null)),ge(l))sr(l,a,12,[o,u]);else{const d=He(l),f=$e(l);if(d||f){const g=()=>{if(t.f){const w=d?be(h,l)?h[l]:u[l]:l.value;i?le(w)&&ph(w,s):le(w)?w.includes(s)||w.push(s):d?(u[l]=[s],be(h,l)&&(h[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else d?(u[l]=o,be(h,l)&&(h[l]=o)):f&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,Rt(g,n)):g()}}}const Rt=PT;function ZT(t){return eI(t)}function eI(t,e){const n=au();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=en,insertStaticContent:g}=t,w=(p,m,E,k=null,M=null,q=null,X=!1,H=null,G=!!m.dynamicChildren)=>{if(p===m)return;p&&!Rr(p,m)&&(k=P(p),U(p,M,q,!0),p=null),m.patchFlag===-2&&(G=!1,m.dynamicChildren=null);const{type:$,ref:se,shapeFlag:ne}=m;switch($){case Il:y(p,m,E,k);break;case Kt:b(p,m,E,k);break;case wc:p==null&&_(m,E,k,X);break;case Nt:v(p,m,E,k,M,q,X,H,G);break;default:ne&1?F(p,m,E,k,M,q,X,H,G):ne&6?z(p,m,E,k,M,q,X,H,G):(ne&64||ne&128)&&$.process(p,m,E,k,M,q,X,H,G,W)}se!=null&&M&&gu(se,p&&p.ref,q,m||p,!m)},y=(p,m,E,k)=>{if(p==null)r(m.el=a(m.children),E,k);else{const M=m.el=p.el;m.children!==p.children&&c(M,m.children)}},b=(p,m,E,k)=>{p==null?r(m.el=l(m.children||""),E,k):m.el=p.el},_=(p,m,E,k)=>{[p.el,p.anchor]=g(p.children,m,E,k,p.el,p.anchor)},A=({el:p,anchor:m},E,k)=>{let M;for(;p&&p!==m;)M=d(p),r(p,E,k),p=M;r(m,E,k)},x=({el:p,anchor:m})=>{let E;for(;p&&p!==m;)E=d(p),i(p),p=E;i(m)},F=(p,m,E,k,M,q,X,H,G)=>{X=X||m.type==="svg",p==null?j(m,E,k,M,q,X,H,G):T(p,m,M,q,X,H,G)},j=(p,m,E,k,M,q,X,H)=>{let G,$;const{type:se,props:ne,shapeFlag:oe,transition:me,dirs:ye}=p;if(G=p.el=o(p.type,q,ne&&ne.is,ne),oe&8?u(G,p.children):oe&16&&V(p.children,G,null,k,M,q&&se!=="foreignObject",X,H),ye&&Er(p,null,k,"created"),B(G,p,p.scopeId,X,k),ne){for(const xe in ne)xe!=="value"&&!pa(xe)&&s(G,xe,null,ne[xe],q,p.children,k,M,ae);"value"in ne&&s(G,"value",null,ne.value),($=ne.onVnodeBeforeMount)&&un($,k,p)}ye&&Er(p,null,k,"beforeMount");const Oe=tI(M,me);Oe&&me.beforeEnter(G),r(G,m,E),(($=ne&&ne.onVnodeMounted)||Oe||ye)&&Rt(()=>{$&&un($,k,p),Oe&&me.enter(G),ye&&Er(p,null,k,"mounted")},M)},B=(p,m,E,k,M)=>{if(E&&f(p,E),k)for(let q=0;q<k.length;q++)f(p,k[q]);if(M){let q=M.subTree;if(m===q){const X=M.vnode;B(p,X,X.scopeId,X.slotScopeIds,M.parent)}}},V=(p,m,E,k,M,q,X,H,G=0)=>{for(let $=G;$<p.length;$++){const se=p[$]=H?Qn(p[$]):hn(p[$]);w(null,se,m,E,k,M,q,X,H)}},T=(p,m,E,k,M,q,X)=>{const H=m.el=p.el;let{patchFlag:G,dynamicChildren:$,dirs:se}=m;G|=p.patchFlag&16;const ne=p.props||Ne,oe=m.props||Ne;let me;E&&Tr(E,!1),(me=oe.onVnodeBeforeUpdate)&&un(me,E,m,p),se&&Er(m,p,E,"beforeUpdate"),E&&Tr(E,!0);const ye=M&&m.type!=="foreignObject";if($?I(p.dynamicChildren,$,H,E,k,ye,q):X||ee(p,m,H,null,E,k,ye,q,!1),G>0){if(G&16)L(H,m,ne,oe,E,k,M);else if(G&2&&ne.class!==oe.class&&s(H,"class",null,oe.class,M),G&4&&s(H,"style",ne.style,oe.style,M),G&8){const Oe=m.dynamicProps;for(let xe=0;xe<Oe.length;xe++){const Ke=Oe[xe],Gt=ne[Ke],ci=oe[Ke];(ci!==Gt||Ke==="value")&&s(H,Ke,Gt,ci,M,p.children,E,k,ae)}}G&1&&p.children!==m.children&&u(H,m.children)}else!X&&$==null&&L(H,m,ne,oe,E,k,M);((me=oe.onVnodeUpdated)||se)&&Rt(()=>{me&&un(me,E,m,p),se&&Er(m,p,E,"updated")},k)},I=(p,m,E,k,M,q,X)=>{for(let H=0;H<m.length;H++){const G=p[H],$=m[H],se=G.el&&(G.type===Nt||!Rr(G,$)||G.shapeFlag&70)?h(G.el):E;w(G,$,se,null,k,M,q,X,!0)}},L=(p,m,E,k,M,q,X)=>{if(E!==k){if(E!==Ne)for(const H in E)!pa(H)&&!(H in k)&&s(p,H,E[H],null,X,m.children,M,q,ae);for(const H in k){if(pa(H))continue;const G=k[H],$=E[H];G!==$&&H!=="value"&&s(p,H,$,G,X,m.children,M,q,ae)}"value"in k&&s(p,"value",E.value,k.value)}},v=(p,m,E,k,M,q,X,H,G)=>{const $=m.el=p?p.el:a(""),se=m.anchor=p?p.anchor:a("");let{patchFlag:ne,dynamicChildren:oe,slotScopeIds:me}=m;me&&(H=H?H.concat(me):me),p==null?(r($,E,k),r(se,E,k),V(m.children,E,se,M,q,X,H,G)):ne>0&&ne&64&&oe&&p.dynamicChildren?(I(p.dynamicChildren,oe,E,M,q,X,H),(m.key!=null||M&&m===M.subTree)&&xh(p,m,!0)):ee(p,m,E,se,M,q,X,H,G)},z=(p,m,E,k,M,q,X,H,G)=>{m.slotScopeIds=H,p==null?m.shapeFlag&512?M.ctx.activate(m,E,k,X,G):S(m,E,k,M,q,X,G):Z(p,m,G)},S=(p,m,E,k,M,q,X)=>{const H=p.component=pI(p,k,M);if(wl(p)&&(H.ctx.renderer=W),mI(H),H.asyncDep){if(M&&M.registerDep(H,K),!p.el){const G=H.subTree=It(Kt);b(null,G,m,E)}return}K(H,p,m,E,M,q,X)},Z=(p,m,E)=>{const k=m.component=p.component;if(IT(p,m,E))if(k.asyncDep&&!k.asyncResolved){O(k,m,E);return}else k.next=m,gT(k.update),k.update();else m.el=p.el,k.vnode=m},K=(p,m,E,k,M,q,X)=>{const H=()=>{if(p.isMounted){let{next:se,bu:ne,u:oe,parent:me,vnode:ye}=p,Oe=se,xe;Tr(p,!1),se?(se.el=ye.el,O(p,se,X)):se=ye,ne&&gc(ne),(xe=se.props&&se.props.onVnodeBeforeUpdate)&&un(xe,me,se,ye),Tr(p,!0);const Ke=_c(p),Gt=p.subTree;p.subTree=Ke,w(Gt,Ke,h(Gt.el),P(Gt),p,M,q),se.el=Ke.el,Oe===null&&bT(p,Ke.el),oe&&Rt(oe,M),(xe=se.props&&se.props.onVnodeUpdated)&&Rt(()=>un(xe,me,se,ye),M)}else{let se;const{el:ne,props:oe}=m,{bm:me,m:ye,parent:Oe}=p,xe=As(m);if(Tr(p,!1),me&&gc(me),!xe&&(se=oe&&oe.onVnodeBeforeMount)&&un(se,Oe,m),Tr(p,!0),ne&&Ce){const Ke=()=>{p.subTree=_c(p),Ce(ne,p.subTree,p,M,null)};xe?m.type.__asyncLoader().then(()=>!p.isUnmounted&&Ke()):Ke()}else{const Ke=p.subTree=_c(p);w(null,Ke,E,k,p,M,q),m.el=Ke.el}if(ye&&Rt(ye,M),!xe&&(se=oe&&oe.onVnodeMounted)){const Ke=m;Rt(()=>un(se,Oe,Ke),M)}(m.shapeFlag&256||Oe&&As(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&p.a&&Rt(p.a,M),p.isMounted=!0,m=E=k=null}},G=p.effect=new yh(H,()=>Ah($),p.scope),$=p.update=()=>G.run();$.id=p.uid,Tr(p,!0),$()},O=(p,m,E)=>{m.component=p;const k=p.vnode.props;p.vnode=m,p.next=null,QT(p,m.props,k,E),XT(p,m.children,E),Gi(),wf(),Qi()},ee=(p,m,E,k,M,q,X,H,G=!1)=>{const $=p&&p.children,se=p?p.shapeFlag:0,ne=m.children,{patchFlag:oe,shapeFlag:me}=m;if(oe>0){if(oe&128){ve($,ne,E,k,M,q,X,H,G);return}else if(oe&256){Ue($,ne,E,k,M,q,X,H,G);return}}me&8?(se&16&&ae($,M,q),ne!==$&&u(E,ne)):se&16?me&16?ve($,ne,E,k,M,q,X,H,G):ae($,M,q,!0):(se&8&&u(E,""),me&16&&V(ne,E,k,M,q,X,H,G))},Ue=(p,m,E,k,M,q,X,H,G)=>{p=p||Ii,m=m||Ii;const $=p.length,se=m.length,ne=Math.min($,se);let oe;for(oe=0;oe<ne;oe++){const me=m[oe]=G?Qn(m[oe]):hn(m[oe]);w(p[oe],me,E,null,M,q,X,H,G)}$>se?ae(p,M,q,!0,!1,ne):V(m,E,k,M,q,X,H,G,ne)},ve=(p,m,E,k,M,q,X,H,G)=>{let $=0;const se=m.length;let ne=p.length-1,oe=se-1;for(;$<=ne&&$<=oe;){const me=p[$],ye=m[$]=G?Qn(m[$]):hn(m[$]);if(Rr(me,ye))w(me,ye,E,null,M,q,X,H,G);else break;$++}for(;$<=ne&&$<=oe;){const me=p[ne],ye=m[oe]=G?Qn(m[oe]):hn(m[oe]);if(Rr(me,ye))w(me,ye,E,null,M,q,X,H,G);else break;ne--,oe--}if($>ne){if($<=oe){const me=oe+1,ye=me<se?m[me].el:k;for(;$<=oe;)w(null,m[$]=G?Qn(m[$]):hn(m[$]),E,ye,M,q,X,H,G),$++}}else if($>oe)for(;$<=ne;)U(p[$],M,q,!0),$++;else{const me=$,ye=$,Oe=new Map;for($=ye;$<=oe;$++){const Dt=m[$]=G?Qn(m[$]):hn(m[$]);Dt.key!=null&&Oe.set(Dt.key,$)}let xe,Ke=0;const Gt=oe-ye+1;let ci=!1,lf=0;const os=new Array(Gt);for($=0;$<Gt;$++)os[$]=0;for($=me;$<=ne;$++){const Dt=p[$];if(Ke>=Gt){U(Dt,M,q,!0);continue}let cn;if(Dt.key!=null)cn=Oe.get(Dt.key);else for(xe=ye;xe<=oe;xe++)if(os[xe-ye]===0&&Rr(Dt,m[xe])){cn=xe;break}cn===void 0?U(Dt,M,q,!0):(os[cn-ye]=$+1,cn>=lf?lf=cn:ci=!0,w(Dt,m[cn],E,null,M,q,X,H,G),Ke++)}const cf=ci?nI(os):Ii;for(xe=cf.length-1,$=Gt-1;$>=0;$--){const Dt=ye+$,cn=m[Dt],uf=Dt+1<se?m[Dt+1].el:k;os[$]===0?w(null,cn,E,uf,M,q,X,H,G):ci&&(xe<0||$!==cf[xe]?Se(cn,E,uf,2):xe--)}}},Se=(p,m,E,k,M=null)=>{const{el:q,type:X,transition:H,children:G,shapeFlag:$}=p;if($&6){Se(p.component.subTree,m,E,k);return}if($&128){p.suspense.move(m,E,k);return}if($&64){X.move(p,m,E,W);return}if(X===Nt){r(q,m,E);for(let ne=0;ne<G.length;ne++)Se(G[ne],m,E,k);r(p.anchor,m,E);return}if(X===wc){A(p,m,E);return}if(k!==2&&$&1&&H)if(k===0)H.beforeEnter(q),r(q,m,E),Rt(()=>H.enter(q),M);else{const{leave:ne,delayLeave:oe,afterLeave:me}=H,ye=()=>r(q,m,E),Oe=()=>{ne(q,()=>{ye(),me&&me()})};oe?oe(q,ye,Oe):Oe()}else r(q,m,E)},U=(p,m,E,k=!1,M=!1)=>{const{type:q,props:X,ref:H,children:G,dynamicChildren:$,shapeFlag:se,patchFlag:ne,dirs:oe}=p;if(H!=null&&gu(H,null,E,p,!0),se&256){m.ctx.deactivate(p);return}const me=se&1&&oe,ye=!As(p);let Oe;if(ye&&(Oe=X&&X.onVnodeBeforeUnmount)&&un(Oe,m,p),se&6)ce(p.component,E,k);else{if(se&128){p.suspense.unmount(E,k);return}me&&Er(p,null,m,"beforeUnmount"),se&64?p.type.remove(p,m,E,M,W,k):$&&(q!==Nt||ne>0&&ne&64)?ae($,m,E,!1,!0):(q===Nt&&ne&384||!M&&se&16)&&ae(G,m,E),k&&Ie(p)}(ye&&(Oe=X&&X.onVnodeUnmounted)||me)&&Rt(()=>{Oe&&un(Oe,m,p),me&&Er(p,null,m,"unmounted")},E)},Ie=p=>{const{type:m,el:E,anchor:k,transition:M}=p;if(m===Nt){nt(E,k);return}if(m===wc){x(p);return}const q=()=>{i(E),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(p.shapeFlag&1&&M&&!M.persisted){const{leave:X,delayLeave:H}=M,G=()=>X(E,q);H?H(p.el,q,G):G()}else q()},nt=(p,m)=>{let E;for(;p!==m;)E=d(p),i(p),p=E;i(m)},ce=(p,m,E)=>{const{bum:k,scope:M,update:q,subTree:X,um:H}=p;k&&gc(k),M.stop(),q&&(q.active=!1,U(X,p,m,E)),H&&Rt(H,m),Rt(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},ae=(p,m,E,k=!1,M=!1,q=0)=>{for(let X=q;X<p.length;X++)U(p[X],m,E,k,M)},P=p=>p.shapeFlag&6?P(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el),te=(p,m,E)=>{p==null?m._vnode&&U(m._vnode,null,null,!0):w(m._vnode||null,p,m,null,null,null,E),wf(),i_(),m._vnode=p},W={p:w,um:U,m:Se,r:Ie,mt:S,mc:V,pc:ee,pbc:I,n:P,o:t};let re,Ce;return e&&([re,Ce]=e(W)),{render:te,hydrate:re,createApp:KT(te,re)}}function Tr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function tI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xh(t,e,n=!1){const r=t.children,i=e.children;if(le(r)&&le(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Qn(i[s]),a.el=o.el),n||xh(o,a)),a.type===Il&&(a.el=o.el)}}function nI(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const rI=t=>t.__isTeleport,Rs=t=>t&&(t.disabled||t.disabled===""),Of=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,_u=(t,e)=>{const n=t&&t.to;return He(n)?e?e(n):null:n},iI={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:g,createText:w,createComment:y}}=c,b=Rs(e.props);let{shapeFlag:_,children:A,dynamicChildren:x}=e;if(t==null){const F=e.el=w(""),j=e.anchor=w("");f(F,n,r),f(j,n,r);const B=e.target=_u(e.props,g),V=e.targetAnchor=w("");B&&(f(V,B),o=o||Of(B));const T=(I,L)=>{_&16&&u(A,I,L,i,s,o,a,l)};b?T(n,j):B&&T(B,V)}else{e.el=t.el;const F=e.anchor=t.anchor,j=e.target=t.target,B=e.targetAnchor=t.targetAnchor,V=Rs(t.props),T=V?n:j,I=V?F:B;if(o=o||Of(j),x?(d(t.dynamicChildren,x,T,i,s,o,a),xh(t,e,!0)):l||h(t,e,T,I,i,s,o,a,!1),b)V?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Jo(e,n,F,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const L=e.target=_u(e.props,g);L&&Jo(e,L,null,c,0)}else V&&Jo(e,j,B,c,1)}A_(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&s(u),o&&s(c),a&16){const f=o||!Rs(d);for(let g=0;g<l.length;g++){const w=l[g];i(w,e,n,f,!!w.dynamicChildren)}}},move:Jo,hydrate:sI};function Jo(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=s===2;if(h&&r(o,e,n),(!h||Rs(u))&&l&16)for(let d=0;d<c.length;d++)i(c[d],e,n,2);h&&r(a,e,n)}function sI(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=_u(e.props,l);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Rs(e.props))e.anchor=c(o(t),e,a(t),n,r,i,s),e.targetAnchor=h;else{e.anchor=o(t);let d=h;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(h,e,u,n,r,i,s)}A_(e)}return e.anchor&&o(e.anchor)}const oI=iI;function A_(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Nt=Symbol.for("v-fgt"),Il=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),wc=Symbol.for("v-stc"),Cs=[];let Xt=null;function Oh(t=!1){Cs.push(Xt=t?null:[])}function aI(){Cs.pop(),Xt=Cs[Cs.length-1]||null}let Ks=1;function Df(t){Ks+=t}function S_(t){return t.dynamicChildren=Ks>0?Xt||Ii:null,aI(),Ks>0&&Xt&&Xt.push(t),t}function wM(t,e,n,r,i,s){return S_(C_(t,e,n,r,i,s,!0))}function Dh(t,e,n,r,i){return S_(It(t,e,n,r,i,!0))}function Va(t){return t?t.__v_isVNode===!0:!1}function Rr(t,e){return t.type===e.type&&t.key===e.key}const bl="__vInternal",R_=({key:t})=>t!=null?t:null,ga=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?He(t)||$e(t)||ge(t)?{i:it,r:t,k:e,f:!!n}:t:null);function C_(t,e=null,n=null,r=0,i=null,s=t===Nt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&R_(e),ref:e&&ga(e),scopeId:vl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:it};return a?(Vh(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=He(n)?8:16),Ks>0&&!o&&Xt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Xt.push(l),l}const It=lI;function lI(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===ST)&&(t=Kt),Va(t)){const a=ur(t,e,!0);return n&&Vh(a,n),Ks>0&&!s&&Xt&&(a.shapeFlag&6?Xt[Xt.indexOf(t)]=a:Xt.push(a)),a.patchFlag|=-2,a}if(wI(t)&&(t=t.__vccOpts),e){e=cI(e);let{class:a,style:l}=e;a&&!He(a)&&(e.class=_h(a)),Ve(l)&&(Yg(l)&&!le(l)&&(l=Je({},l)),e.style=gh(l))}const o=He(t)?1:CT(t)?128:rI(t)?64:Ve(t)?4:ge(t)?2:0;return C_(t,e,n,r,i,o,s,!0)}function cI(t){return t?Yg(t)||bl in t?Je({},t):t:null}function ur(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?hI(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&R_(a),ref:e&&e.ref?n&&i?le(i)?i.concat(ga(e)):[i,ga(e)]:ga(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Nt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ur(t.ssContent),ssFallback:t.ssFallback&&ur(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function uI(t=" ",e=0){return It(Il,null,t,e)}function EM(t="",e=!1){return e?(Oh(),Dh(Kt,null,t)):It(Kt,null,t)}function hn(t){return t==null||typeof t=="boolean"?It(Kt):le(t)?It(Nt,null,t.slice()):typeof t=="object"?Qn(t):It(Il,null,String(t))}function Qn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ur(t)}function Vh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Vh(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(bl in e)?e._ctx=it:i===3&&it&&(it.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:it},n=32):(e=String(e),r&64?(n=16,e=[uI(e)]):n=8);t.children=e,t.shapeFlag|=n}function hI(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=_h([e.class,r.class]));else if(i==="style")e.style=gh([e.style,r.style]);else if(ul(i)){const s=e[i],o=r[i];o&&s!==o&&!(le(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function un(t,e,n,r=null){Ht(t,e,7,[n,r])}const dI=y_();let fI=0;function pI(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||dI,s={uid:fI++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ng(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:E_(r,i),emitsOptions:o_(r,i),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:r.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=yT.bind(null,s),t.ce&&t.ce(s),s}let et=null;const Ze=()=>et||it;let Nh,ui,Vf="__VUE_INSTANCE_SETTERS__";(ui=au()[Vf])||(ui=au()[Vf]=[]),ui.push(t=>et=t),Nh=t=>{ui.length>1?ui.forEach(e=>e(t)):ui[0](t)};const Di=t=>{Nh(t),t.scope.on()},qr=()=>{et&&et.scope.off(),Nh(null)};function P_(t){return t.vnode.shapeFlag&4}let Ws=!1;function mI(t,e=!1){Ws=e;const{props:n,children:r}=t.vnode,i=P_(t);GT(t,n,i,e),JT(t,r);const s=i?gI(t,e):void 0;return Ws=!1,s}function gI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=mr(new Proxy(t.ctx,UT));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?vI(t):null;Di(t),Gi();const s=sr(r,t,0,[t.props,i]);if(Qi(),qr(),kg(s)){if(s.then(qr,qr),e)return s.then(o=>{Nf(t,o,e)}).catch(o=>{gl(o,t,0)});t.asyncDep=s}else Nf(t,s,e)}else k_(t,e)}function Nf(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=e_(e)),k_(t,n)}let Mf;function k_(t,e,n){const r=t.type;if(!t.render){if(!e&&Mf&&!r.render){const i=r.template||Ph(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Je(Je({isCustomElement:s,delimiters:a},o),l);r.render=Mf(i,c)}}t.render=r.render||en}{Di(t),Gi();try{qT(t)}finally{Qi(),qr()}}}function _I(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ot(t,"get","$attrs"),e[n]}}))}function vI(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return _I(t)},slots:t.slots,emit:t.emit,expose:e}}function Al(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(e_(mr(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ss)return Ss[n](t)},has(e,n){return n in e||n in Ss}}))}function yI(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function wI(t){return ge(t)&&"__vccOpts"in t}const R=(t,e)=>fT(t,e,Ws);function C(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!le(e)?Va(e)?It(t,null,[e]):It(t,e):It(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Va(n)&&(n=[n]),It(t,e,n))}const EI=Symbol.for("v-scx"),TI=()=>Lt(EI),II="3.3.9",bI="http://www.w3.org/2000/svg",Cr=typeof document!="undefined"?document:null,Lf=Cr&&Cr.createElement("template"),AI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Cr.createElementNS(bI,t):Cr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Cr.createTextNode(t),createComment:t=>Cr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Cr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Lf.innerHTML=r?`<svg>${t}</svg>`:t;const a=Lf.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},jn="transition",as="animation",Vi=Symbol("_vtc"),Ni=(t,{slots:e})=>C(OT,O_(t),e);Ni.displayName="Transition";const x_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},SI=Ni.props=Je({},h_,x_),Ir=(t,e=[])=>{le(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ff=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function O_(t){const e={};for(const v in t)v in x_||(e[v]=t[v]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,g=RI(i),w=g&&g[0],y=g&&g[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:A,onLeave:x,onLeaveCancelled:F,onBeforeAppear:j=b,onAppear:B=_,onAppearCancelled:V=A}=e,T=(v,z,S)=>{Kn(v,z?u:a),Kn(v,z?c:o),S&&S()},I=(v,z)=>{v._isLeaving=!1,Kn(v,h),Kn(v,f),Kn(v,d),z&&z()},L=v=>(z,S)=>{const Z=v?B:_,K=()=>T(z,v,S);Ir(Z,[z,K]),Uf(()=>{Kn(z,v?l:s),Pn(z,v?u:a),Ff(Z)||qf(z,r,w,K)})};return Je(e,{onBeforeEnter(v){Ir(b,[v]),Pn(v,s),Pn(v,o)},onBeforeAppear(v){Ir(j,[v]),Pn(v,l),Pn(v,c)},onEnter:L(!1),onAppear:L(!0),onLeave(v,z){v._isLeaving=!0;const S=()=>I(v,z);Pn(v,h),V_(),Pn(v,d),Uf(()=>{!v._isLeaving||(Kn(v,h),Pn(v,f),Ff(x)||qf(v,r,y,S))}),Ir(x,[v,S])},onEnterCancelled(v){T(v,!1),Ir(A,[v])},onAppearCancelled(v){T(v,!0),Ir(V,[v])},onLeaveCancelled(v){I(v),Ir(F,[v])}})}function RI(t){if(t==null)return null;if(Ve(t))return[Ec(t.enter),Ec(t.leave)];{const e=Ec(t);return[e,e]}}function Ec(t){return k0(t)}function Pn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vi]||(t[Vi]=new Set)).add(e)}function Kn(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vi];n&&(n.delete(e),n.size||(t[Vi]=void 0))}function Uf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let CI=0;function qf(t,e,n,r){const i=t._endId=++CI,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=D_(t,e);if(!o)return r();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,d),s()},d=f=>{f.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,d)}function D_(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${jn}Delay`),s=r(`${jn}Duration`),o=$f(i,s),a=r(`${as}Delay`),l=r(`${as}Duration`),c=$f(a,l);let u=null,h=0,d=0;e===jn?o>0&&(u=jn,h=o,d=s.length):e===as?c>0&&(u=as,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?jn:as:null,d=u?u===jn?s.length:l.length:0);const f=u===jn&&/\b(transform|all)(,|$)/.test(r(`${jn}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function $f(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Bf(n)+Bf(t[r])))}function Bf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function V_(){return document.body.offsetHeight}function PI(t,e,n){const r=t[Vi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const kI=Symbol("_vod");function xI(t,e,n){const r=t.style,i=He(n);if(n&&!i){if(e&&!He(e))for(const s in e)n[s]==null&&vu(r,s,"");for(const s in n)vu(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),kI in t&&(r.display=s)}}const jf=/\s*!important$/;function vu(t,e,n){if(le(n))n.forEach(r=>vu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=OI(t,e);jf.test(n)?t.setProperty(Wi(r),n.replace(jf,""),"important"):t[r]=n}}const zf=["Webkit","Moz","ms"],Tc={};function OI(t,e){const n=Tc[e];if(n)return n;let r=In(e);if(r!=="filter"&&r in t)return Tc[e]=r;r=pl(r);for(let i=0;i<zf.length;i++){const s=zf[i]+r;if(s in t)return Tc[e]=s}return e}const Hf="http://www.w3.org/1999/xlink";function DI(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Hf,e.slice(6,e.length)):t.setAttributeNS(Hf,e,n);else{const s=M0(e);n==null||s&&!Dg(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function VI(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n==null?"":n;c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Dg(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function NI(t,e,n,r){t.addEventListener(e,n,r)}function MI(t,e,n,r){t.removeEventListener(e,n,r)}const Kf=Symbol("_vei");function LI(t,e,n,r,i=null){const s=t[Kf]||(t[Kf]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=FI(e);if(r){const c=s[e]=$I(r,i);NI(t,a,c,l)}else o&&(MI(t,a,o,l),s[e]=void 0)}}const Wf=/(?:Once|Passive|Capture)$/;function FI(t){let e;if(Wf.test(t)){e={};let r;for(;r=t.match(Wf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Wi(t.slice(2)),e]}let Ic=0;const UI=Promise.resolve(),qI=()=>Ic||(UI.then(()=>Ic=0),Ic=Date.now());function $I(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ht(BI(r,n.value),e,5,[r])};return n.value=t,n.attached=qI(),n}function BI(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Gf=/^on[a-z]/,jI=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?PI(t,r,i):e==="style"?xI(t,n,r):ul(e)?fh(e)||LI(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zI(t,e,r,i))?VI(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),DI(t,e,r,i))};function zI(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Gf.test(e)&&ge(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Gf.test(e)&&He(n)?!1:e in t}const N_=new WeakMap,M_=new WeakMap,Na=Symbol("_moveCb"),Qf=Symbol("_enterCb"),L_={name:"TransitionGroup",props:Je({},SI,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ze(),r=u_();let i,s;return g_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!YI(i[0].el,n.vnode.el,o))return;i.forEach(WI),i.forEach(GI);const a=i.filter(QI);V_(),a.forEach(l=>{const c=l.el,u=c.style;Pn(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[Na]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c[Na]=null,Kn(c,o))};c.addEventListener("transitionend",h)})}),()=>{const o=pe(t),a=O_(o);let l=o.tag||Nt;i=s,s=e.default?Rh(e.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&zs(u,js(u,a,r,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];zs(u,js(u,a,r,n)),N_.set(u,u.el.getBoundingClientRect())}return It(l,null,s)}}},HI=t=>delete t.mode;L_.props;const KI=L_;function WI(t){const e=t.el;e[Na]&&e[Na](),e[Qf]&&e[Qf]()}function GI(t){M_.set(t,t.el.getBoundingClientRect())}function QI(t){const e=N_.get(t),n=M_.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function YI(t,e,n){const r=t.cloneNode(),i=t[Vi];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=D_(r);return s.removeChild(r),o}const JI=["ctrl","shift","alt","meta"],XI={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>JI.some(n=>t[`${n}Key`]&&!e.includes(n))},TM=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=XI[e[i]];if(s&&s(n,e))return}return t(n,...r)},ZI=Je({patchProp:jI},AI);let Yf;function eb(){return Yf||(Yf=ZT(ZI))}const F_=(...t)=>{const e=eb().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=tb(r);if(!i)return;const s=e._component;!ge(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function tb(t){return He(t)?document.querySelector(t):t}function ei(t,e,n,r){return Object.defineProperty(t,e,{get:n,set:r,enumerable:!0}),t}function IM(t,e){for(const n in e)ei(t,n,e[n]);return t}const hr=Ae(!1);let Sl;function nb(t,e){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:e[0]||""}}function rb(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const U_="ontouchstart"in window||window.navigator.maxTouchPoints>0;function ib(t){Sl={is:{...t}},delete t.mac,delete t.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(t,{mobile:!0,ios:!0,platform:e,[e]:!0})}function sb(t){const e=t.toLowerCase(),n=rb(e),r=nb(e,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const s=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return s===!0||e.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||i.mobile===!0&&i.ios!==!0&&s!==!0)&&(i.webkit=!0),i.edg&&(r.browser="edgechromium",i.edgeChromium=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,e.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(window.Capacitor!==void 0?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),U_===!0&&i.mac===!0&&(i.desktop===!0&&i.safari===!0||i.nativeMobile===!0&&i.android!==!0&&i.ios!==!0&&i.ipad!==!0)&&ib(i)),i}const Jf=navigator.userAgent||navigator.vendor||window.opera,ob={has:{touch:!1,webStorage:!1},within:{iframe:!1}},ze={userAgent:Jf,is:sb(Jf),has:{touch:U_},within:{iframe:window.self!==window.top}},yu={install(t){const{$q:e}=t;hr.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,ze),hr.value=!1,Sl=void 0}),e.platform=Zr(this)):e.platform=this}};{let t;ei(ze.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),ze.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),hr.value===!0?Object.assign(yu,ze,Sl,ob):Object.assign(yu,ze)}var Rl=(t,e)=>{const n=Zr(t);for(const r in t)ei(e,r,()=>n[r],i=>{n[r]=i});return e};const Ct={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(Ct,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function Gs(){}function bM(t){return t.button===0}function ab(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function lb(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let n=t.target;for(;n;){if(e.push(n),n.tagName==="HTML")return e.push(document),e.push(window),e;n=n.parentElement}}function Ma(t){t.stopPropagation()}function Jn(t){t.cancelable!==!1&&t.preventDefault()}function jt(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function AM(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const n=e===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",Jn,Ct.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",Jn,Ct.notPassiveCapture)};t.querySelectorAll("a, img").forEach(n)}function cb(t,e,n){const r=`__q_${e}_evt`;t[r]=t[r]!==void 0?t[r].concat(n):n,n.forEach(i=>{i[0].addEventListener(i[1],t[i[2]],Ct[i[3]])})}function ub(t,e){const n=`__q_${e}_evt`;t[n]!==void 0&&(t[n].forEach(r=>{r[0].removeEventListener(r[1],t[r[2]],Ct[r[3]])}),t[n]=void 0)}function q_(t,e=250,n){let r=null;function i(){const s=arguments,o=()=>{r=null,n!==!0&&t.apply(this,s)};r!==null?clearTimeout(r):n===!0&&t.apply(this,s),r=setTimeout(o,e)}return i.cancel=()=>{r!==null&&clearTimeout(r)},i}const bc=["sm","md","lg","xl"],{passive:Xf}=Ct;var hb=Rl({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:Gs,setDebounce:Gs,install({$q:t,onSSRHydrated:e}){if(t.screen=this,this.__installed===!0){t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,r=n||window,i=document.scrollingElement||document.documentElement,s=n===void 0||ze.is.mobile===!0?()=>[Math.max(window.innerWidth,i.clientWidth),Math.max(window.innerHeight,i.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-i.clientWidth,n.height*n.scale+window.innerHeight-i.clientHeight],o=t.config.screen!==void 0&&t.config.screen.bodyClasses===!0;this.__update=h=>{const[d,f]=s();if(f!==this.height&&(this.height=f),d!==this.width)this.width=d;else if(h!==!0)return;let g=this.sizes;this.gt.xs=d>=g.sm,this.gt.sm=d>=g.md,this.gt.md=d>=g.lg,this.gt.lg=d>=g.xl,this.lt.sm=d<g.sm,this.lt.md=d<g.md,this.lt.lg=d<g.lg,this.lt.xl=d<g.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,g=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",g!==this.name&&(o===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${g}`)),this.name=g)};let a,l={},c=16;this.setSizes=h=>{bc.forEach(d=>{h[d]!==void 0&&(l[d]=h[d])})},this.setDebounce=h=>{c=h};const u=()=>{const h=getComputedStyle(document.body);h.getPropertyValue("--q-size-sm")&&bc.forEach(d=>{this.sizes[d]=parseInt(h.getPropertyValue(`--q-size-${d}`),10)}),this.setSizes=d=>{bc.forEach(f=>{d[f]&&(this.sizes[f]=d[f])}),this.__update(!0)},this.setDebounce=d=>{a!==void 0&&r.removeEventListener("resize",a,Xf),a=d>0?q_(this.__update,d):this.__update,r.addEventListener("resize",a,Xf)},this.setDebounce(c),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),o===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};hr.value===!0?e.push(u):u()}});const pt=Rl({isActive:!1,mode:!1},{__media:void 0,set(t){pt.mode=t,t==="auto"?(pt.__media===void 0&&(pt.__media=window.matchMedia("(prefers-color-scheme: dark)"),pt.__updateMedia=()=>{pt.set("auto")},pt.__media.addListener(pt.__updateMedia)),t=pt.__media.matches):pt.__media!==void 0&&(pt.__media.removeListener(pt.__updateMedia),pt.__media=void 0),pt.isActive=t===!0,document.body.classList.remove(`body--${t===!0?"light":"dark"}`),document.body.classList.add(`body--${t===!0?"dark":"light"}`)},toggle(){pt.set(pt.isActive===!1)},install({$q:t,onSSRHydrated:e,ssrContext:n}){const{dark:r}=t.config;if(t.dark=this,this.__installed===!0&&r===void 0)return;this.isActive=r===!0;const i=r!==void 0?r:!1;if(hr.value===!0){const s=a=>{this.__fromSSR=a},o=this.set;this.set=s,s(i),e.push(()=>{this.set=o,this.set(this.__fromSSR)})}else this.set(i)}}),$_=()=>!0;function db(t){return typeof t=="string"&&t!==""&&t!=="/"&&t!=="#/"}function fb(t){return t.startsWith("#")===!0&&(t=t.substring(1)),t.startsWith("/")===!1&&(t="/"+t),t.endsWith("/")===!0&&(t=t.substring(0,t.length-1)),"#"+t}function pb(t){if(t.backButtonExit===!1)return()=>!1;if(t.backButtonExit==="*")return $_;const e=["#/"];return Array.isArray(t.backButtonExit)===!0&&e.push(...t.backButtonExit.filter(db).map(fb)),()=>e.includes(window.location.hash)}var wu={__history:[],add:Gs,remove:Gs,install({$q:t}){if(this.__installed===!0)return;const{cordova:e,capacitor:n}=ze.is;if(e!==!0&&n!==!0)return;const r=t.config[e===!0?"cordova":"capacitor"];if(r!==void 0&&r.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=o=>{o.condition===void 0&&(o.condition=$_),this.__history.push(o)},this.remove=o=>{const a=this.__history.indexOf(o);a>=0&&this.__history.splice(a,1)};const i=pb(Object.assign({backButtonExit:!0},r)),s=()=>{if(this.__history.length){const o=this.__history[this.__history.length-1];o.condition()===!0&&(this.__history.pop(),o.handler())}else i()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",s,!1)}):window.Capacitor.Plugins.App.addListener("backButton",s)}},Zf={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function ep(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,n)=>n===0?e.toLowerCase():n>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const Qt=Rl({__langPack:{}},{getLocale:ep,set(t=Zf,e){const n={...t,rtl:t.rtl===!0,getLocale:ep};{if(n.set=Qt.set,Qt.__langConfig===void 0||Qt.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",n.isoName)}Object.assign(Qt.__langPack,n),Qt.props=n,Qt.isoName=n.isoName,Qt.nativeName=n.nativeName}},install({$q:t,lang:e,ssrContext:n}){t.lang=Qt.__langPack,Qt.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):this.set(e||Zf)}});function mb(t,e,n=document.body){if(typeof t!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${t}`,e)}let B_=!1;function gb(t){B_=t.isComposing===!0}function j_(t){return B_===!0||t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function Qs(t,e){return j_(t)===!0?!1:[].concat(e).includes(t.keyCode)}function z_(t){if(t.ios===!0)return"ios";if(t.android===!0)return"android"}function _b({is:t,has:e,within:n},r){const i=[t.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(t.mobile===!0){const s=z_(t);s!==void 0&&i.push("platform-"+s)}if(t.nativeMobile===!0){const s=t.nativeMobileWrapper;i.push(s),i.push("native-mobile"),t.ios===!0&&(r[s]===void 0||r[s].iosStatusBarPadding!==!1)&&i.push("q-ios-padding")}else t.electron===!0?i.push("electron"):t.bex===!0&&i.push("bex");return n.iframe===!0&&i.push("within-iframe"),i}function vb(){const{is:t}=ze,e=document.body.className,n=new Set(e.replace(/ {2}/g," ").split(" "));if(Sl!==void 0)n.delete("desktop"),n.add("platform-ios"),n.add("mobile");else if(t.nativeMobile!==!0&&t.electron!==!0&&t.bex!==!0){if(t.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(t.mobile===!0){n.delete("desktop"),n.add("mobile");const i=z_(t);i!==void 0?(n.add(`platform-${i}`),n.delete(`platform-${i==="ios"?"android":"ios"}`)):(n.delete("platform-ios"),n.delete("platform-android"))}}ze.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),ze.within.iframe===!0&&n.add("within-iframe");const r=Array.from(n).join(" ");e!==r&&(document.body.className=r)}function yb(t){for(const e in t)mb(e,t[e])}var wb={install(t){if(this.__installed!==!0){if(hr.value===!0)vb();else{const{$q:e}=t;e.config.brand!==void 0&&yb(e.config.brand);const n=_b(ze,e.config);document.body.classList.add.apply(document.body.classList,n)}ze.is.ios===!0&&document.body.addEventListener("touchstart",Gs),window.addEventListener("keydown",gb,!0)}}},H_={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const La=Rl({iconMapFn:null,__icons:{}},{set(t,e){const n={...t,rtl:t.rtl===!0};n.set=La.set,Object.assign(La.__icons,n)},install({$q:t,iconSet:e,ssrContext:n}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__icons,ei(t,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?e!==void 0&&this.set(e):this.set(e||H_)}}),Eb="_q_",SM="_q_l_",RM="_q_pc_",Tb="_q_fo_",CM=()=>{},Fa={};let K_=!1;function Ib(){K_=!0}function Ac(t,e){if(t===e)return!0;if(t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(t.constructor===Array){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(Ac(t[r],e[r])!==!0)return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;let s=t.entries();for(r=s.next();r.done!==!0;){if(e.has(r.value[0])!==!0)return!1;r=s.next()}for(s=t.entries(),r=s.next();r.done!==!0;){if(Ac(r.value[1],e.get(r.value[0]))!==!0)return!1;r=s.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;const s=t.entries();for(r=s.next();r.done!==!0;){if(e.has(r.value[0])!==!0)return!1;r=s.next()}return!0}if(t.buffer!=null&&t.buffer.constructor===ArrayBuffer){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t).filter(s=>t[s]!==void 0);if(n=i.length,n!==Object.keys(e).filter(s=>e[s]!==void 0).length)return!1;for(r=n;r--!==0;){const s=i[r];if(Ac(t[s],e[s])!==!0)return!1}return!0}return t!==t&&e!==e}function fn(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}function PM(t){return Object.prototype.toString.call(t)==="[object Date]"}function kM(t){return typeof t=="number"&&isFinite(t)}const tp=[yu,wb,pt,hb,wu,Qt,La];function W_(t,e){const n=F_(t);n.config.globalProperties=e.config.globalProperties;const{reload:r,...i}=e._context;return Object.assign(n._context,i),n}function np(t,e){e.forEach(n=>{n.install(t),n.__installed=!0})}function bb(t,e,n){t.config.globalProperties.$q=n.$q,t.provide(Eb,n.$q),np(n,tp),e.components!==void 0&&Object.values(e.components).forEach(r=>{fn(r)===!0&&r.name!==void 0&&t.component(r.name,r)}),e.directives!==void 0&&Object.values(e.directives).forEach(r=>{fn(r)===!0&&r.name!==void 0&&t.directive(r.name,r)}),e.plugins!==void 0&&np(n,Object.values(e.plugins).filter(r=>typeof r.install=="function"&&tp.includes(r)===!1)),hr.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(r=>{r()}),n.$q.onSSRHydrated=()=>{}})}var Ab=function(t,e={}){const n={version:"2.14.1"};K_===!1?(e.config!==void 0&&Object.assign(Fa,e.config),n.config={...Fa},Ib()):n.config=e.config||{},bb(t,e,{parentApp:t,$q:n,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},Sb={version:"2.14.1",install:Ab,lang:Qt,iconSet:La},Rb=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const Cb=yl({name:"App"});function Pb(t,e,n,r,i,s){const o=AT("router-view");return Oh(),Dh(o)}var kb=Rb(Cb,[["render",Pb]]);function xM(t){return t}var xb=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let G_;const Cl=t=>G_=t,Q_=Symbol();function Eu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ps;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ps||(Ps={}));function Ob(){const t=Mg(!0),e=t.run(()=>Ae({}));let n=[],r=[];const i=mr({install(s){Cl(i),i._a=s,s.provide(Q_,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!xb?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Y_=()=>{};function rp(t,e,n,r=Y_){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Lg()&&F0(i),i}function hi(t,...e){t.slice().forEach(n=>{n(...e)})}const Db=t=>t();function Tu(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Eu(i)&&Eu(r)&&t.hasOwnProperty(n)&&!$e(r)&&!ir(r)?t[n]=Tu(i,r):t[n]=r}return t}const Vb=Symbol();function Nb(t){return!Eu(t)||!t.hasOwnProperty(Vb)}const{assign:Wn}=Object;function Mb(t){return!!($e(t)&&t.effect)}function Lb(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=cT(n.state.value[t]);return Wn(u,s,Object.keys(o||{}).reduce((h,d)=>(h[d]=mr(R(()=>{Cl(n);const f=n._s.get(t);return o[d].call(f,f)})),h),{}))}return l=J_(t,c,e,n,r,!0),l}function J_(t,e,n={},r,i,s){let o;const a=Wn({actions:{}},n),l={deep:!0};let c,u,h=[],d=[],f;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),Ae({});let w;function y(V){let T;c=u=!1,typeof V=="function"?(V(r.state.value[t]),T={type:Ps.patchFunction,storeId:t,events:f}):(Tu(r.state.value[t],V),T={type:Ps.patchObject,payload:V,storeId:t,events:f});const I=w=Symbol();Pt().then(()=>{w===I&&(c=!0)}),u=!0,hi(h,T,r.state.value[t])}const b=s?function(){const{state:T}=n,I=T?T():{};this.$patch(L=>{Wn(L,I)})}:Y_;function _(){o.stop(),h=[],d=[],r._s.delete(t)}function A(V,T){return function(){Cl(r);const I=Array.from(arguments),L=[],v=[];function z(K){L.push(K)}function S(K){v.push(K)}hi(d,{args:I,name:V,store:F,after:z,onError:S});let Z;try{Z=T.apply(this&&this.$id===t?this:F,I)}catch(K){throw hi(v,K),K}return Z instanceof Promise?Z.then(K=>(hi(L,K),K)).catch(K=>(hi(v,K),Promise.reject(K))):(hi(L,Z),Z)}}const x={_p:r,$id:t,$onAction:rp.bind(null,d),$patch:y,$reset:b,$subscribe(V,T={}){const I=rp(h,V,T.detached,()=>L()),L=o.run(()=>Fe(()=>r.state.value[t],v=>{(T.flush==="sync"?u:c)&&V({storeId:t,type:Ps.direct,events:f},v)},Wn({},l,T)));return I},$dispose:_},F=Zr(x);r._s.set(t,F);const B=(r._a&&r._a.runWithContext||Db)(()=>r._e.run(()=>(o=Mg()).run(e)));for(const V in B){const T=B[V];if($e(T)&&!Mb(T)||ir(T))s||(g&&Nb(T)&&($e(T)?T.value=g[V]:Tu(T,g[V])),r.state.value[t][V]=T);else if(typeof T=="function"){const I=A(V,T);B[V]=I,a.actions[V]=T}}return Wn(F,B),Wn(pe(F),B),Object.defineProperty(F,"$state",{get:()=>r.state.value[t],set:V=>{y(T=>{Wn(T,V)})}}),r._p.forEach(V=>{Wn(F,o.run(()=>V({store:F,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(F.$state,g),c=!0,u=!0,F}function Fb(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const c=WT();return a=a||(c?Lt(Q_,null):null),a&&Cl(a),a=G_,a._s.has(r)||(s?J_(r,e,i,a):Lb(r,i,a)),a._s.get(r)}return o.$id=r,o}var Sc=()=>Ob();/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const gi=typeof window!="undefined";function Ub(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Pe=Object.assign;function Rc(t,e){const n={};for(const r in e){const i=e[r];n[r]=tn(i)?i.map(t):t(i)}return n}const ks=()=>{},tn=Array.isArray,qb=/\/$/,$b=t=>t.replace(qb,"");function Cc(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Hb(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function Bb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ip(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function jb(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Mi(e.matched[r],n.matched[i])&&X_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Mi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function X_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!zb(t[n],e[n]))return!1;return!0}function zb(t,e){return tn(t)?sp(t,e):tn(e)?sp(e,t):t===e}function sp(t,e){return tn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Hb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Ys;(function(t){t.pop="pop",t.push="push"})(Ys||(Ys={}));var xs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xs||(xs={}));function Kb(t){if(!t)if(gi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),$b(t)}const Wb=/^[^#]+#/;function Gb(t,e){return t.replace(Wb,"#")+e}function Qb(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Pl=()=>({left:window.pageXOffset,top:window.pageYOffset});function Yb(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Qb(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function op(t,e){return(history.state?history.state.position-e:-1)+t}const Iu=new Map;function Jb(t,e){Iu.set(t,e)}function Xb(t){const e=Iu.get(t);return Iu.delete(t),e}let Zb=()=>location.protocol+"//"+location.host;function Z_(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),ip(l,"")}return ip(n,t)+r+i}function eA(t,e,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const f=Z_(t,location),g=n.value,w=e.value;let y=0;if(d){if(n.value=f,e.value=d,o&&o===g){o=null;return}y=w?d.position-w.position:0}else r(f);i.forEach(b=>{b(n.value,g,{delta:y,type:Ys.pop,direction:y?y>0?xs.forward:xs.back:xs.unknown})})};function l(){o=n.value}function c(d){i.push(d);const f=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return s.push(f),f}function u(){const{history:d}=window;!d.state||d.replaceState(Pe({},d.state,{scroll:Pl()}),"")}function h(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function ap(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Pl():null}}function tA(t){const{history:e,location:n}=window,r={value:Z_(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Zb()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){const u=Pe({},e.state,ap(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,c){const u=Pe({},i.value,e.state,{forward:l,scroll:Pl()});s(u.current,u,!0);const h=Pe({},ap(r.value,l,null),{position:u.position+1},c);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function nA(t){t=Kb(t);const e=tA(t),n=eA(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Pe({location:"",base:t,go:r,createHref:Gb.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function rA(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),nA(t)}function iA(t){return typeof t=="string"||t&&typeof t=="object"}function ev(t){return typeof t=="string"||typeof t=="symbol"}const zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},tv=Symbol("");var lp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(lp||(lp={}));function Li(t,e){return Pe(new Error,{type:t,[tv]:!0},e)}function Cn(t,e){return t instanceof Error&&tv in t&&(e==null||!!(t.type&e))}const cp="[^/]+?",sA={sensitive:!1,strict:!1,start:!0,end:!0},oA=/[.+*?^${}()[\]/\\]/g;function aA(t,e){const n=Pe({},sA,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(oA,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:w,optional:y,regexp:b}=d;s.push({name:g,repeatable:w,optional:y});const _=b||cp;if(_!==cp){f+=10;try{new RegExp(`(${_})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+x.message)}}let A=w?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(A=y&&c.length<2?`(?:/${A})`:"/"+A),y&&(A+="?"),i+=A,f+=20,y&&(f+=-8),w&&(f+=-20),_===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=s[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:w,optional:y}=f,b=g in c?c[g]:"";if(tn(b)&&!w)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=tn(b)?b.join("/"):b;if(!_)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=_}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function lA(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function cA(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=lA(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(up(r))return 1;if(up(i))return-1}return i.length-r.length}function up(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const uA={type:0,value:""},hA=/[a-zA-Z0-9_]/;function dA(t){if(!t)return[[]];if(t==="/")return[[uA]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function h(){!c||(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:hA.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function fA(t,e,n){const r=aA(dA(t.path),n),i=Pe(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function pA(t,e){const n=[],r=new Map;e=fp({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function s(u,h,d){const f=!d,g=mA(u);g.aliasOf=d&&d.record;const w=fp(e,u),y=[g];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const x of A)y.push(Pe({},g,{components:d?d.record.components:g.components,path:x,aliasOf:d?d.record:g}))}let b,_;for(const A of y){const{path:x}=A;if(h&&x[0]!=="/"){const F=h.record.path,j=F[F.length-1]==="/"?"":"/";A.path=h.record.path+(x&&j+x)}if(b=fA(A,h,w),d?d.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),f&&u.name&&!dp(b)&&o(u.name)),g.children){const F=g.children;for(let j=0;j<F.length;j++)s(F[j],b,d&&d.children[j])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return _?()=>{o(_)}:ks}function o(u){if(ev(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&cA(u,n[h])>=0&&(u.record.path!==n[h].record.path||!nv(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!dp(u)&&r.set(u.record.name,u)}function c(u,h){let d,f={},g,w;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw Li(1,{location:u});w=d.record.name,f=Pe(hp(h.params,d.keys.filter(_=>!_.optional).map(_=>_.name)),u.params&&hp(u.params,d.keys.map(_=>_.name))),g=d.stringify(f)}else if("path"in u)g=u.path,d=n.find(_=>_.re.test(g)),d&&(f=d.parse(g),w=d.record.name);else{if(d=h.name?r.get(h.name):n.find(_=>_.re.test(h.path)),!d)throw Li(1,{location:u,currentLocation:h});w=d.record.name,f=Pe({},h.params,u.params),g=d.stringify(f)}const y=[];let b=d;for(;b;)y.unshift(b.record),b=b.parent;return{name:w,path:g,params:f,matched:y,meta:_A(y)}}return t.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function hp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function mA(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:gA(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function gA(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function dp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _A(t){return t.reduce((e,n)=>Pe(e,n.meta),{})}function fp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function nv(t,e){return e.children.some(n=>n===t||nv(t,n))}const rv=/#/g,vA=/&/g,yA=/\//g,wA=/=/g,EA=/\?/g,iv=/\+/g,TA=/%5B/g,IA=/%5D/g,sv=/%5E/g,bA=/%60/g,ov=/%7B/g,AA=/%7C/g,av=/%7D/g,SA=/%20/g;function Mh(t){return encodeURI(""+t).replace(AA,"|").replace(TA,"[").replace(IA,"]")}function RA(t){return Mh(t).replace(ov,"{").replace(av,"}").replace(sv,"^")}function bu(t){return Mh(t).replace(iv,"%2B").replace(SA,"+").replace(rv,"%23").replace(vA,"%26").replace(bA,"`").replace(ov,"{").replace(av,"}").replace(sv,"^")}function CA(t){return bu(t).replace(wA,"%3D")}function PA(t){return Mh(t).replace(rv,"%23").replace(EA,"%3F")}function kA(t){return t==null?"":PA(t).replace(yA,"%2F")}function Ua(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function xA(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(iv," "),o=s.indexOf("="),a=Ua(o<0?s:s.slice(0,o)),l=o<0?null:Ua(s.slice(o+1));if(a in e){let c=e[a];tn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function pp(t){let e="";for(let n in t){const r=t[n];if(n=CA(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(tn(r)?r.map(s=>s&&bu(s)):[r&&bu(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function OA(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=tn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const DA=Symbol(""),mp=Symbol(""),kl=Symbol(""),Lh=Symbol(""),Au=Symbol("");function ls(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Yn(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Li(4,{from:n,to:e})):h instanceof Error?a(h):iA(h)?a(Li(2,{from:e,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},c=t.call(r&&r.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Pc(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(VA(a)){const c=(a.__vccOpts||a)[e];c&&i.push(Yn(c,n,r,s,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=Ub(c)?c.default:c;s.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&Yn(d,n,r,s,o)()}))}}return i}function VA(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function gp(t){const e=Lt(kl),n=Lt(Lh),r=R(()=>e.resolve(Ur(t.to))),i=R(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Mi.bind(null,u));if(d>-1)return d;const f=_p(l[c-2]);return c>1&&_p(u)===f&&h[h.length-1].path!==f?h.findIndex(Mi.bind(null,l[c-2])):d}),s=R(()=>i.value>-1&&FA(n.params,r.value.params)),o=R(()=>i.value>-1&&i.value===n.matched.length-1&&X_(n.params,r.value.params));function a(l={}){return LA(l)?e[Ur(t.replace)?"replace":"push"](Ur(t.to)).catch(ks):Promise.resolve()}return{route:r,href:R(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const NA=yl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gp,setup(t,{slots:e}){const n=Zr(gp(t)),{options:r}=Lt(kl),i=R(()=>({[vp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[vp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:C("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),MA=NA;function LA(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function FA(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!tn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function _p(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vp=(t,e,n)=>t!=null?t:e!=null?e:n,UA=yl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Lt(Au),i=R(()=>t.route||r.value),s=Lt(mp,0),o=R(()=>{let c=Ur(s);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=R(()=>i.value.matched[o.value]);ma(mp,R(()=>o.value+1)),ma(DA,a),ma(Au,i);const l=Ae();return Fe(()=>[l.value,a.value,t.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Mi(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return yp(n.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=C(d,Pe({},g,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return yp(n.default,{Component:y,route:c})||y}}});function yp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const qA=UA;function $A(t){const e=pA(t.routes,t),n=t.parseQuery||xA,r=t.stringifyQuery||pp,i=t.history,s=ls(),o=ls(),a=ls(),l=oT(zn);let c=zn;gi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Rc.bind(null,P=>""+P),h=Rc.bind(null,kA),d=Rc.bind(null,Ua);function f(P,te){let W,re;return ev(P)?(W=e.getRecordMatcher(P),re=te):re=P,e.addRoute(re,W)}function g(P){const te=e.getRecordMatcher(P);te&&e.removeRoute(te)}function w(){return e.getRoutes().map(P=>P.record)}function y(P){return!!e.getRecordMatcher(P)}function b(P,te){if(te=Pe({},te||l.value),typeof P=="string"){const E=Cc(n,P,te.path),k=e.resolve({path:E.path},te),M=i.createHref(E.fullPath);return Pe(E,k,{params:d(k.params),hash:Ua(E.hash),redirectedFrom:void 0,href:M})}let W;if("path"in P)W=Pe({},P,{path:Cc(n,P.path,te.path).path});else{const E=Pe({},P.params);for(const k in E)E[k]==null&&delete E[k];W=Pe({},P,{params:h(E)}),te.params=h(te.params)}const re=e.resolve(W,te),Ce=P.hash||"";re.params=u(d(re.params));const p=Bb(r,Pe({},P,{hash:RA(Ce),path:re.path})),m=i.createHref(p);return Pe({fullPath:p,hash:Ce,query:r===pp?OA(P.query):P.query||{}},re,{redirectedFrom:void 0,href:m})}function _(P){return typeof P=="string"?Cc(n,P,l.value.path):Pe({},P)}function A(P,te){if(c!==P)return Li(8,{from:te,to:P})}function x(P){return B(P)}function F(P){return x(Pe(_(P),{replace:!0}))}function j(P){const te=P.matched[P.matched.length-1];if(te&&te.redirect){const{redirect:W}=te;let re=typeof W=="function"?W(P):W;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=_(re):{path:re},re.params={}),Pe({query:P.query,hash:P.hash,params:"path"in re?{}:P.params},re)}}function B(P,te){const W=c=b(P),re=l.value,Ce=P.state,p=P.force,m=P.replace===!0,E=j(W);if(E)return B(Pe(_(E),{state:typeof E=="object"?Pe({},Ce,E.state):Ce,force:p,replace:m}),te||W);const k=W;k.redirectedFrom=te;let M;return!p&&jb(r,re,W)&&(M=Li(16,{to:k,from:re}),Se(re,re,!0,!1)),(M?Promise.resolve(M):I(k,re)).catch(q=>Cn(q)?Cn(q,2)?q:ve(q):ee(q,k,re)).then(q=>{if(q){if(Cn(q,2))return B(Pe({replace:m},_(q.to),{state:typeof q.to=="object"?Pe({},Ce,q.to.state):Ce,force:p}),te||k)}else q=v(k,re,!0,m,Ce);return L(k,re,q),q})}function V(P,te){const W=A(P,te);return W?Promise.reject(W):Promise.resolve()}function T(P){const te=nt.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(P):P()}function I(P,te){let W;const[re,Ce,p]=BA(P,te);W=Pc(re.reverse(),"beforeRouteLeave",P,te);for(const E of re)E.leaveGuards.forEach(k=>{W.push(Yn(k,P,te))});const m=V.bind(null,P,te);return W.push(m),ae(W).then(()=>{W=[];for(const E of s.list())W.push(Yn(E,P,te));return W.push(m),ae(W)}).then(()=>{W=Pc(Ce,"beforeRouteUpdate",P,te);for(const E of Ce)E.updateGuards.forEach(k=>{W.push(Yn(k,P,te))});return W.push(m),ae(W)}).then(()=>{W=[];for(const E of p)if(E.beforeEnter)if(tn(E.beforeEnter))for(const k of E.beforeEnter)W.push(Yn(k,P,te));else W.push(Yn(E.beforeEnter,P,te));return W.push(m),ae(W)}).then(()=>(P.matched.forEach(E=>E.enterCallbacks={}),W=Pc(p,"beforeRouteEnter",P,te),W.push(m),ae(W))).then(()=>{W=[];for(const E of o.list())W.push(Yn(E,P,te));return W.push(m),ae(W)}).catch(E=>Cn(E,8)?E:Promise.reject(E))}function L(P,te,W){a.list().forEach(re=>T(()=>re(P,te,W)))}function v(P,te,W,re,Ce){const p=A(P,te);if(p)return p;const m=te===zn,E=gi?history.state:{};W&&(re||m?i.replace(P.fullPath,Pe({scroll:m&&E&&E.scroll},Ce)):i.push(P.fullPath,Ce)),l.value=P,Se(P,te,W,m),ve()}let z;function S(){z||(z=i.listen((P,te,W)=>{if(!ce.listening)return;const re=b(P),Ce=j(re);if(Ce){B(Pe(Ce,{replace:!0}),re).catch(ks);return}c=re;const p=l.value;gi&&Jb(op(p.fullPath,W.delta),Pl()),I(re,p).catch(m=>Cn(m,12)?m:Cn(m,2)?(B(m.to,re).then(E=>{Cn(E,20)&&!W.delta&&W.type===Ys.pop&&i.go(-1,!1)}).catch(ks),Promise.reject()):(W.delta&&i.go(-W.delta,!1),ee(m,re,p))).then(m=>{m=m||v(re,p,!1),m&&(W.delta&&!Cn(m,8)?i.go(-W.delta,!1):W.type===Ys.pop&&Cn(m,20)&&i.go(-1,!1)),L(re,p,m)}).catch(ks)}))}let Z=ls(),K=ls(),O;function ee(P,te,W){ve(P);const re=K.list();return re.length?re.forEach(Ce=>Ce(P,te,W)):console.error(P),Promise.reject(P)}function Ue(){return O&&l.value!==zn?Promise.resolve():new Promise((P,te)=>{Z.add([P,te])})}function ve(P){return O||(O=!P,S(),Z.list().forEach(([te,W])=>P?W(P):te()),Z.reset()),P}function Se(P,te,W,re){const{scrollBehavior:Ce}=t;if(!gi||!Ce)return Promise.resolve();const p=!W&&Xb(op(P.fullPath,0))||(re||!W)&&history.state&&history.state.scroll||null;return Pt().then(()=>Ce(P,te,p)).then(m=>m&&Yb(m)).catch(m=>ee(m,P,te))}const U=P=>i.go(P);let Ie;const nt=new Set,ce={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,hasRoute:y,getRoutes:w,resolve:b,options:t,push:x,replace:F,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:K.add,isReady:Ue,install(P){const te=this;P.component("RouterLink",MA),P.component("RouterView",qA),P.config.globalProperties.$router=te,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Ur(l)}),gi&&!Ie&&l.value===zn&&(Ie=!0,x(i.location).catch(Ce=>{}));const W={};for(const Ce in zn)Object.defineProperty(W,Ce,{get:()=>l.value[Ce],enumerable:!0});P.provide(kl,te),P.provide(Lh,Gg(W)),P.provide(Au,l);const re=P.unmount;nt.add(P),P.unmount=function(){nt.delete(P),nt.size<1&&(c=zn,z&&z(),z=null,l.value=zn,Ie=!1,O=!1),re()}}};function ae(P){return P.reduce((te,W)=>te.then(()=>T(W)),Promise.resolve())}return ce}function BA(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>Mi(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Mi(c,l))||i.push(l))}return[n,r,i]}function OM(){return Lt(kl)}function DM(){return Lt(Lh)}const jA=[{path:"/",component:()=>St(()=>import("./MainLayout.29181138.js"),["assets/MainLayout.29181138.js","assets/QItem.2290178a.js","assets/QDrawer.a6cb990e.js","assets/vue-i18n.runtime.d7d53555.js"]),children:[{name:"index",path:"",component:()=>St(()=>import("./IndexPage.5f29d80e.js"),["assets/IndexPage.5f29d80e.js","assets/IndexPage.faecca09.css","assets/QPage.2af27f98.js"])},{name:"products",path:"products",component:()=>St(()=>import("./ProductsPage.808e4c7b.js"),["assets/ProductsPage.808e4c7b.js","assets/QPage.2af27f98.js","assets/QDrawer.a6cb990e.js","assets/QItem.2290178a.js","assets/SidePanel.d4726d84.js","assets/errortype.9ba1b0bd.js","assets/product-store.14913673.js","assets/vue-i18n.runtime.d7d53555.js","assets/QForm.b82c6802.js","assets/PriceInput.d59ecd38.js","assets/index.0c7b4a53.js","assets/notify-handler.50ef248f.js"]),meta:{requiresAuth:!0}},{name:"providers",path:"providers",component:()=>St(()=>import("./ProvidersPage.d86700c3.js"),["assets/ProvidersPage.d86700c3.js","assets/QPage.2af27f98.js","assets/QDrawer.a6cb990e.js","assets/QItem.2290178a.js","assets/SidePanel.d4726d84.js","assets/errortype.9ba1b0bd.js","assets/provider-store.f11a0bba.js","assets/vue-i18n.runtime.d7d53555.js","assets/QForm.b82c6802.js","assets/index.0c7b4a53.js","assets/notify-handler.50ef248f.js","assets/use-dialog-plugin-component.d13d1f73.js"]),meta:{requiresAuth:!0}},{name:"signin",path:"signin",component:()=>St(()=>import("./SignIn.5a82964c.js"),["assets/SignIn.5a82964c.js","assets/QForm.b82c6802.js","assets/vue-i18n.runtime.d7d53555.js","assets/index.0c7b4a53.js","assets/notify-handler.50ef248f.js"])},{name:"orders",path:"orders",component:()=>St(()=>import("./OrdersPage.dbc8d4a5.js"),["assets/OrdersPage.dbc8d4a5.js","assets/QPage.2af27f98.js","assets/QDrawer.a6cb990e.js","assets/QItem.2290178a.js","assets/SidePanel.d4726d84.js","assets/errortype.9ba1b0bd.js","assets/order-error-handler.f1396989.js","assets/product-store.14913673.js","assets/index.0c7b4a53.js","assets/vue-i18n.runtime.d7d53555.js","assets/provider-store.f11a0bba.js","assets/QForm.b82c6802.js","assets/notify-handler.50ef248f.js","assets/use-dialog-plugin-component.d13d1f73.js"]),meta:{requiresAuth:!0}},{name:"provider-neworder",path:"providers/:providerId/orders/new",component:()=>St(()=>import("./NewOrderPage.5335b206.js"),["assets/NewOrderPage.5335b206.js","assets/QPage.2af27f98.js","assets/provider-store.f11a0bba.js","assets/errortype.9ba1b0bd.js","assets/QItem.2290178a.js","assets/order-error-handler.f1396989.js","assets/product-store.14913673.js","assets/index.0c7b4a53.js","assets/vue-i18n.runtime.d7d53555.js","assets/notify-handler.50ef248f.js","assets/OrderCreation.76929c85.js","assets/QForm.b82c6802.js","assets/PriceInput.d59ecd38.js"]),props:!0,meta:{requiresAuth:!0}},{name:"neworder",path:"orders/new",component:()=>St(()=>import("./NewOrderPage.5335b206.js"),["assets/NewOrderPage.5335b206.js","assets/QPage.2af27f98.js","assets/provider-store.f11a0bba.js","assets/errortype.9ba1b0bd.js","assets/QItem.2290178a.js","assets/order-error-handler.f1396989.js","assets/product-store.14913673.js","assets/index.0c7b4a53.js","assets/vue-i18n.runtime.d7d53555.js","assets/notify-handler.50ef248f.js","assets/OrderCreation.76929c85.js","assets/QForm.b82c6802.js","assets/PriceInput.d59ecd38.js"]),meta:{requiresAuth:!0}},{name:"customers",path:"customers",component:()=>St(()=>import("./CustomersPage.4fafb45c.js"),["assets/CustomersPage.4fafb45c.js","assets/QPage.2af27f98.js","assets/QDrawer.a6cb990e.js","assets/QItem.2290178a.js","assets/SidePanel.d4726d84.js","assets/errortype.9ba1b0bd.js","assets/customer-store.52e0e272.js","assets/vue-i18n.runtime.d7d53555.js","assets/QForm.b82c6802.js","assets/notify-handler.50ef248f.js","assets/use-dialog-plugin-component.d13d1f73.js"]),meta:{requiresAuth:!0}},{name:"sales",path:"sales",component:()=>St(()=>import("./SalesPage.107d12cb.js"),["assets/SalesPage.107d12cb.js","assets/QPage.2af27f98.js","assets/QDrawer.a6cb990e.js","assets/QItem.2290178a.js","assets/SidePanel.d4726d84.js","assets/errortype.9ba1b0bd.js","assets/order-error-handler.f1396989.js","assets/product-store.14913673.js","assets/index.0c7b4a53.js","assets/vue-i18n.runtime.d7d53555.js","assets/customer-store.52e0e272.js","assets/notify-handler.50ef248f.js","assets/use-dialog-plugin-component.d13d1f73.js"]),meta:{requiresAuth:!0}},{name:"customer-newsale",path:"customers/:customerId/sales/new",component:()=>St(()=>import("./NewSalePage.6ba15a3d.js"),["assets/NewSalePage.6ba15a3d.js","assets/QPage.2af27f98.js","assets/customer-store.52e0e272.js","assets/errortype.9ba1b0bd.js","assets/QItem.2290178a.js","assets/order-error-handler.f1396989.js","assets/product-store.14913673.js","assets/index.0c7b4a53.js","assets/vue-i18n.runtime.d7d53555.js","assets/notify-handler.50ef248f.js","assets/OrderCreation.76929c85.js","assets/QForm.b82c6802.js","assets/PriceInput.d59ecd38.js"]),props:!0,meta:{requiresAuth:!0}},{name:"newsale",path:"sales/new",component:()=>St(()=>import("./NewSalePage.6ba15a3d.js"),["assets/NewSalePage.6ba15a3d.js","assets/QPage.2af27f98.js","assets/customer-store.52e0e272.js","assets/errortype.9ba1b0bd.js","assets/QItem.2290178a.js","assets/order-error-handler.f1396989.js","assets/product-store.14913673.js","assets/index.0c7b4a53.js","assets/vue-i18n.runtime.d7d53555.js","assets/notify-handler.50ef248f.js","assets/OrderCreation.76929c85.js","assets/QForm.b82c6802.js","assets/PriceInput.d59ecd38.js"]),meta:{requiresAuth:!0}}]},{path:"/:catchAll(.*)*",component:()=>St(()=>import("./ErrorNotFound.5236169c.js"),[])}];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new HA;const d=s<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(t){const e=lv(t);return cv.encodeByteArray(e,!0)},qa=function(t){return KA(t).replace(/\./g,"")},uv=function(t){try{return cv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>WA().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YA=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uv(t[1]);return e&&JSON.parse(e)},xl=()=>{try{return GA()||QA()||YA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hv=t=>{var e,n;return(n=(e=xl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JA=t=>{const e=hv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dv=()=>{var t;return(t=xl())===null||t===void 0?void 0:t.config},fv=t=>{var e;return(e=xl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qa(JSON.stringify(n)),qa(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function tS(){var t;const e=(t=xl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rS(){const t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iS(){return!tS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fh(){try{return typeof indexedDB=="object"}catch{return!1}}function mv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function sS(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="FirebaseError";class ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oS,Object.setPrototypeOf(this,ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}}class ti{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aS(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ln(i,a,r)}}function aS(t,e){return t.replace(lS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lS=/\{\$([^}]+)}/g;function cS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(wp(s)&&wp(o)){if(!Js(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _s(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uS(t,e){const n=new hS(t,e);return n.subscribe.bind(n)}class hS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dS(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kc),i.error===void 0&&(i.error=kc),i.complete===void 0&&(i.complete=kc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kc(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=1e3,pS=2,mS=4*60*60*1e3,gS=.5;function Ep(t,e=fS,n=pS){const r=e*Math.pow(n,t),i=Math.round(gS*r*(Math.random()-.5)*2);return Math.min(mS,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class nn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yS(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(t){return t===Ar?void 0:t}function yS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _S(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const ES={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},TS=Ee.INFO,IS={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},bS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ol{constructor(e){this.name=e,this._logLevel=TS,this._logHandler=bS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ES[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const AS=(t,e)=>e.some(n=>t instanceof n);let Tp,Ip;function SS(){return Tp||(Tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return Ip||(Ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gv=new WeakMap,Su=new WeakMap,_v=new WeakMap,xc=new WeakMap,Uh=new WeakMap;function CS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gv.set(n,t)}).catch(()=>{}),Uh.set(e,t),e}function PS(t){if(Su.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Su.set(t,e)}let Ru={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Su.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_v.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kS(t){Ru=t(Ru)}function xS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Oc(this),e,...n);return _v.set(r,e.sort?e.sort():[e]),or(r)}:RS().includes(t)?function(...e){return t.apply(Oc(this),e),or(gv.get(this))}:function(...e){return or(t.apply(Oc(this),e))}}function OS(t){return typeof t=="function"?xS(t):(t instanceof IDBTransaction&&PS(t),AS(t,SS())?new Proxy(t,Ru):t)}function or(t){if(t instanceof IDBRequest)return CS(t);if(xc.has(t))return xc.get(t);const e=OS(t);return e!==t&&(xc.set(t,e),Uh.set(e,t)),e}const Oc=t=>Uh.get(t);function vv(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=or(o);return r&&o.addEventListener("upgradeneeded",l=>{r(or(o.result),l.oldVersion,l.newVersion,or(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const DS=["get","getKey","getAll","getAllKeys","count"],VS=["put","add","delete","clear"],Dc=new Map;function bp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dc.get(e))return Dc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DS.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Dc.set(e,s),s}kS(t=>({...t,get:(e,n,r)=>bp(e,n)||t.get(e,n,r),has:(e,n)=>!!bp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cu="@firebase/app",Ap="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Ol("@firebase/app"),LS="@firebase/app-compat",FS="@firebase/analytics-compat",US="@firebase/analytics",qS="@firebase/app-check-compat",$S="@firebase/app-check",BS="@firebase/auth",jS="@firebase/auth-compat",zS="@firebase/database",HS="@firebase/database-compat",KS="@firebase/functions",WS="@firebase/functions-compat",GS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",JS="@firebase/messaging-compat",XS="@firebase/performance",ZS="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",rR="@firebase/storage-compat",iR="@firebase/firestore",sR="@firebase/firestore-compat",oR="firebase",aR="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="[DEFAULT]",lR={[Cu]:"fire-core",[LS]:"fire-core-compat",[US]:"fire-analytics",[FS]:"fire-analytics-compat",[$S]:"fire-app-check",[qS]:"fire-app-check-compat",[BS]:"fire-auth",[jS]:"fire-auth-compat",[zS]:"fire-rtdb",[HS]:"fire-rtdb-compat",[KS]:"fire-fn",[WS]:"fire-fn-compat",[GS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[JS]:"fire-fcm-compat",[XS]:"fire-perf",[ZS]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[rR]:"fire-gcs-compat",[iR]:"fire-fst",[sR]:"fire-fst-compat","fire-js":"fire-js",[oR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,cR=new Map,ku=new Map;function Sp(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bn(t){const e=t.name;if(ku.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;ku.set(e,t);for(const n of $a.values())Sp(n,t);for(const n of cR.values())Sp(n,t);return!0}function ni(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},ar=new ti("app","Firebase",uR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=aR;function yv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ar.create("bad-app-name",{appName:String(i)});if(n||(n=dv()),!n)throw ar.create("no-options");const s=$a.get(i);if(s){if(Js(n,s.options)&&Js(r,s.config))return s;throw ar.create("duplicate-app",{appName:i})}const o=new wS(i);for(const l of ku.values())o.addComponent(l);const a=new hR(n,r,o);return $a.set(i,a),a}function qh(t=Pu){const e=$a.get(t);if(!e&&t===Pu&&dv())return yv();if(!e)throw ar.create("no-app",{appName:t});return e}function Wt(t,e,n){var r;let i=(r=lR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(a.join(" "));return}bn(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebase-heartbeat-database",fR=1,Xs="firebase-heartbeat-store";let Vc=null;function wv(){return Vc||(Vc=vv(dR,fR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xs)}catch(n){console.warn(n)}}}}).catch(t=>{throw ar.create("idb-open",{originalErrorMessage:t.message})})),Vc}async function pR(t){try{const n=(await wv()).transaction(Xs),r=await n.objectStore(Xs).get(Ev(t));return await n.done,r}catch(e){if(e instanceof ln)Hr.warn(e.message);else{const n=ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function Rp(t,e){try{const r=(await wv()).transaction(Xs,"readwrite");await r.objectStore(Xs).put(e,Ev(t)),await r.done}catch(n){if(n instanceof ln)Hr.warn(n.message);else{const r=ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function Ev(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=1024,gR=30*24*60*60*1e3;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=gR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cp(),{heartbeatsToSend:r,unsentEntries:i}=vR(this._heartbeatsCache.heartbeats),s=qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Cp(){return new Date().toISOString().substring(0,10)}function vR(t,e=mR){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fh()?mv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pp(t){return qa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){bn(new nn("platform-logger",e=>new NS(e),"PRIVATE")),bn(new nn("heartbeat",e=>new _R(e),"PRIVATE")),Wt(Cu,Ap,t),Wt(Cu,Ap,"esm2017"),Wt("fire-js","")}wR("");var ER="firebase",TR="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt(ER,TR,"app");const Tv="@firebase/installations",$h="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=1e4,bv=`w:${$h}`,Av="FIS_v2",IR="https://firebaseinstallations.googleapis.com/v1",bR=60*60*1e3,AR="installations",SR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Kr=new ti(AR,SR,RR);function Sv(t){return t instanceof ln&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv({projectId:t}){return`${IR}/projects/${t}/installations`}function Cv(t){return{token:t.token,requestStatus:2,expiresIn:PR(t.expiresIn),creationTime:Date.now()}}async function Pv(t,e){const r=(await e.json()).error;return Kr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kv({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CR(t,{refreshToken:e}){const n=kv(t);return n.append("Authorization",kR(e)),n}async function xv(t){const e=await t();return e.status>=500&&e.status<600?t():e}function PR(t){return Number(t.replace("s","000"))}function kR(t){return`${Av} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Rv(t),i=kv(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Av,appId:t.appId,sdkVersion:bv},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await xv(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Cv(c.authToken)}}else throw await Pv("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^[cdef][\w-]{21}$/,xu="";function VR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=NR(t);return DR.test(n)?n:xu}catch{return xu}}function NR(t){return OR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Vv(t,e){const n=Dl(t);Nv(n,e),MR(n,e)}function Nv(t,e){const n=Dv.get(t);if(!!n)for(const r of n)r(e)}function MR(t,e){const n=LR();n&&n.postMessage({key:t,fid:e}),FR()}let xr=null;function LR(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=t=>{Nv(t.data.key,t.data.fid)}),xr}function FR(){Dv.size===0&&xr&&(xr.close(),xr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firebase-installations-database",qR=1,Wr="firebase-installations-store";let Nc=null;function Bh(){return Nc||(Nc=vv(UR,qR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wr)}}})),Nc}async function Ba(t,e){const n=Dl(t),i=(await Bh()).transaction(Wr,"readwrite"),s=i.objectStore(Wr),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Vv(t,e.fid),e}async function Mv(t){const e=Dl(t),r=(await Bh()).transaction(Wr,"readwrite");await r.objectStore(Wr).delete(e),await r.done}async function Vl(t,e){const n=Dl(t),i=(await Bh()).transaction(Wr,"readwrite"),s=i.objectStore(Wr),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Vv(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){let e;const n=await Vl(t.appConfig,r=>{const i=$R(r),s=BR(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===xu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $R(t){const e=t||{fid:VR(),registrationStatus:0};return Lv(e)}function BR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Kr.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=jR(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zR(t)}:{installationEntry:e}}async function jR(t,e){try{const n=await xR(t,e);return Ba(t.appConfig,n)}catch(n){throw Sv(n)&&n.customData.serverCode===409?await Mv(t.appConfig):await Ba(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function zR(t){let e=await kp(t.appConfig);for(;e.registrationStatus===1;)await Ov(100),e=await kp(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jh(t);return r||n}return e}function kp(t){return Vl(t,e=>{if(!e)throw Kr.create("installation-not-found");return Lv(e)})}function Lv(t){return HR(t)?{fid:t.fid,registrationStatus:0}:t}function HR(t){return t.registrationStatus===1&&t.registrationTime+Iv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR({appConfig:t,heartbeatServiceProvider:e},n){const r=WR(t,n),i=CR(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:bv,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await xv(()=>fetch(r,a));if(l.ok){const c=await l.json();return Cv(c)}else throw await Pv("Generate Auth Token",l)}function WR(t,{fid:e}){return`${Rv(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t,e=!1){let n;const r=await Vl(t.appConfig,s=>{if(!Fv(s))throw Kr.create("not-registered");const o=s.authToken;if(!e&&YR(o))return s;if(o.requestStatus===1)return n=GR(t,e),s;{if(!navigator.onLine)throw Kr.create("app-offline");const a=XR(s);return n=QR(t,a),a}});return n?await n:r.authToken}async function GR(t,e){let n=await xp(t.appConfig);for(;n.authToken.requestStatus===1;)await Ov(100),n=await xp(t.appConfig);const r=n.authToken;return r.requestStatus===0?zh(t,e):r}function xp(t){return Vl(t,e=>{if(!Fv(e))throw Kr.create("not-registered");const n=e.authToken;return ZR(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function QR(t,e){try{const n=await KR(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ba(t.appConfig,r),n}catch(n){if(Sv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Mv(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ba(t.appConfig,r)}throw n}}function Fv(t){return t!==void 0&&t.registrationStatus===2}function YR(t){return t.requestStatus===2&&!JR(t)}function JR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bR}function XR(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ZR(t){return t.requestStatus===1&&t.requestTime+Iv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t){const e=t,{installationEntry:n,registrationPromise:r}=await jh(e);return r?r.catch(console.error):zh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(t,e=!1){const n=t;return await nC(n),(await zh(n,e)).token}async function nC(t){const{registrationPromise:e}=await jh(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){if(!t||!t.options)throw Mc("App Configuration");if(!t.name)throw Mc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Mc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Mc(t){return Kr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="installations",iC="installations-internal",sC=t=>{const e=t.getProvider("app").getImmediate(),n=rC(e),r=ni(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oC=t=>{const e=t.getProvider("app").getImmediate(),n=ni(e,Uv).getImmediate();return{getId:()=>eC(n),getToken:i=>tC(n,i)}};function aC(){bn(new nn(Uv,sC,"PUBLIC")),bn(new nn(iC,oC,"PRIVATE"))}aC();Wt(Tv,$h);Wt(Tv,$h,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="analytics",lC="firebase_id",cC="origin",uC=60*1e3,hC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt=new Ol("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ft=new ti("analytics","Analytics",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){if(!t.startsWith(Hh)){const e=Ft.create("invalid-gtag-resource",{gtagURL:t});return xt.warn(e.message),""}return t}function qv(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pC(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function mC(t,e){const n=pC("firebase-js-sdk-policy",{createScriptURL:fC}),r=document.createElement("script"),i=`${Hh}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function gC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _C(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await qv(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){xt.error(a)}t("config",i,s)}async function vC(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await qv(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){xt.error(s)}}function yC(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await vC(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await _C(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){xt.error(a)}}return i}function wC(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=yC(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function EC(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Hh)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=30,IC=1e3;class bC{constructor(e={},n=IC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $v=new bC;function AC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function SC(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:AC(r)},s=hC.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ft.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function RC(t,e=$v,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ft.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ft.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kC;return setTimeout(async()=>{a.abort()},n!==void 0?n:uC),Bv({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Bv(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=$v){var s;const{appId:o,measurementId:a}=t;try{await CC(r,e)}catch(l){if(a)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await SC(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!PC(c)){if(i.deleteThrottleMetadata(o),a)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Ep(n,i.intervalMillis,TC):Ep(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,h),xt.debug(`Calling attemptFetch again in ${u} millis`),Bv(t,h,r,i)}}function CC(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ft.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PC(t){if(!(t instanceof ln)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class kC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xC(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(){if(Fh())try{await mv()}catch(t){return xt.warn(Ft.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return xt.warn(Ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DC(t,e,n,r,i,s,o){var a;const l=RC(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(l);const c=OC().then(f=>{if(f)return r.getId()}),[u,h]=await Promise.all([l,c]);EC(s)||mC(s,u.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[cC]="firebase",d.update=!0,h!=null&&(d[lC]=h),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.app=e}_delete(){return delete Os[this.app.options.appId],Promise.resolve()}}let Os={},Op=[];const Dp={};let Lc="dataLayer",NC="gtag",Vp,jv,Np=!1;function MC(){const t=[];if(pv()&&t.push("This is a browser extension environment."),sS()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ft.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}function LC(t,e,n){MC();const r=t.options.appId;if(!r)throw Ft.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ft.create("no-api-key");if(Os[r]!=null)throw Ft.create("already-exists",{id:r});if(!Np){gC(Lc);const{wrappedGtag:s,gtagCore:o}=wC(Os,Op,Dp,Lc,NC);jv=s,Vp=o,Np=!0}return Os[r]=DC(t,Op,Dp,e,Vp,Lc,n),new VC(t)}function FC(t=qh()){t=Be(t);const e=ni(t,ja);return e.isInitialized()?e.getImmediate():UC(t)}function UC(t,e={}){const n=ni(t,ja);if(n.isInitialized()){const i=n.getImmediate();if(Js(e,n.getOptions()))return i;throw Ft.create("already-initialized")}return n.initialize({options:e})}function qC(t,e,n,r){t=Be(t),xC(jv,Os[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}const Mp="@firebase/analytics",Lp="0.10.2";function $C(){bn(new nn(ja,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return LC(r,i,n)},"PUBLIC")),bn(new nn("analytics-internal",t,"PRIVATE")),Wt(Mp,Lp),Wt(Mp,Lp,"esm2017");function t(e){try{const n=e.getProvider(ja).getImmediate();return{logEvent:(r,i,s)=>qC(n,r,i,s)}}catch(n){throw Ft.create("interop-component-reg-failed",{reason:n})}}}$C();function Kh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zv(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BC=zv,Hv=new ti("auth","Firebase",zv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Ol("@firebase/auth");function jC(t,...e){za.logLevel<=Ee.WARN&&za.warn(`Auth (${Ji}): ${t}`,...e)}function _a(t,...e){za.logLevel<=Ee.ERROR&&za.error(`Auth (${Ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,...e){throw Wh(t,...e)}function vn(t,...e){return Wh(t,...e)}function Kv(t,e,n){const r=Object.assign(Object.assign({},BC()),{[e]:n});return new ti("auth","Firebase",r).create(e,{appName:t.name})}function Mn(t){return Kv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Hv.create(t,...e)}function ue(t,e,...n){if(!t)throw Wh(e,...n)}function xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _a(e),new Error(e)}function Ln(t,e){t||xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zC(){return Fp()==="http:"||Fp()==="https:"}function Fp(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zC()||pv()||"connection"in navigator)?navigator.onLine:!0}function KC(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ln(n>e,"Short delay should be less than long delay!"),this.isMobile=eS()||nS()}get(){return HC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t,e){Ln(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new yo(3e4,6e4);function gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _r(t,e,n,r,i={}){return Gv(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Wv.fetch()(Qv(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Gv(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WC),e);try{const i=new YC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xo(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xo(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Kv(t,u,c);rn(t,u)}}catch(i){if(i instanceof ln)throw i;rn(t,"network-request-failed",{message:String(i)})}}async function wo(t,e,n,r,i={}){const s=await _r(t,e,n,r,i);return"mfaPendingCredential"in s&&rn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Qv(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Gh(t.config,i):`${t.config.apiScheme}://${i}`}function QC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vn(this.auth,"network-request-failed")),GC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vn(t,e,r);return i.customData._tokenResponse=n,i}function Up(t){return t!==void 0&&t.enterprise!==void 0}class JC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function XC(t,e){return _r(t,"GET","/v2/recaptchaConfig",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(t,e){return _r(t,"POST","/v1/accounts:delete",e)}async function Yv(t,e){return _r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eP(t,e=!1){const n=Be(t),r=await n.getIdToken(e),i=Qh(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ds(Fc(i.auth_time)),issuedAtTime:Ds(Fc(i.iat)),expirationTime:Ds(Fc(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fc(t){return Number(t)*1e3}function Qh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _a("JWT malformed, contained fewer than 3 sections"),null;try{const i=uv(n);return i?JSON.parse(i):(_a("Failed to decode base64 JWT payload"),null)}catch(i){return _a("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qp(t){const e=Qh(t);return ue(e,"internal-error"),ue(typeof e.exp!="undefined","internal-error"),ue(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ln&&tP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ds(this.lastLoginAt),this.creationTime=Ds(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zs(t,Yv(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Jv(s.providerUserInfo):[],a=iP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Du(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function rP(t){const e=Be(t);await Ha(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Jv(t){return t.map(e=>{var{providerId:n}=e,r=Kh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t,e){const n=await Gv(t,{},async()=>{const r=vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Qv(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wv.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oP(t,e){return _r(t,"POST","/v2/accounts:revokeToken",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken!="undefined","internal-error"),ue(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):qp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=qp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Si;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Si,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,e){ue(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Du(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eP(this,e)}reload(){return rP(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ha(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(Mn(this.auth));const e=await this.getIdToken();return await Zs(this,ZC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:A,emailVerified:x,isAnonymous:F,providerData:j,stsTokenManager:B}=n;ue(A&&B,e,"internal-error");const V=Si.fromJSON(this.name,B);ue(typeof A=="string",e,"internal-error"),Hn(h,e.name),Hn(d,e.name),ue(typeof x=="boolean",e,"internal-error"),ue(typeof F=="boolean",e,"internal-error"),Hn(f,e.name),Hn(g,e.name),Hn(w,e.name),Hn(y,e.name),Hn(b,e.name),Hn(_,e.name);const T=new On({uid:A,auth:e,email:d,emailVerified:x,displayName:h,isAnonymous:F,photoURL:g,phoneNumber:f,tenantId:w,stsTokenManager:V,createdAt:b,lastLoginAt:_});return j&&Array.isArray(j)&&(T.providerData=j.map(I=>Object.assign({},I))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Si;i.updateFromServerResponse(n);const s=new On({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ha(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Jv(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Si;a.updateFromIdToken(r);const l=new On({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Du(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new Map;function Dn(t){Ln(t instanceof Function,"Expected a class definition");let e=$p.get(t);return e?(Ln(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$p.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xv.type="NONE";const Bp=Xv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e,n){return`firebase:${t}:${e}:${n}`}class Ri{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=va(this.userKey,i.apiKey,s),this.fullPersistenceKey=va("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?On._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ri(Dn(Bp),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Dn(Bp);const o=va(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=On._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ri(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ri(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ty(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ry(e))return"Blackberry";if(iy(e))return"Webos";if(Yh(e))return"Safari";if((e.includes("chrome/")||ey(e))&&!e.includes("edge/"))return"Chrome";if(ny(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zv(t=Xe()){return/firefox\//i.test(t)}function Yh(t=Xe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ey(t=Xe()){return/crios\//i.test(t)}function ty(t=Xe()){return/iemobile/i.test(t)}function ny(t=Xe()){return/android/i.test(t)}function ry(t=Xe()){return/blackberry/i.test(t)}function iy(t=Xe()){return/webos/i.test(t)}function Nl(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aP(t=Xe()){var e;return Nl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lP(){return rS()&&document.documentMode===10}function sy(t=Xe()){return Nl(t)||ny(t)||iy(t)||ry(t)||/windows phone/i.test(t)||ty(t)}function cP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e=[]){let n;switch(t){case"Browser":n=jp(Xe());break;case"Worker":n=`${jp(Xe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ji}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e={}){return _r(t,"GET","/v2/passwordPolicy",gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=6;class fP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zp(this),this.idTokenSubscription=new zp(this),this.beforeStateQueue=new uP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ri.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yv(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ha(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(Mn(this));const n=e?Be(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(Mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(Mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hP(this),n=new fP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ri.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ri(t){return Be(t)}class zp{constructor(e){this.auth=e,this.observer=null,this.addObserver=uS(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mP(t){Ml=t}function ay(t){return Ml.loadJS(t)}function gP(){return Ml.recaptchaEnterpriseScript}function _P(){return Ml.gapiScript}function vP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const yP="recaptcha-enterprise",wP="NO_RECAPTCHA";class EP{constructor(e){this.type=yP,this.auth=ri(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{XC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new JC(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Up(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(wP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Up(window.grecaptcha))i(a,s,o);else{if(typeof window=="undefined"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gP();l.length!==0&&(l+=a),ay(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Hp(t,e,n,r=!1){const i=new EP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Vu(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Hp(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Hp(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){const n=ni(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Js(s,e!=null?e:{}))return i;rn(i,"already-initialized")}return n.initialize({options:e})}function IP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bP(t,e,n){const r=ri(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ly(e),{host:o,port:a}=AP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SP()}function ly(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AP(t){const e=ly(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Kp(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Kp(o)}}}function Kp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,n){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}}async function RP(t,e){return _r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e){return wo(t,"POST","/v1/accounts:signInWithPassword",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return wo(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}async function kP(t,e){return wo(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Jh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new eo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vu(e,n,"signInWithPassword",CP);case"emailLink":return PP(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vu(e,r,"signUpPassword",RP);case"emailLink":return kP(e,{idToken:n,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ci(t,e){return wo(t,"POST","/v1/accounts:signInWithIdp",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="http://localhost";class Gr extends Jh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Kh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ci(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ci(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ci(e,n)}buildRequest(){const e={requestUri:xP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DP(t){const e=_s(vs(t)).link,n=e?_s(vs(e)).deep_link_id:null,r=_s(vs(t)).deep_link_id;return(r?_s(vs(r)).link:null)||r||n||e||t}class Xh{constructor(e){var n,r,i,s,o,a;const l=_s(vs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=OP((i=l.mode)!==null&&i!==void 0?i:null);ue(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=DP(e);try{return new Xh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.providerId=Xi.PROVIDER_ID}static credential(e,n){return eo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xh.parseLink(n);return ue(r,"argument-error"),eo._fromEmailAndCode(e,r.code,r.tenantId)}}Xi.PROVIDER_ID="password";Xi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends cy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends Eo{constructor(){super("facebook.com")}static credential(e){return Gr._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xn.credential(e.oauthAccessToken)}catch{return null}}}Xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Eo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gr._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zn.credential(n,r)}catch{return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Eo{constructor(){super("github.com")}static credential(e){return Gr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Eo{constructor(){super("twitter.com")}static credential(e,n){return Gr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){return wo(t,"POST","/v1/accounts:signUp",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await On._fromIdTokenResponse(e,r,i),o=Wp(r);return new Qr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Wp(r);return new Qr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Wp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends ln{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ka.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ka(e,n,r,i)}}function uy(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ka._fromErrorAndOperation(t,s,e,r):s})}async function NP(t,e,n=!1){const r=await Zs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e,n=!1){const{auth:r}=t;if(mn(r.app))return Promise.reject(Mn(r));const i="reauthenticate";try{const s=await Zs(t,uy(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=Qh(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Qr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&rn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hy(t,e,n=!1){if(mn(t.app))return Promise.reject(Mn(t));const r="signIn",i=await uy(t,r,e),s=await Qr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function LP(t,e){return hy(ri(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dy(t){const e=ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FP(t,e,n){if(mn(t.app))return Promise.reject(Mn(t));const r=ri(t),o=await Vu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dy(t),l}),a=await Qr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function UP(t,e,n){return mn(t.app)?Promise.reject(Mn(t)):LP(Be(t),Xi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dy(t),r})}function qP(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function $P(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function BP(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function jP(t){return Be(t).signOut()}const Wa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wa,"1"),this.storage.removeItem(Wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){const t=Xe();return Yh(t)||Nl(t)}const HP=1e3,KP=10;class py extends fy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zP()&&cP(),this.fallbackToPolling=sy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);lP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}py.type="LOCAL";const WP=py;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends fy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}my.type="SESSION";const gy=my;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ll(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await GP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ll.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Zh("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function YP(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){return typeof yn().WorkerGlobalScope!="undefined"&&typeof yn().importScripts=="function"}async function JP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZP(){return _y()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="firebaseLocalStorageDb",ek=1,Ga="firebaseLocalStorage",yy="fbase_key";class To{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fl(t,e){return t.transaction([Ga],e?"readwrite":"readonly").objectStore(Ga)}function tk(){const t=indexedDB.deleteDatabase(vy);return new To(t).toPromise()}function Nu(){const t=indexedDB.open(vy,ek);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ga,{keyPath:yy})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ga)?e(r):(r.close(),await tk(),e(await Nu()))})})}async function Gp(t,e,n){const r=Fl(t,!0).put({[yy]:e,value:n});return new To(r).toPromise()}async function nk(t,e){const n=Fl(t,!1).get(e),r=await new To(n).toPromise();return r===void 0?null:r.value}function Qp(t,e){const n=Fl(t,!0).delete(e);return new To(n).toPromise()}const rk=800,ik=3;class wy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ik)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _y()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ll._getInstance(ZP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await JP(),!this.activeServiceWorker)return;this.sender=new QP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nu();return await Gp(e,Wa,"1"),await Qp(e,Wa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gp(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qp(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fl(i,!1).getAll();return new To(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wy.type="LOCAL";const sk=wy;new yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){return e?Dn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Jh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ci(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ci(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ak(t){return hy(t.auth,new ed(t),t.bypassAuthState)}function lk(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),MP(n,new ed(t),t.bypassAuthState)}async function ck(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),NP(n,new ed(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return ck;case"reauthViaPopup":case"reauthViaRedirect":return lk;default:rn(this.auth,"internal-error")}}resolve(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new yo(2e3,1e4);class Ei extends Ey{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Ln(this.filter.length===1,"Popup operations only handle one event");const e=Zh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uk.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="pendingRedirect",ya=new Map;class dk extends Ey{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ya.get(this.auth._key());if(!e){try{const r=await fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ya.set(this.auth._key(),e)}return this.bypassAuthState||ya.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fk(t,e){const n=gk(e),r=mk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pk(t,e){ya.set(t._key(),e)}function mk(t){return Dn(t._redirectPersistence)}function gk(t){return va(hk,t.config.apiKey,t.name)}async function _k(t,e,n=!1){if(mn(t.app))return Promise.reject(Mn(t));const r=ri(t),i=ok(r,e),o=await new dk(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=10*60*1e3;class yk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ty(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yp(e))}saveEventToCache(e){this.cachedEventUids.add(Yp(e)),this.lastProcessedEventTime=Date.now()}}function Yp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ty({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ty(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e={}){return _r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ik=/^https?/;async function bk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ek(t);for(const n of e)try{if(Ak(n))return}catch{}rn(t,"unauthorized-domain")}function Ak(t){const e=Ou(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ik.test(n))return!1;if(Tk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new yo(3e4,6e4);function Jp(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rk(t){return new Promise((e,n)=>{var r,i,s;function o(){Jp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jp(),n(vn(t,"network-request-failed"))},timeout:Sk.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yn().gapi)===null||s===void 0)&&s.load)o();else{const a=vP("iframefcb");return yn()[a]=()=>{gapi.load?o():n(vn(t,"network-request-failed"))},ay(`${_P()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wa=null,e})}let wa=null;function Ck(t){return wa=wa||Rk(t),wa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new yo(5e3,15e3),kk="__/auth/iframe",xk="emulator/auth/iframe",Ok={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vk(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gh(e,xk):`https://${t.config.authDomain}/${kk}`,r={apiKey:e.apiKey,appName:t.name,v:Ji},i=Dk.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vo(r).slice(1)}`}async function Nk(t){const e=await Ck(t),n=yn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:Vk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ok,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),a=yn().setTimeout(()=>{s(o)},Pk.get());function l(){yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lk=500,Fk=600,Uk="_blank",qk="http://localhost";class Xp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $k(t,e,n,r=Lk,i=Fk){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Mk),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Xe().toLowerCase();n&&(a=ey(c)?Uk:n),Zv(c)&&(e=e||qk,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,g])=>`${d}${f}=${g},`,"");if(aP(c)&&a!=="_self")return Bk(e||"",a),new Xp(null);const h=window.open(e||"",a,u);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new Xp(h)}function Bk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="__/auth/handler",zk="emulator/auth/handler",Hk=encodeURIComponent("fac");async function Zp(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ji,eventId:i};if(e instanceof cy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof Eo){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Hk}=${encodeURIComponent(l)}`:"";return`${Kk(t)}?${vo(a).slice(1)}${c}`}function Kk({config:t}){return t.emulator?Gh(t,zk):`https://${t.authDomain}/${jk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc="webStorageSupport";class Wk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gy,this._completeRedirectFn=_k,this._overrideRedirectResult=pk}async _openPopup(e,n,r,i){var s;Ln((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Zp(e,n,r,Ou(),i);return $k(e,o,Zh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Zp(e,n,r,Ou(),i);return YP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ln(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nk(e),r=new yk(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uc,{type:Uc},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Uc];o!==void 0&&n(!!o),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sy()||Yh()||Nl()}}const Gk=Wk;var em="@firebase/auth",tm="1.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jk(t){bn(new nn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oy(t)},c=new pP(r,i,s,l);return IP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bn(new nn("auth-internal",e=>{const n=ri(e.getProvider("auth").getImmediate());return(r=>new Qk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(em,tm,Yk(t)),Wt(em,tm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=5*60,Zk=fv("authIdTokenMaxAge")||Xk;let nm=null;const ex=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zk)return;const i=n==null?void 0:n.token;nm!==i&&(nm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tx(t=qh()){const e=ni(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TP(t,{popupRedirectResolver:Gk,persistence:[sk,WP,gy]}),r=fv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=ex(s.toString());$P(n,o,()=>o(n.currentUser)),qP(n,a=>o(a))}}const i=hv("auth");return i&&bP(n,`http://${i}`),n}function nx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jk("Browser");var rx=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Y,td=td||{},de=rx||self;function Ul(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Io(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ix(t){return Object.prototype.hasOwnProperty.call(t,qc)&&t[qc]||(t[qc]=++sx)}var qc="closure_uid_"+(1e9*Math.random()>>>0),sx=0;function ox(t,e,n){return t.call.apply(t.bind,arguments)}function ax(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vt=ox:vt=ax,vt.apply(null,arguments)}function Zo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vr(){this.s=this.s,this.o=this.o}var lx=0;vr.prototype.s=!1;vr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),lx!=0)&&ix(this)};vr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Iy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function nd(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rm(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ul(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var cx=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};de.addEventListener("test",n,e),de.removeEventListener("test",n,e)}catch{}return t}();function to(t){return/^[\s\xa0]*$/.test(t)}function ql(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function pn(t){return ql().indexOf(t)!=-1}function rd(t){return rd[" "](t),t}rd[" "]=function(){};function ux(t,e){var n=n1;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var hx=pn("Opera"),Fi=pn("Trident")||pn("MSIE"),by=pn("Edge"),Mu=by||Fi,Ay=pn("Gecko")&&!(ql().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge"))&&!(pn("Trident")||pn("MSIE"))&&!pn("Edge"),dx=ql().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge");function Sy(){var t=de.document;return t?t.documentMode:void 0}var Lu;e:{var $c="",Bc=function(){var t=ql();if(Ay)return/rv:([^\);]+)(\)|;)/.exec(t);if(by)return/Edge\/([\d\.]+)/.exec(t);if(Fi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dx)return/WebKit\/(\S+)/.exec(t);if(hx)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Bc&&($c=Bc?Bc[1]:""),Fi){var jc=Sy();if(jc!=null&&jc>parseFloat($c)){Lu=String(jc);break e}}Lu=$c}var Fu;if(de.document&&Fi){var im=Sy();Fu=im||parseInt(Lu,10)||void 0}else Fu=void 0;var fx=Fu;function no(t,e){if(yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ay){e:{try{rd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:px[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&no.$.h.call(this)}}ot(no,yt);var px={2:"touch",3:"pen",4:"mouse"};no.prototype.h=function(){no.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bo="closure_listenable_"+(1e6*Math.random()|0),mx=0;function gx(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++mx,this.fa=this.ia=!1}function $l(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function id(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _x(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ry(t){const e={};for(const n in t)e[n]=t[n];return e}const sm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cy(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<sm.length;s++)n=sm[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bl(t){this.src=t,this.g={},this.h=0}Bl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=qu(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new gx(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Uu(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Iy(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($l(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function qu(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var sd="closure_lm_"+(1e6*Math.random()|0),zc={};function Py(t,e,n,r,i){if(r&&r.once)return xy(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Py(t,e[s],n,r,i);return null}return n=ld(n),t&&t[bo]?t.O(e,n,Io(r)?!!r.capture:!!r,i):ky(t,e,n,!1,r,i)}function ky(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Io(i)?!!i.capture:!!i,a=ad(t);if(a||(t[sd]=a=new Bl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=vx(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cx||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Dy(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vx(){function t(n){return e.call(t.src,t.listener,n)}const e=yx;return t}function xy(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xy(t,e[s],n,r,i);return null}return n=ld(n),t&&t[bo]?t.P(e,n,Io(r)?!!r.capture:!!r,i):ky(t,e,n,!0,r,i)}function Oy(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Oy(t,e[s],n,r,i);else r=Io(r)?!!r.capture:!!r,n=ld(n),t&&t[bo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=qu(s,n,r,i),-1<n&&($l(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ad(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qu(e,n,r,i)),(n=-1<t?e[t]:null)&&od(n))}function od(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bo])Uu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Dy(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ad(e))?(Uu(n,t),n.h==0&&(n.src=null,e[sd]=null)):$l(t)}}}function Dy(t){return t in zc?zc[t]:zc[t]="on"+t}function yx(t,e){if(t.fa)t=!0;else{e=new no(e,this);var n=t.listener,r=t.la||t.src;t.ia&&od(t),t=n.call(r,e)}return t}function ad(t){return t=t[sd],t instanceof Bl?t:null}var Hc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ld(t){return typeof t=="function"?t:(t[Hc]||(t[Hc]=function(e){return t.handleEvent(e)}),t[Hc])}function st(){vr.call(this),this.i=new Bl(this),this.S=this,this.J=null}ot(st,vr);st.prototype[bo]=!0;st.prototype.removeEventListener=function(t,e,n,r){Oy(this,t,e,n,r)};function ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new yt(e,t);else if(e instanceof yt)e.target=e.target||t;else{var i=e;e=new yt(r,t),Cy(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ea(o,r,!0,e)&&i}if(o=e.g=t,i=ea(o,r,!0,e)&&i,i=ea(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ea(o,r,!1,e)&&i}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$l(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ea(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Uu(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var cd=de.JSON.stringify;class wx{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ex(){var t=ud;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Tx{constructor(){this.h=this.g=null}add(e,n){const r=Vy.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Vy=new wx(()=>new Ix,t=>t.reset());class Ix{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bx(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ax(t){de.setTimeout(()=>{throw t},0)}let ro,io=!1,ud=new Tx,Ny=()=>{const t=de.Promise.resolve(void 0);ro=()=>{t.then(Sx)}};var Sx=()=>{for(var t;t=Ex();){try{t.h.call(t.g)}catch(n){Ax(n)}var e=Vy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}io=!1};function jl(t,e){st.call(this),this.h=t||1,this.g=e||de,this.j=vt(this.qb,this),this.l=Date.now()}ot(jl,st);Y=jl.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(hd(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function hd(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){jl.$.N.call(this),hd(this),delete this.g};function dd(t,e,n){if(typeof t=="function")n&&(t=vt(t,n));else if(t&&typeof t.handleEvent=="function")t=vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function My(t){t.g=dd(()=>{t.g=null,t.i&&(t.i=!1,My(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Rx extends vr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:My(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(t){vr.call(this),this.h=t,this.g={}}ot(so,vr);var om=[];function Ly(t,e,n,r){Array.isArray(n)||(n&&(om[0]=n.toString()),n=om);for(var i=0;i<n.length;i++){var s=Py(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Fy(t){id(t.g,function(e,n){this.g.hasOwnProperty(n)&&od(e)},t),t.g={}}so.prototype.N=function(){so.$.N.call(this),Fy(this)};so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zl(){this.g=!0}zl.prototype.Ea=function(){this.g=!1};function Cx(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Px(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ti(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+xx(t,n)+(r?" "+r:"")})}function kx(t,e){t.info(function(){return"TIMEOUT: "+e})}zl.prototype.info=function(){};function xx(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return cd(n)}catch{return e}}var ii={},am=null;function Hl(){return am=am||new st}ii.Ta="serverreachability";function Uy(t){yt.call(this,ii.Ta,t)}ot(Uy,yt);function oo(t){const e=Hl();ht(e,new Uy(e))}ii.STAT_EVENT="statevent";function qy(t,e){yt.call(this,ii.STAT_EVENT,t),this.stat=e}ot(qy,yt);function bt(t){const e=Hl();ht(e,new qy(e,t))}ii.Ua="timingevent";function $y(t,e){yt.call(this,ii.Ua,t),this.size=e}ot($y,yt);function Ao(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var Kl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},By={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fd(){}fd.prototype.h=null;function lm(t){return t.h||(t.h=t.i())}function jy(){}var So={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pd(){yt.call(this,"d")}ot(pd,yt);function md(){yt.call(this,"c")}ot(md,yt);var $u;function Wl(){}ot(Wl,fd);Wl.prototype.g=function(){return new XMLHttpRequest};Wl.prototype.i=function(){return{}};$u=new Wl;function Ro(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new so(this),this.P=Ox,t=Mu?125:void 0,this.V=new jl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zy}function zy(){this.i=null,this.g="",this.h=!1}var Ox=45e3,Hy={},Bu={};Y=Ro.prototype;Y.setTimeout=function(t){this.P=t};function ju(t,e,n){t.L=1,t.A=Ql(Fn(e)),t.u=n,t.S=!0,Ky(t,null)}function Ky(t,e){t.G=Date.now(),Co(t),t.B=Fn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ew(n.i,"t",r),t.o=0,n=t.l.J,t.h=new zy,t.g=Ew(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Rx(vt(t.Pa,t,t.g),t.O)),Ly(t.U,t.g,"readystatechange",t.nb),e=t.I?Ry(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),oo(),Cx(t.j,t.v,t.B,t.m,t.W,t.u)}Y.nb=function(t){t=t.target;const e=this.M;e&&gn(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const u=gn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Mu||this.g&&(this.h.h||this.g.ja()||dm(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?oo(3):oo(2)),Gl(this);var n=this.g.da();this.ca=n;t:if(Wy(this)){var r=dm(this.g);t="";var i=r.length,s=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Or(this),Vs(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Px(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!to(a)){var c=a;break t}}c=null}if(n=c)Ti(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zu(this,n);else{this.i=!1,this.s=3,bt(12),Or(this),Vs(this);break e}}this.S?(Gy(this,u,o),Mu&&this.i&&u==3&&(Ly(this.U,this.V,"tick",this.mb),this.V.start())):(Ti(this.j,this.m,o,null),zu(this,o)),u==4&&Or(this),this.i&&!this.J&&(u==4?_w(this.l,this):(this.i=!1,Co(this)))}else Zx(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Or(this),Vs(this)}}}catch{}finally{}};function Wy(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Gy(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Dx(t,n),i==Bu){e==4&&(t.s=4,bt(14),r=!1),Ti(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Hy){t.s=4,bt(15),Ti(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ti(t.j,t.m,i,null),zu(t,i);Wy(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,bt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ed(e),e.M=!0,bt(11))):(Ti(t.j,t.m,n,"[Invalid Chunked Response]"),Or(t),Vs(t))}Y.mb=function(){if(this.g){var t=gn(this.g),e=this.g.ja();this.o<e.length&&(Gl(this),Gy(this,t,e),this.i&&t!=4&&Co(this))}};function Dx(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Bu:(n=Number(e.substring(n,r)),isNaN(n)?Hy:(r+=1,r+n>e.length?Bu:(e=e.slice(r,r+n),t.o=r+n,e)))}Y.cancel=function(){this.J=!0,Or(this)};function Co(t){t.Y=Date.now()+t.P,Qy(t,t.P)}function Qy(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ao(vt(t.lb,t),e)}function Gl(t){t.C&&(de.clearTimeout(t.C),t.C=null)}Y.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(kx(this.j,this.B),this.L!=2&&(oo(),bt(17)),Or(this),this.s=2,Vs(this)):Qy(this,this.Y-t)};function Vs(t){t.l.H==0||t.J||_w(t.l,t)}function Or(t){Gl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,hd(t.V),Fy(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zu(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Hu(n.i,t))){if(!t.K&&Hu(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ja(n),Zl(n);else break e;wd(n),bt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ao(vt(n.ib,n),6e3));if(1>=rw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Dr(n,11)}else if((t.K||n.g==t)&&Ja(n),!to(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(gd(s,s.h),s.h=null))}if(r.F){const w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Me(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ww(r,r.J?r.pa:null,r.Y),o.K){iw(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Gl(a),Co(a)),r.g=o}else mw(r);0<n.j.length&&ec(n)}else c[0]!="stop"&&c[0]!="close"||Dr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Dr(n,7):yd(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}oo(4)}catch{}}function Vx(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map!="undefined"&&t instanceof Map||typeof Set!="undefined"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ul(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Nx(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map!="undefined"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set!="undefined"&&t instanceof Set)){if(Ul(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Yy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ul(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Nx(t),r=Vx(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Jy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mx(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $r(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $r){this.h=t.h,Qa(this,t.j),this.s=t.s,this.g=t.g,Ya(this,t.m),this.l=t.l;var e=t.i,n=new ao;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),cm(this,n),this.o=t.o}else t&&(e=String(t).match(Jy))?(this.h=!1,Qa(this,e[1]||"",!0),this.s=ys(e[2]||""),this.g=ys(e[3]||"",!0),Ya(this,e[4]),this.l=ys(e[5]||"",!0),cm(this,e[6]||"",!0),this.o=ys(e[7]||"")):(this.h=!1,this.i=new ao(null,this.h))}$r.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ws(e,um,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ws(e,um,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ws(n,n.charAt(0)=="/"?Ux:Fx,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ws(n,$x)),t.join("")};function Fn(t){return new $r(t)}function Qa(t,e,n){t.j=n?ys(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ya(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cm(t,e,n){e instanceof ao?(t.i=e,Bx(t.i,t.h)):(n||(e=ws(e,qx)),t.i=new ao(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function Ql(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ys(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ws(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Lx),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lx(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var um=/[#\/\?@]/g,Fx=/[#\?:]/g,Ux=/[#\?]/g,qx=/[#\?@]/g,$x=/#/g;function ao(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yr(t){t.g||(t.g=new Map,t.h=0,t.i&&Mx(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=ao.prototype;Y.add=function(t,e){yr(this),this.i=null,t=Zi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Xy(t,e){yr(t),e=Zi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Zy(t,e){return yr(t),e=Zi(t,e),t.g.has(e)}Y.forEach=function(t,e){yr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){yr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Y.Z=function(t){yr(this);let e=[];if(typeof t=="string")Zy(this,t)&&(e=e.concat(this.g.get(Zi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return yr(this),this.i=null,t=Zi(this,t),Zy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ew(t,e,n){Xy(t,e),0<n.length&&(t.i=null,t.g.set(Zi(t,e),nd(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Zi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Bx(t,e){e&&!t.j&&(yr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Xy(this,r),ew(this,i,n))},t)),t.j=e}var jx=class{constructor(t,e){this.g=t,this.map=e}};function tw(t){this.l=t||zx,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zx=10;function nw(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rw(t){return t.h?1:t.g?t.g.size:0}function Hu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function gd(t,e){t.g?t.g.add(e):t.h=e}function iw(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tw.prototype.cancel=function(){if(this.i=sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function sw(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return nd(t.i)}var Hx=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function Kx(){this.g=new Hx}function Wx(t,e,n){const r=n||"";try{Yy(t,function(i,s){let o=i;Io(i)&&(o=cd(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gx(t,e){const n=new zl;if(de.Image){const r=new Image;r.onload=Zo(ta,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zo(ta,n,r,"TestLoadImage: error",!1,e),r.onabort=Zo(ta,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zo(ta,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ta(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Yl(t){this.l=t.ec||null,this.j=t.ob||!1}ot(Yl,fd);Yl.prototype.g=function(){return new Jl(this.l,this.j)};Yl.prototype.i=function(t){return function(){return t}}({});function Jl(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_d,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(Jl,st);var _d=0;Y=Jl.prototype;Y.open=function(t,e){if(this.readyState!=_d)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lo(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Po(this)),this.readyState=_d};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ow(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ow(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Po(this):lo(this),this.readyState==3&&ow(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Po(this))};Y.Ya=function(t){this.g&&(this.response=t,Po(this))};Y.ka=function(){this.g&&Po(this)};function Po(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lo(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Qx=de.JSON.parse;function je(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aw,this.L=this.M=!1}ot(je,st);var aw="",Yx=/^https?$/i,Jx=["POST","PUT"];Y=je.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$u.g(),this.C=this.u?lm(this.u):lm($u),this.g.onreadystatechange=vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){hm(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=Iy(Jx,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uw(this),0<this.B&&((this.L=Xx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.ua,this)):this.A=dd(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hm(this,s)}};function Xx(t){return Fi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof td!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function hm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lw(t),Xl(t)}function lw(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),Xl(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xl(this,!0)),je.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?cw(this):this.kb())};Y.kb=function(){cw(this)};function cw(t){if(t.h&&typeof td!="undefined"&&(!t.C[1]||gn(t)!=4||t.da()!=2)){if(t.v&&gn(t)==4)dd(t.La,0,t);else if(ht(t,"readystatechange"),gn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Jy)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!Yx.test(i?i.toLowerCase():"")}n=r}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var s=2<gn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",lw(t)}}finally{Xl(t)}}}}function Xl(t,e){if(t.g){uw(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function uw(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function gn(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Qx(e)}};function dm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case aw:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Zx(t){const e={};t=(t.g&&2<=gn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(to(t[r]))continue;var n=bx(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}_x(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hw(t){let e="";return id(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function vd(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hw(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Me(t,e,n))}function cs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dw(t){this.Ga=0,this.j=[],this.l=new zl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cs("baseRetryDelayMs",5e3,t),this.hb=cs("retryDelaySeedMs",1e4,t),this.eb=cs("forwardChannelMaxRetries",2,t),this.xa=cs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new tw(t&&t.concurrentRequestLimit),this.Ja=new Kx,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=dw.prototype;Y.ra=8;Y.H=1;function yd(t){if(fw(t),t.H==3){var e=t.W++,n=Fn(t.I);if(Me(n,"SID",t.K),Me(n,"RID",e),Me(n,"TYPE","terminate"),ko(t,n),e=new Ro(t,t.l,e),e.L=2,e.A=Ql(Fn(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.A,n=!0),n||(e.g=Ew(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Co(e)}yw(t)}function Zl(t){t.g&&(Ed(t),t.g.cancel(),t.g=null)}function fw(t){Zl(t),t.u&&(de.clearTimeout(t.u),t.u=null),Ja(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function ec(t){if(!nw(t.i)&&!t.m){t.m=!0;var e=t.Na;ro||Ny(),io||(ro(),io=!0),ud.add(e,t),t.C=0}}function e1(t,e){return rw(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ao(vt(t.Na,t,e),vw(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ro(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Ry(s),Cy(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pw(this,i,e),n=Fn(this.I),Me(n,"RID",t),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),ko(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(hw(s)))+"&"+e:this.o&&vd(n,this.o,s)),gd(this.i,i),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",e),Me(n,"SID","null"),i.aa=!0,ju(i,n,null)):ju(i,n,e),this.H=2}}else this.H==3&&(t?fm(this,t):this.j.length==0||nw(this.i)||fm(this))};function fm(t,e){var n;e?n=e.m:n=t.W++;const r=Fn(t.I);Me(r,"SID",t.K),Me(r,"RID",n),Me(r,"AID",t.V),ko(t,r),t.o&&t.s&&vd(r,t.o,t.s),n=new Ro(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=pw(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gd(t.i,n),ju(n,r,e)}function ko(t,e){t.na&&id(t.na,function(n,r){Me(e,r,n)}),t.h&&Yy({},function(n,r){Me(e,r,n)})}function pw(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Wx(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function mw(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ro||Ny(),io||(ro(),io=!0),ud.add(e,t),t.A=0}}function wd(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ao(vt(t.Ma,t),vw(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,gw(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ao(vt(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bt(10),Zl(this),gw(this))};function Ed(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function gw(t){t.g=new Ro(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fn(t.wa);Me(e,"RID","rpc"),Me(e,"SID",t.K),Me(e,"AID",t.V),Me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Me(e,"TO",t.qa),Me(e,"TYPE","xmlhttp"),ko(t,e),t.o&&t.s&&vd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ql(Fn(e)),n.u=null,n.S=!0,Ky(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Zl(this),wd(this),bt(19))};function Ja(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function _w(t,e){var n=null;if(t.g==e){Ja(t),Ed(t),t.g=null;var r=2}else if(Hu(t.i,e))n=e.F,iw(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Hl(),ht(r,new $y(r,n)),ec(t)}else mw(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&e1(t,e)||r==2&&wd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Dr(t,5);break;case 4:Dr(t,10);break;case 3:Dr(t,6);break;default:Dr(t,2)}}}function vw(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Dr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=vt(t.pb,t);n||(n=new $r("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||Qa(n,"https"),Ql(n)),Gx(n.toString(),r)}else bt(2);t.H=0,t.h&&t.h.za(e),yw(t),fw(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bt(2)):(this.l.info("Failed to ping google.com"),bt(1))};function yw(t){if(t.H=0,t.ma=[],t.h){const e=sw(t.i);(e.length!=0||t.j.length!=0)&&(rm(t.ma,e),rm(t.ma,t.j),t.i.i.length=0,nd(t.j),t.j.length=0),t.h.ya()}}function ww(t,e,n){var r=n instanceof $r?Fn(n):new $r(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ya(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $r(null);r&&Qa(s,r),e&&(s.g=e),i&&Ya(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Me(r,n,e),Me(r,"VER",t.ra),ko(t,r),r}function Ew(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new je(new Yl({ob:n})):new je(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function Tw(){}Y=Tw.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function Xa(){if(Fi&&!(10<=Number(fx)))throw Error("Environmental error: no available transport.")}Xa.prototype.g=function(t,e){return new qt(t,e)};function qt(t,e){st.call(this),this.g=new dw(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!to(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!to(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new es(this)}ot(qt,st);qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ww(t,null,t.Y),ec(t)};qt.prototype.close=function(){yd(this.g)};qt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=cd(t),t=n);e.j.push(new jx(e.fb++,t)),e.H==3&&ec(e)};qt.prototype.N=function(){this.g.h=null,delete this.j,yd(this.g),delete this.g,qt.$.N.call(this)};function Iw(t){pd.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ot(Iw,pd);function bw(){md.call(this),this.status=1}ot(bw,md);function es(t){this.g=t}ot(es,Tw);es.prototype.Ba=function(){ht(this.g,"a")};es.prototype.Aa=function(t){ht(this.g,new Iw(t))};es.prototype.za=function(t){ht(this.g,new bw)};es.prototype.ya=function(){ht(this.g,"b")};function t1(){this.blockSize=-1}function sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ot(sn,t1);sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Kc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Kc(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Kc(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Kc(this,r),i=0;break}}this.h=i,this.i+=e};sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ke(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var n1={};function Td(t){return-128<=t&&128>t?ux(t,function(e){return new ke([e|0],0>e?-1:0)}):new ke([t|0],0>t?-1:0)}function _n(t){if(isNaN(t)||!isFinite(t))return Pi;if(0>t)return ct(_n(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ku;return new ke(e,0)}function Aw(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ct(Aw(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_n(Math.pow(e,8)),r=Pi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=_n(Math.pow(e,s)),r=r.R(s).add(_n(o))):(r=r.R(n),r=r.add(_n(o)))}return r}var Ku=4294967296,Pi=Td(0),Wu=Td(1),pm=Td(16777216);Y=ke.prototype;Y.ea=function(){if(zt(this))return-ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ku+r)*e,e*=Ku}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Vn(this))return"0";if(zt(this))return"-"+ct(this).toString(t);for(var e=_n(Math.pow(t,6)),n=this,r="";;){var i=el(n,e).g;n=Za(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Vn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Vn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zt(t){return t.h==-1}Y.X=function(t){return t=Za(this,t),zt(t)?-1:Vn(t)?0:1};function ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ke(n,~t.h).add(Wu)}Y.abs=function(){return zt(this)?ct(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ke(n,n[n.length-1]&-2147483648?-1:0)};function Za(t,e){return t.add(ct(e))}Y.R=function(t){if(Vn(this)||Vn(t))return Pi;if(zt(this))return zt(t)?ct(this).R(ct(t)):ct(ct(this).R(t));if(zt(t))return ct(this.R(ct(t)));if(0>this.X(pm)&&0>t.X(pm))return _n(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,na(n,2*r+2*i),n[2*r+2*i+1]+=s*l,na(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,na(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,na(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ke(n,0)};function na(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function us(t,e){this.g=t,this.h=e}function el(t,e){if(Vn(e))throw Error("division by zero");if(Vn(t))return new us(Pi,Pi);if(zt(t))return e=el(ct(t),e),new us(ct(e.g),ct(e.h));if(zt(e))return e=el(t,ct(e)),new us(ct(e.g),e.h);if(30<t.g.length){if(zt(t)||zt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wu,r=e;0>=r.X(t);)n=mm(n),r=mm(r);var i=di(n,1),s=di(r,1);for(r=di(r,2),n=di(n,2);!Vn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=di(r,1),n=di(n,1)}return e=Za(t,i.R(e)),new us(i,e)}for(i=Pi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=_n(n),o=s.R(e);zt(o)||0<o.X(t);)n-=r,s=_n(n),o=s.R(e);Vn(s)&&(s=Wu),i=i.add(s),t=Za(t,o)}return new us(i,t)}Y.gb=function(t){return el(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ke(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ke(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ke(n,this.h^t.h)};function mm(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ke(n,t.h)}function di(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ke(i,t.h)}Xa.prototype.createWebChannel=Xa.prototype.g;qt.prototype.send=qt.prototype.u;qt.prototype.open=qt.prototype.m;qt.prototype.close=qt.prototype.close;Kl.NO_ERROR=0;Kl.TIMEOUT=8;Kl.HTTP_ERROR=6;By.COMPLETE="complete";jy.EventType=So;So.OPEN="a";So.CLOSE="b";So.ERROR="c";So.MESSAGE="d";st.prototype.listen=st.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;sn.prototype.digest=sn.prototype.l;sn.prototype.reset=sn.prototype.reset;sn.prototype.update=sn.prototype.j;ke.prototype.add=ke.prototype.add;ke.prototype.multiply=ke.prototype.R;ke.prototype.modulo=ke.prototype.gb;ke.prototype.compare=ke.prototype.X;ke.prototype.toNumber=ke.prototype.ea;ke.prototype.toString=ke.prototype.toString;ke.prototype.getBits=ke.prototype.D;ke.fromNumber=_n;ke.fromString=Aw;var r1=function(){return new Xa},i1=function(){return Hl()},Wc=Kl,s1=By,o1=ii,gm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ra=jy,a1=je,l1=sn,ki=ke;const _m="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts="10.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Ol("@firebase/firestore");function hs(){return Yr.logLevel}function Q(t,...e){if(Yr.logLevel<=Ee.DEBUG){const n=e.map(Id);Yr.debug(`Firestore (${ts}): ${t}`,...n)}}function An(t,...e){if(Yr.logLevel<=Ee.ERROR){const n=e.map(Id);Yr.error(`Firestore (${ts}): ${t}`,...n)}}function Ui(t,...e){if(Yr.logLevel<=Ee.WARN){const n=e.map(Id);Yr.warn(`Firestore (${ts}): ${t}`,...n)}}function Id(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${ts}) INTERNAL ASSERTION FAILED: `+t;throw An(e),new Error(e)}function De(t,e){t||he()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class u1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h1{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Sw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new mt(e)}}class d1{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class f1{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new d1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new p1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=g1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function qi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new tt(0,0))}static max(){return new fe(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return co.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends co{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const _1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends co{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return _1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Le.fromString(e))}static fromName(e){return new ie(Le.fromString(e).popFirst(5))}static empty(){return new ie(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Le(e.slice()))}}function v1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new dr(i,ie.empty(),e)}function y1(t){return new dr(t.readTime,t.key,-1)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(fe.min(),ie.empty(),-1)}static max(){return new dr(fe.max(),ie.empty(),-1)}}function w1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==E1)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new wn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ns(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Ad(r.target.error);this.V.reject(new Ns(e,i))}}static open(e,n,r,i){try{return new bd(n,e.transaction(i,r))}catch(s){throw new Ns(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new b1(n)}}class Vr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Vr.S(Xe())===12.2&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),Pr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Fh())return!1;if(Vr.C())return!0;const e=Xe(),n=Vr.S(e),r=0<n&&n<10,i=Vr.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process!="undefined"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Ns(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new J(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ns(e,o))},i.onupgradeneeded=s=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=bd.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),N.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class I1{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Pr(this.k.delete())}}class Ns extends J{constructor(e,n){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Oo(t){return t.name==="IndexedDbTransactionError"}class b1{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pr(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),Pr(this.store.add(e))}get(e){return Pr(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),Pr(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),Pr(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new N((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new N((r,i)=>{n.onerror=s=>{const o=Ad(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new I1(a),c=n(a.primaryKey,a.value,l);if(c instanceof N){const u=c.catch(h=>(l.done(),N.reject(h)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>N.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Pr(t){return new N((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Ad(r.target.error);n(i)}})}let vm=!1;function Ad(t){const e=Vr.S(Xe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vm||(vm=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Sd._e=-1;function tc(t){return t==null}function tl(t){return t===0&&1/t==-1/0}function A1(t){return typeof t=="number"&&Number.isInteger(t)&&!tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Cw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ia(this.root,e,this.comparator,!0)}}class ia{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:lt.RED,this.left=i!=null?i:lt.EMPTY,this.right=s!=null?s:lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wm(this.data.getIterator())}getIteratorFrom(e){return new wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class wm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Mt([])}unionWith(e){let n=new dt(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException!="undefined"&&s instanceof DOMException?new Pw("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const S1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(De(!!t),typeof t=="string"){let e=0;const n=S1.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cd(t){const e=t.mapValue.fields.__previous_value__;return Rd(e)?Cd(e):e}function uo(t){const e=fr(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ho{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rd(t)?4:C1(t)?9007199254740991:10:he()}function Sn(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uo(t).isEqual(uo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fr(i.timestampValue),a=fr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Jr(i.bytesValue).isEqual(Jr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?tl(o)===tl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qi(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ym(o)!==ym(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Sn(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function fo(t,e){return(t.values||[]).find(n=>Sn(n,e))!==void 0}function $i(t,e){if(t===e)return 0;const n=Xr(t),r=Xr(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Em(t.timestampValue,e.timestampValue);case 4:return Em(uo(t),uo(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Jr(s),l=Jr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Re(Qe(s.latitude),Qe(o.latitude));return a!==0?a:Re(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=$i(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===sa.mapValue&&o===sa.mapValue)return 0;if(s===sa.mapValue)return 1;if(o===sa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Re(l[h],u[h]);if(d!==0)return d;const f=$i(a[l[h]],c[u[h]]);if(f!==0)return f}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function Em(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=fr(t),r=fr(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function Bi(t){return Gu(t)}function Gu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Gu(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Gu(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function Tm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qu(t){return!!t&&"integerValue"in t}function Pd(t){return!!t&&"arrayValue"in t}function Im(t){return!!t&&"nullValue"in t}function bm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ea(t){return!!t&&"mapValue"in t}function Ms(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ms(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ms(t.arrayValue.values[n]);return e}return Object.assign({},t)}function C1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ea(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ms(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ms(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ea(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ea(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(Ms(this.value))}}function kw(t){const e=[];return si(t.fields,(n,r)=>{const i=new ut([n]);if(Ea(r)){const s=kw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gt(e,0,fe.min(),fe.min(),fe.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new gt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new gt(e,2,n,fe.min(),fe.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,fe.min(),fe.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.position=e,this.inclusive=n}}function Am(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=$i(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function P1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class Ye extends xw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x1(e,n,r):n==="array-contains"?new V1(e,r):n==="in"?new N1(e,r):n==="not-in"?new M1(e,r):n==="array-contains-any"?new L1(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O1(e,r):new D1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($i(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison($i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends xw{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new on(e,n)}matches(e){return Ow(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ow(t){return t.op==="and"}function Dw(t){return k1(t)&&Ow(t)}function k1(t){for(const e of t.filters)if(e instanceof on)return!1;return!0}function Yu(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Bi(t.value);if(Dw(t))return t.filters.map(e=>Yu(e)).join(",");{const e=t.filters.map(n=>Yu(n)).join(",");return`${t.op}(${e})`}}function Vw(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Sn(r.value,i.value)}(t,e):t instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Vw(o,i.filters[a]),!0):!1}(t,e):void he()}function Nw(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Bi(n.value)}`}(t):t instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(Nw).join(" ,")+"}"}(t):"Filter"}class x1 extends Ye{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class O1 extends Ye{constructor(e,n){super(e,"in",n),this.keys=Mw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D1 extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=Mw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class V1 extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pd(n)&&fo(n.arrayValue,this.value)}}class N1 extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fo(this.value.arrayValue,n)}}class M1 extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fo(this.value.arrayValue,n)}}class L1 extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Rm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new F1(t,e,n,r,i,s,o)}function kd(t){const e=_e(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bi(r)).join(",")),e.ce=n}return e.ce}function xd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!P1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sm(t.startAt,e.startAt)&&Sm(t.endAt,e.endAt)}function Ju(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function U1(t,e,n,r,i,s,o,a){return new Do(t,e,n,r,i,s,o,a)}function Od(t){return new Do(t)}function Cm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lw(t){return t.collectionGroup!==null}function Ls(t){const e=_e(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new rl(s,r))}),n.has(ut.keyField().canonicalString())||e.le.push(new rl(ut.keyField(),r))}return e.le}function En(t){const e=_e(t);return e.he||(e.he=q1(e,Ls(t))),e.he}function q1(t,e){if(t.limitType==="F")return Rm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rl(i.field,s)});const n=t.endAt?new nl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nl(t.startAt.position,t.startAt.inclusive):null;return Rm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xu(t,e){const n=t.filters.concat([e]);return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zu(t,e,n){return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nc(t,e){return xd(En(t),En(e))&&t.limitType===e.limitType}function Fw(t){return`${kd(En(t))}|lt:${t.limitType}`}function _i(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Nw(i)).join(", ")}]`),tc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bi(i)).join(",")),`Target(${r})`}(En(t))}; limitType=${t.limitType})`}function rc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ls(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Am(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ls(r),i)||r.endAt&&!function(o,a,l){const c=Am(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ls(r),i))}(t,e)}function $1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uw(t){return(e,n)=>{let r=!1;for(const i of Ls(t)){const s=B1(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function B1(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?$i(l,c):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Cw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new qe(ie.comparator);function Un(){return j1}const qw=new qe(ie.comparator);function Es(...t){let e=qw;for(const n of t)e=e.insert(n.key,n);return e}function $w(t){let e=qw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return Fs()}function Bw(){return Fs()}function Fs(){return new ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const z1=new qe(ie.comparator),H1=new dt(ie.comparator);function we(...t){let e=H1;for(const n of t)e=e.add(n);return e}const K1=new dt(Re);function W1(){return K1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function zw(t){return{integerValue:""+t}}function G1(t,e){return A1(e)?zw(e):jw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this._=void 0}}function Q1(t,e,n){return t instanceof il?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rd(s)&&(s=Cd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof po?Kw(t,e):t instanceof mo?Ww(t,e):function(i,s){const o=Hw(i,s),a=Pm(o)+Pm(i.Ie);return Qu(o)&&Qu(i.Ie)?zw(a):jw(i.serializer,a)}(t,e)}function Y1(t,e,n){return t instanceof po?Kw(t,e):t instanceof mo?Ww(t,e):n}function Hw(t,e){return t instanceof sl?function(r){return Qu(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class il extends ic{}class po extends ic{constructor(e){super(),this.elements=e}}function Kw(t,e){const n=Gw(e);for(const r of t.elements)n.some(i=>Sn(i,r))||n.push(r);return{arrayValue:{values:n}}}class mo extends ic{constructor(e){super(),this.elements=e}}function Ww(t,e){let n=Gw(e);for(const r of t.elements)n=n.filter(i=>!Sn(i,r));return{arrayValue:{values:n}}}class sl extends ic{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pm(t){return Qe(t.integerValue||t.doubleValue)}function Gw(t){return Pd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof po&&i instanceof po||r instanceof mo&&i instanceof mo?qi(r.elements,i.elements,Sn):r instanceof sl&&i instanceof sl?Sn(r.Ie,i.Ie):r instanceof il&&i instanceof il}(t.transform,e.transform)}class X1{constructor(e,n){this.version=e,this.transformResults=n}}class Ut{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ut}static exists(e){return new Ut(void 0,e)}static updateTime(e){return new Ut(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ta(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sc{}function Qw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dd(t.key,Ut.none()):new Vo(t.key,t.data,Ut.none());{const n=t.data,r=kt.empty();let i=new dt(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wr(t.key,r,new Mt(i.toArray()),Ut.none())}}function Z1(t,e,n){t instanceof Vo?function(i,s,o){const a=i.value.clone(),l=xm(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wr?function(i,s,o){if(!Ta(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xm(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Yw(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Us(t,e,n,r){return t instanceof Vo?function(s,o,a,l){if(!Ta(s.precondition,o))return a;const c=s.value.clone(),u=Om(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wr?function(s,o,a,l){if(!Ta(s.precondition,o))return a;const c=Om(s.fieldTransforms,l,o),u=o.data;return u.setAll(Yw(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ta(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Hw(r.transform,i||null);s!=null&&(n===null&&(n=kt.empty()),n.set(r.field,s))}return n||null}function km(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qi(r,i,(s,o)=>J1(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vo extends sc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wr extends sc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Yw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xm(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Y1(o,a,n[i]))}return r}function Om(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Q1(s,o,e))}return r}class Dd extends sc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tO extends sc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z1(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Us(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Us(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Qw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&qi(this.mutations,e.mutations,(n,r)=>km(n,r))&&qi(this.baseMutations,e.baseMutations,(n,r)=>km(n,r))}}class Vd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return z1}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Vd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,Te;function sO(t){switch(t){default:return he();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Jw(t){if(t===void 0)return An("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ge.OK:return D.OK;case Ge.CANCELLED:return D.CANCELLED;case Ge.UNKNOWN:return D.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return D.INTERNAL;case Ge.UNAVAILABLE:return D.UNAVAILABLE;case Ge.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ge.NOT_FOUND:return D.NOT_FOUND;case Ge.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ge.ABORTED:return D.ABORTED;case Ge.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ge.DATA_LOSS:return D.DATA_LOSS;default:return he()}}(Te=Ge||(Ge={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new ki([4294967295,4294967295],0);function Dm(t){const e=oO().encode(t),n=new l1;return n.update(e),new Uint8Array(n.digest())}function Vm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ki([n,r],0),new ki([i,s],0)]}class Nd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ts(`Invalid padding: ${n}`);if(r<0)throw new Ts(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ts(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ts(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ki.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ki.fromNumber(r)));return i.compare(aO)===1&&(i=new ki([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Dm(e),[r,i]=Vm(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Nd(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Dm(e),[r,i]=Vm(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,No.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oc(fe.min(),i,new qe(Re),Un(),we())}}class No{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new No(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Xw{constructor(e,n){this.targetId=e,this.fe=n}}class Zw{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Nm{constructor(){this.ge=0,this.pe=Lm(),this.ye=wt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new No(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Lm()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class lO{constructor(e){this.Be=e,this.ke=new Map,this.qe=Un(),this.Qe=Mm(),this.Ke=new qe(Re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Ju(s))if(r===0){const o=new ie(s.path);this.We(n,o,gt.newNoDocument(o,fe.min()))}else De(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Jr(r).toUint8Array()}catch(l){if(l instanceof Pw)return Ui("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Nd(o,i,s)}catch(l){return Ui(l instanceof Ts?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Ju(a.target)){const l=new ie(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,gt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=we();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new oc(e,n,this.Ke,this.qe,r);return this.qe=Un(),this.Qe=Mm(),this.Ke=new qe(Re),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Nm,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new dt(Re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Nm),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Mm(){return new qe(ie.comparator)}function Lm(){return new qe(ie.comparator)}const cO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),hO=(()=>({and:"AND",or:"OR"}))();class dO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eh(t,e){return t.useProto3Json||tc(e)?e:{value:e}}function ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fO(t,e){return ol(t,e.toTimestamp())}function Tn(t){return De(!!t),fe.fromTimestamp(function(n){const r=fr(n);return new tt(r.seconds,r.nanos)}(t))}function Md(t,e){return th(t,e).canonicalString()}function th(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tE(t){const e=Le.fromString(t);return De(oE(e)),e}function nh(t,e){return Md(t.databaseId,e.path)}function Gc(t,e){const n=tE(e);if(n.get(1)!==t.databaseId.projectId)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(rE(n))}function nE(t,e){return Md(t.databaseId,e)}function pO(t){const e=tE(t);return e.length===4?Le.emptyPath():rE(e)}function rh(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rE(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fm(t,e,n){return{name:nh(t,e),fields:n.value.mapValue.fields}}function mO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(De(u===void 0||typeof u=="string"),wt.fromBase64String(u||"")):(De(u===void 0||u instanceof Uint8Array),wt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?D.UNKNOWN:Jw(c.code);return new J(u,c.message||"")}(o);n=new Zw(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gc(t,r.document.name),s=Tn(r.document.updateTime),o=r.document.createTime?Tn(r.document.createTime):fe.min(),a=new kt({mapValue:{fields:r.document.fields}}),l=gt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ia(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gc(t,r.document),s=r.readTime?Tn(r.readTime):fe.min(),o=gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ia([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gc(t,r.document),s=r.removedTargetIds||[];n=new Ia([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new iO(i,s),a=r.targetId;n=new Xw(a,o)}}return n}function gO(t,e){let n;if(e instanceof Vo)n={update:Fm(t,e.key,e.value)};else if(e instanceof Dd)n={delete:nh(t,e.key)};else if(e instanceof wr)n={update:Fm(t,e.key,e.data),updateMask:AO(e.fieldMask)};else{if(!(e instanceof tO))return he();n={verify:nh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof il)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function _O(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Tn(i.updateTime):Tn(s);return o.isEqual(fe.min())&&(o=Tn(s)),new X1(o,i.transformResults||[])}(n,e))):[]}function vO(t,e){return{documents:[nE(t,e.path)]}}function yO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nE(t,i);const s=function(c){if(c.length!==0)return sE(on.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:vi(d.field),direction:TO(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=eh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function wO(t){let e=pO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const d=iE(h);return d instanceof on&&Dw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(g){return new rl(yi(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,tc(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new nl(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new nl(f,d)}(n.endAt)),U1(e,i,o,s,a,"F",l,c)}function EO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yi(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yi(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yi(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yi(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(yi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(r=>iE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function TO(t){return cO[t]}function IO(t){return uO[t]}function bO(t){return hO[t]}function vi(t){return{fieldPath:t.canonicalString()}}function yi(t){return ut.fromServerFormat(t.fieldPath)}function sE(t){return t instanceof Ye?function(n){if(n.op==="=="){if(bm(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NAN"}};if(Im(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bm(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NOT_NAN"}};if(Im(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vi(n.field),op:IO(n.op),value:n.value}}}(t):t instanceof on?function(n){const r=n.getFilters().map(i=>sE(i));return r.length===1?r[0]:{compositeFilter:{op:bO(n.op),filters:r}}}(t):he()}function AO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,i,s=fe.min(),o=fe.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.ct=e}}function RO(t){const e=wO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this._n=new PO}addToCollectionParentIndex(e,n){return this._n.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(dr.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class PO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ji(0)}static Ln(){return new ji(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.changes=new ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Us(r.mutation,i,Mt.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Es();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Un();const o=Fs(),a=function(){return Fs()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof wr)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Us(u.mutation,c,u.mutation.getFieldMask(),tt.now())):o.set(c.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new xO(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fs();let i=new qe((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Mt.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Bw();u.forEach(d=>{if(!s.has(d)){const f=Qw(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(Nr());let a=-1,l=s;return o.next(c=>N.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?N.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,we())).next(u=>({batchId:a,changes:$w(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Es();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Es();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,l=>{const c=function(h,d){return new Do(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,gt.newInvalidDocument(u)))});let a=Es();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Us(u.mutation,c,Mt.empty(),tt.now()),rc(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return N.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tn(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:RO(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.overlays=new qe(ie.comparator),this.hr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=Nr(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Nr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Nr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rO(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.Pr=new dt(rt.Ir),this.Tr=new dt(rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new rt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ie(new Le([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new Le([])),r=new rt(n,e),i=new rt(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new dt(rt.Ir)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Re);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),N.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new rt(new ie(s),0);let a=new dt(Re);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),N.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return N.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new rt(n,0),i=this.wr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.vr=e,this.docs=function(){return new qe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Un();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||w1(y1(u),r)<=0||(i.has(u.key)||rc(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Fr(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LO(this)}getSize(e){return N.resolve(this.size)}}class LO extends kO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.persistence=e,this.Mr=new ns(n=>kd(n),xd),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ld,this.targetCount=0,this.Lr=ji.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),N.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ji(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.qn(n),N.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.Br={},this.overlays={},this.kr=new Sd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new FO(this),this.indexManager=new CO,this.remoteDocumentCache=function(i){return new MO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new SO(n),this.$r=new DO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new NO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new qO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class qO extends T1{constructor(e){super(),this.currentSequenceNumber=e}}class Fd{constructor(e){this.persistence=e,this.zr=new Ld,this.jr=null}static Hr(e){return new Fd(e)}get Jr(){if(this.jr)return this.jr;throw he()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),N.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return N.or([()=>N.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ud(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return iS()?8:Vr.v(Xe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $O;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(hs()<=Ee.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",_i(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):(hs()<=Ee.DEBUG&&Q("QueryEngine","Query:",_i(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(hs()<=Ee.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",_i(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(n))):N.resolve())}ji(e,n){if(Cm(n))return N.resolve(null);let r=En(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zu(n,null,"F"),r=En(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Zu(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return Cm(n)||i.isEqual(fe.min())?N.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?N.resolve(null):(hs()<=Ee.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_i(n)),this.es(e,o,n,v1(i,-1)).next(a=>a))})}Zi(e,n){let r=new dt(Uw(e));return n.forEach((i,s)=>{rc(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return hs()<=Ee.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",_i(n)),this.zi.getDocumentsMatchingQuery(e,n,dr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new qe(Re),this.rs=new ns(s=>kd(s),xd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function zO(t,e,n,r){return new jO(t,e,n,r)}async function aE(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=we();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function HO(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=N.resolve();return d.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(w=>{const y=c.docVersions.get(g);De(y!==null),w.version.compareTo(y)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lE(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function KO(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(wt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(w,y,b){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let l=Un(),c=we();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(WO(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(fe.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function WO(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Un();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function GO(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QO(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ih(t,e,n){const r=_e(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Oo(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Um(t,e,n){const r=_e(t);let i=fe.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=_e(l),d=h.rs.get(u);return d!==void 0?N.resolve(h.ns.get(d)):h.Qr.getTargetData(c,u)}(r,o,En(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:we())).next(a=>(YO(r,$1(e),a),{documents:a,hs:s})))}function YO(t,e,n){let r=t.ss.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class qm{constructor(){this.activeTargetIds=W1()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JO{constructor(){this.no=new qm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=null;function Qc(){return oa===null?oa=function(){return 268435456+Math.round(2147483648*Math.random())}():oa++,"0x"+oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class tD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Qc(),l=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ui("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ts}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=ZO[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Qc();return new Promise((o,a)=>{const l=new a1;l.setWithCredentials(!0),l.listenOnce(s1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wc.NO_ERROR:const u=l.getResponseJson();Q(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Wc.TIMEOUT:Q(ft,`RPC '${e}' ${s} timed out`),a(new J(D.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const h=l.getStatus();if(Q(ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(b)>=0?b:D.UNKNOWN}(f.status);a(new J(g,f.message))}else a(new J(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(D.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{Q(ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Q(ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Qc(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r1(),a=i1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Q(ft,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const g=new eD({lo:y=>{f?Q(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(Q(ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Q(ft,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},ho:()=>h.close()}),w=(y,b,_)=>{y.listen(b,A=>{try{_(A)}catch(x){setTimeout(()=>{throw x},0)}})};return w(h,ra.EventType.OPEN,()=>{f||Q(ft,`RPC '${e}' stream ${i} transport opened.`)}),w(h,ra.EventType.CLOSE,()=>{f||(f=!0,Q(ft,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),w(h,ra.EventType.ERROR,y=>{f||(f=!0,Ui(ft,`RPC '${e}' stream ${i} transport errored:`,y),g.Vo(new J(D.UNAVAILABLE,"The operation could not be completed")))}),w(h,ra.EventType.MESSAGE,y=>{var b;if(!f){const _=y.data[0];De(!!_);const A=_,x=A.error||((b=A[0])===null||b===void 0?void 0:b.error);if(x){Q(ft,`RPC '${e}' stream ${i} received error:`,x);const F=x.status;let j=function(T){const I=Ge[T];if(I!==void 0)return Jw(I)}(F),B=x.message;j===void 0&&(j=D.INTERNAL,B="Unknown error status: "+F+" with message "+x.message),f=!0,g.Vo(new J(j,B)),h.close()}else Q(ft,`RPC '${e}' stream ${i} received:`,_),g.mo(_)}}),w(a,o1.STAT_EVENT,y=>{y.stat===gm.PROXY?Q(ft,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===gm.NOPROXY&&Q(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Yc(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return new dO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new cE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new J(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends uE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=mO(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Tn(o.readTime):fe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=rh(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ju(l)?{documents:vO(s,l)}:{query:yO(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eE(s,o.resumeToken);const c=eh(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=ol(s,o.snapshotVersion.toTimestamp());const c=eh(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=rh(this.serializer),n.removeTarget=e,this.t_(n)}}class rD extends uE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=_O(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.T_(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=rh(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gO(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,th(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(D.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,th(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(D.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class sD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(An(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{oi(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=_e(l);c.v_.add(4),await Mo(c),c.x_.set("Unknown"),c.v_.delete(4),await lc(c)}(this))})}),this.x_=new sD(r,i)}}async function lc(t){if(oi(t))for(const e of t.F_)await e(!0)}async function Mo(t){for(const e of t.F_)await e(!1)}function hE(t,e){const n=_e(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),jd(n)?Bd(n):rs(n).Jo()&&$d(n,e))}function qd(t,e){const n=_e(t),r=rs(n);n.C_.delete(e),r.Jo()&&dE(n,e),n.C_.size===0&&(r.Jo()?r.Xo():oi(n)&&n.x_.set("Unknown"))}function $d(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rs(t).c_(e)}function dE(t,e){t.O_.Oe(e),rs(t).l_(e)}function Bd(t){t.O_=new lO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rs(t).start(),t.x_.p_()}function jd(t){return oi(t)&&!rs(t).Ho()&&t.C_.size>0}function oi(t){return _e(t).v_.size===0}function fE(t){t.O_=void 0}async function aD(t){t.C_.forEach((e,n)=>{$d(t,e)})}async function lD(t,e){fE(t),jd(t)?(t.x_.S_(e),Bd(t)):t.x_.set("Unknown")}async function cD(t,e,n){if(t.x_.set("Online"),e instanceof Zw&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await al(t,r)}else if(e instanceof Ia?t.O_.$e(e):e instanceof Xw?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(fe.min()))try{const r=await lE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(wt.EMPTY_BYTE_STRING,u.snapshotVersion)),dE(s,l);const h=new nr(u.target,l,c,u.sequenceNumber);$d(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await al(t,r)}}async function al(t,e,n){if(!Oo(e))throw e;t.v_.add(1),await Mo(t),t.x_.set("Offline"),n||(n=()=>lE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await lc(t)})}function pE(t,e){return e().catch(n=>al(t,n,e))}async function cc(t){const e=_e(t),n=pr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;uD(e);)try{const i=await GO(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,hD(e,i)}catch(i){await al(e,i)}mE(e)&&gE(e)}function uD(t){return oi(t)&&t.D_.length<10}function hD(t,e){t.D_.push(e);const n=pr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function mE(t){return oi(t)&&!pr(t).Ho()&&t.D_.length>0}function gE(t){pr(t).start()}async function dD(t){pr(t).d_()}async function fD(t){const e=pr(t);for(const n of t.D_)e.I_(n.mutations)}async function pD(t,e,n){const r=t.D_.shift(),i=Vd.from(r,e,n);await pE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cc(t)}async function mD(t,e){e&&pr(t).P_&&await async function(r,i){if(function(o){return sO(o)&&o!==D.ABORTED}(i.code)){const s=r.D_.shift();pr(r).Zo(),await pE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cc(r)}}(t,e),mE(t)&&gE(t)}async function Bm(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=oi(n);n.v_.add(3),await Mo(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await lc(n)}async function gD(t,e){const n=_e(t);e?(n.v_.delete(2),await lc(n)):e||(n.v_.add(2),await Mo(n),n.x_.set("Unknown"))}function rs(t){return t.N_||(t.N_=function(n,r,i){const s=_e(n);return s.R_(),new nD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:aD.bind(null,t),To:lD.bind(null,t),u_:cD.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),jd(t)?Bd(t):t.x_.set("Unknown")):(await t.N_.stop(),fE(t))})),t.N_}function pr(t){return t.L_||(t.L_=function(n,r,i){const s=_e(n);return s.R_(),new rD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:dD.bind(null,t),To:mD.bind(null,t),E_:fD.bind(null,t),T_:pD.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await cc(t)):(await t.L_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zd(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(t,e){if(An("AsyncQueue",`${e}: ${t}`),Oo(t))return new J(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Es(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new xi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.B_=new qe(ie.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):he():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class zi{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zi(e,n,xi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class vD{constructor(){this.queries=new ns(e=>Fw(e),nc),this.onlineState="Unknown",this.W_=new Set}}async function _E(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new _D,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Hd(o,`Initialization of query '${_i(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Kd(n)}async function vE(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yD(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&Kd(n)}function wD(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Kd(t){t.W_.forEach(e=>{e.next()})}var sh,zm;(zm=sh||(sh={})).j_="default",zm.Cache="cache";class yE{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=zi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==sh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.key=e}}class EE{constructor(e){this.key=e}}class ED{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=we(),this.mutatedKeys=we(),this.ha=Uw(e),this.Pa=new xi(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new jm,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),f=rc(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?g!==w&&(r.track({type:3,doc:f}),y=!0):this.da(d,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.ha(f,l)>0||c&&this.ha(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(l||c)&&(a=!0)),y&&(f?(o=o.add(f),s=w?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,h)=>function(f,g){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return w(f)-w(g)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new zi(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new jm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=we(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new EE(r))}),this.la.forEach(r=>{e.has(r)||n.push(new wE(r))}),n}fa(e){this.ua=e.hs,this.la=we();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return zi.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class TD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ID{constructor(e){this.key=e,this.pa=!1}}class bD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ns(a=>Fw(a),nc),this.Sa=new Map,this.ba=new Set,this.Da=new qe(ie.comparator),this.Ca=new Map,this.va=new Ld,this.Fa={},this.Ma=new Map,this.xa=ji.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function AD(t,e,n=!0){const r=RE(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await TE(r,e,n,!0),i}async function SD(t,e){const n=RE(t);await TE(n,e,!0,!1)}async function TE(t,e,n,r){const i=await QO(t.localStore,En(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await RD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hE(t.remoteStore,i),a}async function RD(t,e,n,r,i){t.Na=(h,d,f)=>async function(w,y,b,_){let A=y.view.Ta(b);A.Xi&&(A=await Um(w.localStore,y.query,!1).then(({documents:B})=>y.view.Ta(B,A)));const x=_&&_.targetChanges.get(y.targetId),F=_&&_.targetMismatches.get(y.targetId)!=null,j=y.view.applyChanges(A,w.isPrimaryClient,x,F);return Km(w,y.targetId,j.Va),j.snapshot}(t,h,d,f);const s=await Um(t.localStore,e,!0),o=new ED(e,s.hs),a=o.Ta(s.documents),l=No.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Km(t,n,c.Va);const u=new TD(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function CD(t,e,n){const r=_e(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!nc(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ih(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qd(r.remoteStore,i.targetId),oh(r,i.targetId)}).catch(xo)):(oh(r,i.targetId),await ih(r.localStore,i.targetId,!0))}async function PD(t,e){const n=_e(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qd(n.remoteStore,r.targetId))}async function kD(t,e,n){const r=LD(t);try{const i=await function(o,a){const l=_e(o),c=tt.now(),u=a.reduce((f,g)=>f.add(g.key),we());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Un(),w=we();return l.os.getEntries(f,u).next(y=>{g=y,g.forEach((b,_)=>{_.isValidDocument()||(w=w.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(y=>{h=y;const b=[];for(const _ of a){const A=eO(_,h.get(_.key).overlayedDocument);A!=null&&b.push(new wr(_.key,A,kw(A.value.mapValue),Ut.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,b,a)}).next(y=>{d=y;const b=y.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(f,y.batchId,b)})}).then(()=>({batchId:d.batchId,changes:$w(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new qe(Re)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Lo(r,i.changes),await cc(r.remoteStore)}catch(i){const s=Hd(i,"Failed to persist write");n.reject(s)}}async function IE(t,e){const n=_e(t);try{const r=await KO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?De(o.pa):i.removedDocuments.size>0&&(De(o.pa),o.pa=!1))}),await Lo(n,r,e)}catch(r){await xo(r)}}function Hm(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_e(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.Q_)d.G_(a)&&(c=!0)}),c&&Kd(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xD(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new qe(ie.comparator);o=o.insert(s,gt.newNoDocument(s,fe.min()));const a=we().add(s),l=new oc(fe.min(),new Map,new qe(Re),o,a);await IE(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),Wd(r)}else await ih(r.localStore,e,!1).then(()=>oh(r,e,n)).catch(xo)}async function OD(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await HO(n.localStore,e);AE(n,r,null),bE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lo(n,i)}catch(i){await xo(i)}}async function DD(t,e,n){const r=_e(t);try{const i=await function(o,a){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(De(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);AE(r,e,n),bE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lo(r,i)}catch(i){await xo(i)}}function bE(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function AE(t,e,n){const r=_e(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function oh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||SE(t,r)})}function SE(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(qd(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Wd(t))}function Km(t,e,n){for(const r of n)r instanceof wE?(t.va.addReference(r.key,e),VD(t,r)):r instanceof EE?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||SE(t,r.key)):he()}function VD(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ba.add(r),Wd(t))}function Wd(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ie(Le.fromString(e)),r=t.xa.next();t.Ca.set(r,new ID(n)),t.Da=t.Da.insert(n,r),hE(t.remoteStore,new nr(En(Od(n.path)),r,"TargetPurposeLimboResolution",Sd._e))}}async function Lo(t,e,n){const r=_e(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=Ud.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=_e(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>N.forEach(c,d=>N.forEach(d.qi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>N.forEach(d.Qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Oo(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ns.get(d),g=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(d,w)}}}(r.localStore,s))}async function ND(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await aE(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new J(D.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lo(n,r.us)}}function MD(t,e){const n=_e(t),r=n.Ca.get(e);if(r&&r.pa)return we().add(r.key);{let i=we();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function RE(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.ya.u_=yD.bind(null,e.eventManager),e.ya.La=wD.bind(null,e.eventManager),e}function LD(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,e),e}class Wm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return zO(this.persistence,new BO,e.initialUser,this.serializer)}createPersistence(e){return new UO(Fd.Hr,this.serializer)}createSharedClientState(e){return new JO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vD}()}createDatastore(e){const n=ac(e.databaseInfo.databaseId),r=function(s){return new tD(s)}(e.databaseInfo);return function(s,o,a,l){return new iD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new oD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Hm(this.syncEngine,n,0),function(){return $m.D()?new $m:new XO}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const h=new bD(i,s,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=_e(r);Q("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Mo(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=Rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jc(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $D(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Bm(e.remoteStore,i)),t._onlineComponents=e}function qD(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $D(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!qD(n))throw n;Ui("Error using user provided cache. Falling back to memory cache: "+n),await Jc(t,new Wm)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Jc(t,new Wm);return t._offlineComponents}async function PE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Gm(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Gm(t,new FD))),t._onlineComponents}function BD(t){return PE(t).then(e=>e.syncEngine)}async function kE(t){const e=await PE(t),n=e.eventManager;return n.onListen=AD.bind(null,e.syncEngine),n.onUnlisten=CD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PD.bind(null,e.syncEngine),n}function jD(t,e,n={}){const r=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new CE({next:d=>{o.enqueueAndForget(()=>vE(s,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new J(D.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new J(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new yE(Od(a.path),u,{includeMetadataChanges:!0,ta:!0});return _E(s,h)}(await kE(t),t.asyncQueue,e,n,r)),r.promise}function zD(t,e,n={}){const r=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new CE({next:d=>{o.enqueueAndForget(()=>vE(s,h)),d.fromCache&&l.source==="server"?c.reject(new J(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new yE(a,u,{includeMetadataChanges:!0,ta:!0});return _E(s,h)}(await kE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e,n){if(!n)throw new J(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HD(t,e,n,r){if(e===!0&&r===!0)throw new J(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ym(t){if(!ie.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jm(t){if(ie.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uc(t);throw new J(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c1;switch(r.type){case"firstParty":return new f1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qm.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Qm.delete(n),r.terminate())}(this),Promise.resolve()}}function KD(t,e,n,r={}){var i;const s=(t=Rn(t,hc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=ZA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(c)}t._authCredentials=new u1(new Sw(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class lr extends is{constructor(e,n,r){super(e,n,Od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ie(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function DE(t,e,...n){if(t=Be(t),OE("collection","path",e),t instanceof hc){const r=Le.fromString(e,...n);return Jm(r),new lr(t,null,r)}{if(!(t instanceof At||t instanceof lr))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Jm(r),new lr(t.firestore,null,r)}}function WD(t,e,...n){if(t=Be(t),arguments.length===1&&(e=Rw.newId()),OE("doc","path",e),t instanceof hc){const r=Le.fromString(e,...n);return Ym(r),new At(t,null,new ie(r))}{if(!(t instanceof At||t instanceof lr))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Ym(r),new At(t.firestore,t instanceof lr?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new cE(this,"async_queue_retry"),this.cu=()=>{const n=Yc();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Yc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Yc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new wn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Oo(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw An("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=zd.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&he()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class ss extends hc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new GD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VE(this),this._firestoreClient.terminate()}}function QD(t,e){const n=typeof t=="object"?t:qh(),r=typeof t=="string"?t:e||"(default)",i=ni(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JA("firestore");s&&KD(i,...s)}return i}function dc(t){return t._firestoreClient||VE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VE(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new R1(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,xE(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new UD(t._authCredentials,t._appCheckCredentials,t._queue,s),((n=i.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=i.localCache)===null||r===void 0?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(wt.fromBase64String(e))}catch(n){throw new J(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hi(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=/^__.*__$/;class JD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vo(e,this.data,n,this.fieldTransforms)}}class NE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ME(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Yd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return ll(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(ME(this.Vu)&&YD.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class XD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ac(e)}Cu(e,n,r,i=!1){return new Yd({Vu:e,methodName:n,Du:r,path:ut.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fc(t){const e=t._freezeSettings(),n=ac(t._databaseId);return new XD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LE(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);Jd("Data must be an object, but it was:",o,r);const a=qE(r,o);let l,c;if(s.merge)l=new Mt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=ah(e,h,n);if(!o.contains(d))throw new J(D.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);BE(u,d)||u.push(d)}l=new Mt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new JD(new kt(a),l,c)}class pc extends Gd{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pc}}function FE(t,e,n,r){const i=t.Cu(1,e,n);Jd("Data must be an object, but it was:",i,r);const s=[],o=kt.empty();si(r,(l,c)=>{const u=Xd(e,l,n);c=Be(c);const h=i.yu(u);if(c instanceof pc)s.push(u);else{const d=Uo(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new Mt(s);return new NE(o,a,i.fieldTransforms)}function UE(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[ah(e,r,n)],l=[i];if(s.length%2!=0)throw new J(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(ah(e,s[d])),l.push(s[d+1]);const c=[],u=kt.empty();for(let d=a.length-1;d>=0;--d)if(!BE(c,a[d])){const f=a[d];let g=l[d];g=Be(g);const w=o.yu(f);if(g instanceof pc)c.push(f);else{const y=Uo(g,w);y!=null&&(c.push(f),u.set(f,y))}}const h=new Mt(c);return new NE(u,h,o.fieldTransforms)}function ZD(t,e,n,r=!1){return Uo(n,t.Cu(r?4:3,e))}function Uo(t,e){if($E(t=Be(t)))return Jd("Unsupported field value:",e,t),qE(t,e);if(t instanceof Gd)return function(r,i){if(!ME(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Uo(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=tt.fromDate(r);return{timestampValue:ol(i.serializer,s)}}if(r instanceof tt){const s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ol(i.serializer,s)}}if(r instanceof Qd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hi)return{bytesValue:eE(i.serializer,r._byteString)};if(r instanceof At){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Md(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${uc(r)}`)}(t,e)}function qE(t,e){const n={};return Cw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,i)=>{const s=Uo(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $E(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Qd||t instanceof Hi||t instanceof At||t instanceof Gd)}function Jd(t,e,n){if(!$E(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=uc(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function ah(t,e,n){if((e=Be(e))instanceof Fo)return e._internalPath;if(typeof e=="string")return Xd(t,e);throw ll("Field path arguments must be of type string or ",t,!1,void 0,n)}const eV=new RegExp("[~\\*/\\[\\]]");function Xd(t,e,n){if(e.search(eV)>=0)throw ll(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fo(...e.split("."))._internalPath}catch{throw ll(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ll(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(D.INVALID_ARGUMENT,a+t+l)}function BE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tV extends jE{data(){return super.data()}}function Zd(t,e){return typeof e=="string"?Xd(t,e):e instanceof Fo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ef{}class rV extends ef{}function iV(t,e,...n){let r=[];e instanceof ef&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof $o).length,a=s.filter(l=>l instanceof qo).length;if(o>1||o>0&&a>0)throw new J(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qo extends rV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qo(e,n,r)}_apply(e){const n=this._parse(e);return zE(e._query,n),new is(e.firestore,e.converter,Xu(e._query,n))}_parse(e){const n=fc(e.firestore);return function(s,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eg(h,u);const f=[];for(const g of h)f.push(Zm(l,s,g));d={arrayValue:{values:f}}}else d=Zm(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eg(h,u),d=ZD(a,o,h,u==="in"||u==="not-in");return Ye.create(c,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sV(t,e,n){const r=e,i=Zd("where",t);return qo._create(i,r,n)}class $o extends ef{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $o(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)zE(o,l),o=Xu(o,l)}(e._query,n),new is(e.firestore,e.converter,Xu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LM(...t){return t.forEach(e=>oV("and",e)),$o._create("and",t)}function Zm(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new J(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lw(e)&&n.indexOf("/")!==-1)throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ie.isDocumentKey(r))throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tm(t,new ie(r))}if(n instanceof At)return Tm(t,n._key);throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uc(n)}.`)}function eg(t,e){if(!Array.isArray(t)||t.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zE(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function oV(t,e){if(!(e instanceof qo||e instanceof $o))throw new J(D.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class aV{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return si(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qd(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const n=fr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);De(oE(r));const i=new ho(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||An(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KE extends jE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ba(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ba extends KE{data(e={}){return super.data(e)}}class lV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ba(this._firestore,this._userDataWriter,r.key,r,new Is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ba(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ba(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:cV(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){t=Rn(t,At);const e=Rn(t.firestore,ss);return jD(dc(e),t._key).then(n=>dV(e,t,n))}class WE extends aV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function uV(t){t=Rn(t,is);const e=Rn(t.firestore,ss),n=dc(e),r=new WE(e);return nV(t._query),zD(n,t._query).then(i=>new lV(e,r,t,i))}function hV(t,e,n){t=Rn(t,At);const r=Rn(t.firestore,ss),i=HE(t.converter,e,n);return tf(r,[LE(fc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ut.none())])}function UM(t,e,n,...r){t=Rn(t,At);const i=Rn(t.firestore,ss),s=fc(i);let o;return o=typeof(e=Be(e))=="string"||e instanceof Fo?UE(s,"updateDoc",t._key,e,n,r):FE(s,"updateDoc",t._key,e),tf(i,[o.toMutation(t._key,Ut.exists(!0))])}function tf(t,e){return function(r,i){const s=new wn;return r.asyncQueue.enqueueAndForget(async()=>kD(await BD(r),i,s)),s.promise}(dc(t),e)}function dV(t,e,n){const r=n.docs.get(e._key),i=new WE(t);return new KE(t,i,e._key,r,new Is(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fc(e)}set(e,n,r){this._verifyNotCommitted();const i=Xc(e,this._firestore),s=HE(i.converter,n,r),o=LE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ut.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Xc(e,this._firestore);let o;return o=typeof(n=Be(n))=="string"||n instanceof Fo?UE(this._dataReader,"WriteBatch.update",s._key,n,r,i):FE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ut.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Xc(e,this._firestore);return this._mutations=this._mutations.concat(new Dd(n._key,Ut.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new J(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xc(t,e){if((t=Be(t)).firestore!==e)throw new J(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return dc(t=Rn(t,ss)),new fV(t,e=>tf(t,e))}(function(e,n=!0){(function(i){ts=i})(Ji),bn(new nn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ss(new h1(r.getProvider("auth-internal")),new m1(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wt(_m,"4.5.1",e),Wt(_m,"4.5.1","esm2017")})();const pV={apiKey:"AIzaSyBzzkE58zIQizH54dyoUqCTArnxmwJuxPc",authDomain:"store-manager-8edea.firebaseapp.com",projectId:"store-manager-8edea",storageBucket:"store-manager-8edea.appspot.com",messagingSenderId:"103848384430",appId:"1:103848384430:web:e97e707f91a9f09f75da3f",measurementId:"G-HMGPL6WR20"},nf=yv(pV),aa=tx(nf);FC(nf);const GE=QD(nf),tg={userData:null,didAutoLogout:!1,error:null,isLoading:!1,currentStore:""},mV=async t=>{var i;if(!t||t==="")return"";const e=DE(GE,"stores"),n=iV(e,sV("userId","==",t));return((i=(await uV(n)).docs.find(()=>!0))==null?void 0:i.id)||""},gV=async t=>{const e=WD(DE(GE,"stores")),n={id:e.id,name:"Magasin principal",userId:t};return await hV(e,n),n},_V=Fb("user",{state:()=>tg,getters:{isAuthenticated(){return!!this.userData&&this.currentStore!==""}},actions:{async signIn(t,e){this.error=null,this.isLoading=!0,await UP(aa,t,e).then(()=>{this.error=null}).catch(n=>{this.error=n}),this.isLoading=!1},async signUp(t,e){this.isLoading=!0,this.error=null,await FP(aa,t,e).then(n=>(this.userData=n.user,n.user.uid)).then(async n=>{const r=await gV(n);this.currentStore=r.id}).catch(n=>{this.error=n}),this.isLoading=!1},fetchUser(){BP(aa,async t=>{this.userData=t,this.currentStore=await mV((t==null?void 0:t.uid)||"")})},async signOut(){await jP(aa),this.$state=tg}}});var Zc=function(){const e=$A({scrollBehavior:()=>({left:0,top:0}),routes:jA,history:rA("/store-manager/")});return e.beforeEach((n,r,i)=>{const s=_V();n.matched.some(o=>o.meta.requiresAuth)&&!s.isAuthenticated?i({name:"signin",query:{nextPage:n.name}}):i()}),e};async function vV(t,e){const n=t(kb);n.use(Sb,e);const r=typeof Sc=="function"?await Sc({}):Sc;n.use(r);const i=mr(typeof Zc=="function"?await Zc({store:r}):Zc);return r.use(({store:s})=>{s.router=i}),{app:n,store:r,router:i}}function yV(t,e,n){let r;function i(){r!==void 0&&(wu.remove(r),r=void 0)}return an(()=>{t.value===!0&&i()}),{removeFromHistory:i,addToHistory(){r={condition:()=>n.value===!0,handler:e},wu.add(r)}}}function Aa(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function QE(t){return t.appContext.config.globalProperties.$router!==void 0}function YE(t){return t.isUnmounted===!0||t.isDeactivated===!0}function wV(){let t=null;const e=Ze();function n(){t!==null&&(clearTimeout(t),t=null)}return El(n),an(n),{removeTimeout:n,registerTimeout(r,i){n(),YE(e)===!1&&(t=setTimeout(r,i))}}}function EV(){let t;const e=Ze();function n(){t=void 0}return El(n),an(n),{removeTick:n,registerTick(r){t=r,Pt(()=>{t===r&&(YE(e)===!1&&t(),t=void 0)})}}}const TV={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},IV=["beforeShow","show","beforeHide","hide"];function bV({showing:t,canShow:e,hideOnRouteChange:n,handleShow:r,handleHide:i,processOnMount:s}){const o=Ze(),{props:a,emit:l,proxy:c}=o;let u;function h(_){t.value===!0?g(_):d(_)}function d(_){if(a.disable===!0||_!==void 0&&_.qAnchorHandled===!0||e!==void 0&&e(_)!==!0)return;const A=a["onUpdate:modelValue"]!==void 0;A===!0&&(l("update:modelValue",!0),u=_,Pt(()=>{u===_&&(u=void 0)})),(a.modelValue===null||A===!1)&&f(_)}function f(_){t.value!==!0&&(t.value=!0,l("beforeShow",_),r!==void 0?r(_):l("show",_))}function g(_){if(a.disable===!0)return;const A=a["onUpdate:modelValue"]!==void 0;A===!0&&(l("update:modelValue",!1),u=_,Pt(()=>{u===_&&(u=void 0)})),(a.modelValue===null||A===!1)&&w(_)}function w(_){t.value!==!1&&(t.value=!1,l("beforeHide",_),i!==void 0?i(_):l("hide",_))}function y(_){a.disable===!0&&_===!0?a["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):_===!0!==t.value&&(_===!0?f:w)(u)}Fe(()=>a.modelValue,y),n!==void 0&&QE(o)===!0&&Fe(()=>c.$route.fullPath,()=>{n.value===!0&&t.value===!0&&g()}),s===!0&&Yi(()=>{y(a.modelValue)});const b={show:d,hide:g,toggle:h};return Object.assign(c,b),b}const AV={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function SV(t,e=()=>{},n=()=>{}){return{transitionProps:R(()=>{const r=`q-transition--${t.transitionShow||e()}`,i=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:R(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}let Mr=[],go=[];function JE(t){go=go.filter(e=>e!==t)}function RV(t){JE(t),go.push(t)}function ng(t){JE(t),go.length===0&&Mr.length!==0&&(Mr[Mr.length-1](),Mr=[])}function rf(t){go.length===0?t():Mr.push(t)}function CV(t){Mr=Mr.filter(e=>e!==t)}let PV=1,kV=document.body;function sf(t,e){const n=document.createElement("div");if(n.id=e!==void 0?`q-portal--${e}--${PV++}`:t,Fa.globalNodes!==void 0){const r=Fa.globalNodes.class;r!==void 0&&(n.className=r)}return kV.appendChild(n),n}function XE(t){t.remove()}const Sa=[];function $M(t){return Sa.find(e=>e.contentEl!==null&&e.contentEl.contains(t))}function xV(t,e){do{if(t.$options.name==="QMenu"){if(t.hide(e),t.$props.separateClosePopup===!0)return Aa(t)}else if(t.__qPortal===!0){const n=Aa(t);return n!==void 0&&n.$options.name==="QPopupProxy"?(t.hide(e),n):t}t=Aa(t)}while(t!=null)}function BM(t,e,n){for(;n!==0&&t!==void 0&&t!==null;){if(t.__qPortal===!0){if(n--,t.$options.name==="QMenu"){t=xV(t,e);continue}t.hide(e)}t=Aa(t)}}function OV(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function DV(t,e,n,r){const i=Ae(!1),s=Ae(!1);let o=null;const a={},l=r==="dialog"&&OV(t);function c(h){if(h===!0){ng(a),s.value=!0;return}s.value=!1,i.value===!1&&(l===!1&&o===null&&(o=sf(!1,r)),i.value=!0,Sa.push(t.proxy),RV(a))}function u(h){if(s.value=!1,h!==!0)return;ng(a),i.value=!1;const d=Sa.indexOf(t.proxy);d!==-1&&Sa.splice(d,1),o!==null&&(XE(o),o=null)}return Ch(()=>{u(!0)}),t.proxy.__qPortal=!0,ei(t.proxy,"contentEl",()=>e.value),{showPortal:c,hidePortal:u,portalIsActive:i,portalIsAccessible:s,renderPortal:()=>l===!0?n():i.value===!0?[C(oI,{to:o},n())]:void 0}}function lh(t,e){const n=t.style;for(const r in e)n[r]=e[r]}function VV(t){if(t==null)return;if(typeof t=="string")try{return document.querySelector(t)||void 0}catch{return}const e=Ur(t);if(e)return e.$el||e}function NV(t,e){if(t==null||t.contains(e)===!0)return!0;for(let n=t.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}const MV=[null,document,document.body,document.scrollingElement,document.documentElement];function jM(t,e){let n=VV(e);if(n===void 0){if(t==null)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return MV.includes(n)?window:n}function LV(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function FV(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}let la;function zM(){if(la!==void 0)return la;const t=document.createElement("p"),e=document.createElement("div");lh(t,{width:"100%",height:"200px"}),lh(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),e.remove(),la=n-r,la}function UV(t,e=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}let ds=0,eu,tu,bs,nu=!1,rg,ig,sg,br=null;function qV(t){$V(t)&&jt(t)}function $V(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=lb(t),n=t.shiftKey&&!t.deltaX,r=!n&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),i=n||r?t.deltaY:t.deltaX;for(let s=0;s<e.length;s++){const o=e[s];if(UV(o,r))return r?i<0&&o.scrollTop===0?!0:i>0&&o.scrollTop+o.clientHeight===o.scrollHeight:i<0&&o.scrollLeft===0?!0:i>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function og(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function ca(t){nu!==!0&&(nu=!0,requestAnimationFrame(()=>{nu=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;(bs===void 0||e!==window.innerHeight)&&(bs=n-e,document.scrollingElement.scrollTop=r),r>bs&&(document.scrollingElement.scrollTop-=Math.ceil((r-bs)/8))}))}function ag(t){const e=document.body,n=window.visualViewport!==void 0;if(t==="add"){const{overflowY:r,overflowX:i}=window.getComputedStyle(e);eu=FV(window),tu=LV(window),rg=e.style.left,ig=e.style.top,sg=window.location.href,e.style.left=`-${eu}px`,e.style.top=`-${tu}px`,i!=="hidden"&&(i==="scroll"||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,ze.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",ca,Ct.passiveCapture),window.visualViewport.addEventListener("scroll",ca,Ct.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",og,Ct.passiveCapture))}ze.is.desktop===!0&&ze.is.mac===!0&&window[`${t}EventListener`]("wheel",qV,Ct.notPassive),t==="remove"&&(ze.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",ca,Ct.passiveCapture),window.visualViewport.removeEventListener("scroll",ca,Ct.passiveCapture)):window.removeEventListener("scroll",og,Ct.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=rg,e.style.top=ig,window.location.href===sg&&window.scrollTo(eu,tu),bs=void 0)}function BV(t){let e="add";if(t===!0){if(ds++,br!==null){clearTimeout(br),br=null;return}if(ds>1)return}else{if(ds===0||(ds--,ds>0))return;if(e="remove",ze.is.ios===!0&&ze.is.nativeMobile===!0){br!==null&&clearTimeout(br),br=setTimeout(()=>{ag(e),br=null},100);return}}ag(e)}function jV(){let t;return{preventBodyScroll(e){e!==t&&(t!==void 0||e===!0)&&(t=e,BV(e))}}}const Et=t=>mr(yl(t)),zV=t=>mr(t);function Zt(t,e){return t!==void 0&&t()||e}function HM(t,e){if(t!==void 0){const n=t();if(n!=null)return n.slice()}return e}function Lr(t,e){return t!==void 0?e.concat(t()):e}function HV(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function KM(t,e,n,r,i,s){e.key=r+i;const o=C(t,e,n);return i===!0?c_(o,s()):o}const Br=[];let Ki;function KV(t){Ki=t.keyCode===27}function WV(){Ki===!0&&(Ki=!1)}function GV(t){Ki===!0&&(Ki=!1,Qs(t,27)===!0&&Br[Br.length-1](t))}function ZE(t){window[t]("keydown",KV),window[t]("blur",WV),window[t]("keyup",GV),Ki=!1}function QV(t){ze.is.desktop===!0&&(Br.push(t),Br.length===1&&ZE("addEventListener"))}function lg(t){const e=Br.indexOf(t);e>-1&&(Br.splice(e,1),Br.length===0&&ZE("removeEventListener"))}const jr=[];function e0(t){jr[jr.length-1](t)}function YV(t){ze.is.desktop===!0&&(jr.push(t),jr.length===1&&document.body.addEventListener("focusin",e0))}function cg(t){const e=jr.indexOf(t);e>-1&&(jr.splice(e,1),jr.length===0&&document.body.removeEventListener("focusin",e0))}let ua=0;const JV={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ug={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var XV=Et({name:"QDialog",inheritAttrs:!1,props:{...TV,...AV,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:t=>t==="standard"||["top","bottom","left","right"].includes(t)}},emits:[...IV,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:r}){const i=Ze(),s=Ae(null),o=Ae(!1),a=Ae(!1);let l=null,c=null,u,h;const d=R(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:f}=jV(),{registerTimeout:g}=wV(),{registerTick:w,removeTick:y}=EV(),{transitionProps:b,transitionStyle:_}=SV(t,()=>ug[t.position][0],()=>ug[t.position][1]),{showPortal:A,hidePortal:x,portalIsAccessible:F,renderPortal:j}=DV(i,s,nt,"dialog"),{hide:B}=bV({showing:o,hideOnRouteChange:d,handleShow:S,handleHide:Z,processOnMount:!0}),{addToHistory:V,removeFromHistory:T}=yV(o,B,d),I=R(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${JV[t.position]}`+(a.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),L=R(()=>o.value===!0&&t.seamless!==!0),v=R(()=>t.autoClose===!0?{onClick:Se}:{}),z=R(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${L.value===!0?"modal":"seamless"}`,r.class]);Fe(()=>t.maximized,ce=>{o.value===!0&&ve(ce)}),Fe(L,ce=>{f(ce),ce===!0?(YV(Ie),QV(ee)):(cg(Ie),lg(ee))});function S(ce){V(),c=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ve(t.maximized),A(),a.value=!0,t.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),w(K)):y(),g(()=>{if(i.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:ae,bottom:P}=document.activeElement.getBoundingClientRect(),{innerHeight:te}=window,W=window.visualViewport!==void 0?window.visualViewport.height:te;ae>0&&P>W/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-W,P>=te?1/0:Math.ceil(document.scrollingElement.scrollTop+P-W/2))),document.activeElement.scrollIntoView()}h=!0,s.value.click(),h=!1}A(!0),a.value=!1,n("show",ce)},t.transitionDuration)}function Z(ce){y(),T(),Ue(!0),a.value=!0,x(),c!==null&&(((ce&&ce.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),g(()=>{x(!0),a.value=!1,n("hide",ce)},t.transitionDuration)}function K(ce){rf(()=>{let ae=s.value;ae===null||ae.contains(document.activeElement)===!0||(ae=(ce!==""?ae.querySelector(ce):null)||ae.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||ae.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||ae.querySelector("[autofocus], [data-autofocus]")||ae,ae.focus({preventScroll:!0}))})}function O(ce){ce&&typeof ce.focus=="function"?ce.focus({preventScroll:!0}):K(),n("shake");const ae=s.value;ae!==null&&(ae.classList.remove("q-animate--scale"),ae.classList.add("q-animate--scale"),l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,s.value!==null&&(ae.classList.remove("q-animate--scale"),K())},170))}function ee(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&O():(n("escapeKey"),B()))}function Ue(ce){l!==null&&(clearTimeout(l),l=null),(ce===!0||o.value===!0)&&(ve(!1),t.seamless!==!0&&(f(!1),cg(Ie),lg(ee))),ce!==!0&&(c=null)}function ve(ce){ce===!0?u!==!0&&(ua<1&&document.body.classList.add("q-body--dialog"),ua++,u=!0):u===!0&&(ua<2&&document.body.classList.remove("q-body--dialog"),ua--,u=!1)}function Se(ce){h!==!0&&(B(ce),n("click",ce))}function U(ce){t.persistent!==!0&&t.noBackdropDismiss!==!0?B(ce):t.noShake!==!0&&O()}function Ie(ce){t.allowFocusOutside!==!0&&F.value===!0&&NV(s.value,ce.target)!==!0&&K('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:K,shake:O,__updateRefocusTarget(ce){c=ce||null}}),an(Ue);function nt(){return C("div",{role:"dialog","aria-modal":L.value===!0?"true":"false",...r,class:z.value},[C(Ni,{name:"q-transition--fade",appear:!0},()=>L.value===!0?C("div",{class:"q-dialog__backdrop fixed-full",style:_.value,"aria-hidden":"true",tabindex:-1,onClick:U}):null),C(Ni,b.value,()=>o.value===!0?C("div",{ref:s,class:I.value,style:_.value,tabindex:-1,...v.value},Zt(e.default)):null)])}return j}});const ch={xs:18,sm:24,md:32,lg:38,xl:46},Bo={size:String};function jo(t,e=ch){return R(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}const hg="0 0 24 24",dg=t=>t,ru=t=>`ionicons ${t}`,t0={"mdi-":t=>`mdi ${t}`,"icon-":dg,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":ru,"ion-ios":ru,"ion-logo":ru,"iconfont ":dg,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},n0={o_:"-outlined",r_:"-round",s_:"-sharp"},r0={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},ZV=new RegExp("^("+Object.keys(t0).join("|")+")"),eN=new RegExp("^("+Object.keys(n0).join("|")+")"),fg=new RegExp("^("+Object.keys(r0).join("|")+")"),tN=/^[Mm]\s?[-+]?\.?\d/,nN=/^img:/,rN=/^svguse:/,iN=/^ion-/,sN=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var qn=Et({name:"QIcon",props:{...Bo,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Ze(),r=jo(t),i=R(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),s=R(()=>{let o,a=t.name;if(a==="none"||!a)return{none:!0};if(n.iconMapFn!==null){const u=n.iconMapFn(a);if(u!==void 0)if(u.icon!==void 0){if(a=u.icon,a==="none"||!a)return{none:!0}}else return{cls:u.cls,content:u.content!==void 0?u.content:" "}}if(tN.test(a)===!0){const[u,h=hg]=a.split("|");return{svg:!0,viewBox:h,nodes:u.split("&&").map(d=>{const[f,g,w]=d.split("@@");return C("path",{style:g,d:f,transform:w})})}}if(nN.test(a)===!0)return{img:!0,src:a.substring(4)};if(rN.test(a)===!0){const[u,h=hg]=a.split("|");return{svguse:!0,src:u.substring(7),viewBox:h}}let l=" ";const c=a.match(ZV);if(c!==null)o=t0[c[1]](a);else if(sN.test(a)===!0)o=a;else if(iN.test(a)===!0)o=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${a.substring(3)}`;else if(fg.test(a)===!0){o="notranslate material-symbols";const u=a.match(fg);u!==null&&(a=a.substring(6),o+=r0[u[1]]),l=a}else{o="notranslate material-icons";const u=a.match(eN);u!==null&&(a=a.substring(2),o+=n0[u[1]]),l=a}return{cls:o,content:l}});return()=>{const o={class:i.value,style:r.value,"aria-hidden":"true",role:"presentation"};return s.value.none===!0?C(t.tag,o,Zt(e.default)):s.value.img===!0?C("span",o,Lr(e.default,[C("img",{src:s.value.src})])):s.value.svg===!0?C("span",o,Lr(e.default,[C("svg",{viewBox:s.value.viewBox||"0 0 24 24"},s.value.nodes)])):s.value.svguse===!0?C("span",o,Lr(e.default,[C("svg",{viewBox:s.value.viewBox},[C("use",{"xlink:href":s.value.src})])])):(s.value.cls!==void 0&&(o.class+=" "+s.value.cls),C(t.tag,o,Lr(e.default,[s.value.content])))}}});const oN={size:{type:[Number,String],default:"1em"},color:String};function aN(t){return{cSize:R(()=>t.size in ch?`${ch[t.size]}px`:t.size),classes:R(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}var _o=Et({name:"QSpinner",props:{...oN,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=aN(t);return()=>C("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[C("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function lN(t,e=250){let n=!1,r;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},e),r=t.apply(this,arguments)),r}}function pg(t,e,n,r){n.modifiers.stop===!0&&Ma(t);const i=n.modifiers.color;let s=n.modifiers.center;s=s===!0||r===!0;const o=document.createElement("span"),a=document.createElement("span"),l=ab(t),{left:c,top:u,width:h,height:d}=e.getBoundingClientRect(),f=Math.sqrt(h*h+d*d),g=f/2,w=`${(h-f)/2}px`,y=s?w:`${l.left-c-g}px`,b=`${(d-f)/2}px`,_=s?b:`${l.top-u-g}px`;a.className="q-ripple__inner",lh(a,{height:`${f}px`,width:`${f}px`,transform:`translate3d(${y},${_},0) scale3d(.2,.2,1)`,opacity:0}),o.className=`q-ripple${i?" text-"+i:""}`,o.setAttribute("dir","ltr"),o.appendChild(a),e.appendChild(o);const A=()=>{o.remove(),clearTimeout(x)};n.abort.push(A);let x=setTimeout(()=>{a.classList.add("q-ripple__inner--enter"),a.style.transform=`translate3d(${w},${b},0) scale3d(1,1,1)`,a.style.opacity=.2,x=setTimeout(()=>{a.classList.remove("q-ripple__inner--enter"),a.classList.add("q-ripple__inner--leave"),a.style.opacity=0,x=setTimeout(()=>{o.remove(),n.abort.splice(n.abort.indexOf(A),1)},275)},250)},50)}function mg(t,{modifiers:e,value:n,arg:r}){const i=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:i.early===!0,stop:i.stop===!0,center:i.center===!0,color:i.color||r,keyCodes:[].concat(i.keyCodes||13)}}var cN=zV({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const r={cfg:n,enabled:e.value!==!1,modifiers:{},abort:[],start(i){r.enabled===!0&&i.qSkipRipple!==!0&&i.type===(r.modifiers.early===!0?"pointerdown":"click")&&pg(i,t,r,i.qKeyEvent===!0)},keystart:lN(i=>{r.enabled===!0&&i.qSkipRipple!==!0&&Qs(i,r.modifiers.keyCodes)===!0&&i.type===`key${r.modifiers.early===!0?"down":"up"}`&&pg(i,t,r,!0)},300)};mg(r,e),t.__qripple=r,cb(r,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;n!==void 0&&(n.enabled=e.value!==!1,n.enabled===!0&&Object(e.value)===e.value&&mg(n,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(n=>{n()}),ub(e,"main"),delete t._qripple)}});const i0={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},uN=Object.keys(i0),s0={align:{type:String,validator:t=>uN.includes(t)}};function o0(t){return R(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${i0[e]}`})}function gg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function _g(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function hN(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(Array.isArray(i)===!1||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function vg(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function dN(t,e){return Array.isArray(t)===!0?vg(t,e):Array.isArray(e)===!0?vg(e,t):t===e}function fN(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(dN(t[n],e[n])===!1)return!1;return!0}const pN={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function mN({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=Ze(),{props:r,proxy:i,emit:s}=n,o=QE(n),a=R(()=>r.disable!==!0&&r.href!==void 0),l=R(e===!0?()=>o===!0&&r.disable!==!0&&a.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!=="":()=>o===!0&&a.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""),c=R(()=>l.value===!0?_(r.to):null),u=R(()=>c.value!==null),h=R(()=>a.value===!0||u.value===!0),d=R(()=>r.type==="a"||h.value===!0?"a":r.tag||t||"div"),f=R(()=>a.value===!0?{href:r.href,target:r.target}:u.value===!0?{href:c.value.href,target:r.target}:{}),g=R(()=>{if(u.value===!1)return-1;const{matched:F}=c.value,{length:j}=F,B=F[j-1];if(B===void 0)return-1;const V=i.$route.matched;if(V.length===0)return-1;const T=V.findIndex(_g.bind(null,B));if(T>-1)return T;const I=gg(F[j-2]);return j>1&&gg(B)===I&&V[V.length-1].path!==I?V.findIndex(_g.bind(null,F[j-2])):T}),w=R(()=>u.value===!0&&g.value!==-1&&hN(i.$route.params,c.value.params)),y=R(()=>w.value===!0&&g.value===i.$route.matched.length-1&&fN(i.$route.params,c.value.params)),b=R(()=>u.value===!0?y.value===!0?` ${r.exactActiveClass} ${r.activeClass}`:r.exact===!0?"":w.value===!0?` ${r.activeClass}`:"":"");function _(F){try{return i.$router.resolve(F)}catch{}return null}function A(F,{returnRouterError:j,to:B=r.to,replace:V=r.replace}={}){if(r.disable===!0)return F.preventDefault(),Promise.resolve(!1);if(F.metaKey||F.altKey||F.ctrlKey||F.shiftKey||F.button!==void 0&&F.button!==0||r.target==="_blank")return Promise.resolve(!1);F.preventDefault();const T=i.$router[V===!0?"replace":"push"](B);return j===!0?T:T.then(()=>{}).catch(()=>{})}function x(F){if(u.value===!0){const j=B=>A(F,B);s("click",F,j),F.defaultPrevented!==!0&&j()}else s("click",F)}return{hasRouterLink:u,hasHrefLink:a,hasLink:h,linkTag:d,resolvedLink:c,linkIsActive:w,linkIsExactActive:y,linkClass:b,linkAttrs:f,getLink:_,navigateToRouterLink:A,navigateOnClick:x}}const yg={none:0,xs:4,sm:8,md:16,lg:24,xl:32},gN={xs:8,sm:10,md:14,lg:20,xl:24},_N=["button","submit","reset"],vN=/[^\s]\/[^\s]/,yN=["flat","outline","push","unelevated"],wN=(t,e)=>t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e,EN={...Bo,...pN,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...yN.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...s0.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function TN(t){const e=jo(t,gN),n=o0(t),{hasRouterLink:r,hasLink:i,linkTag:s,linkAttrs:o,navigateOnClick:a}=mN({fallbackTag:"button"}),l=R(()=>{const y=t.fab===!1&&t.fabMini===!1?e.value:{};return t.padding!==void 0?Object.assign({},y,{padding:t.padding.split(/\s+/).map(b=>b in yg?yg[b]+"px":b).join(" "),minWidth:"0",minHeight:"0"}):y}),c=R(()=>t.rounded===!0||t.fab===!0||t.fabMini===!0),u=R(()=>t.disable!==!0&&t.loading!==!0),h=R(()=>u.value===!0?t.tabindex||0:-1),d=R(()=>wN(t,"standard")),f=R(()=>{const y={tabindex:h.value};return i.value===!0?Object.assign(y,o.value):_N.includes(t.type)===!0&&(y.type=t.type),s.value==="a"?(t.disable===!0?y["aria-disabled"]="true":y.href===void 0&&(y.role="button"),r.value!==!0&&vN.test(t.type)===!0&&(y.type=t.type)):t.disable===!0&&(y.disabled="",y["aria-disabled"]="true"),t.loading===!0&&t.percentage!==void 0&&Object.assign(y,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),y}),g=R(()=>{let y;t.color!==void 0?t.flat===!0||t.outline===!0?y=`text-${t.textColor||t.color}`:y=`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(y=`text-${t.textColor}`);const b=t.round===!0?"round":`rectangle${c.value===!0?" q-btn--rounded":t.square===!0?" q-btn--square":""}`;return`q-btn--${d.value} q-btn--${b}`+(y!==void 0?" "+y:"")+(u.value===!0?" q-btn--actionable q-focusable q-hoverable":t.disable===!0?" disabled":"")+(t.fab===!0?" q-btn--fab":t.fabMini===!0?" q-btn--fab-mini":"")+(t.noCaps===!0?" q-btn--no-uppercase":"")+(t.dense===!0?" q-btn--dense":"")+(t.stretch===!0?" no-border-radius self-stretch":"")+(t.glossy===!0?" glossy":"")+(t.square?" q-btn--square":"")}),w=R(()=>n.value+(t.stack===!0?" column":" row")+(t.noWrap===!0?" no-wrap text-no-wrap":"")+(t.loading===!0?" q-btn__content--hidden":""));return{classes:g,style:l,innerClasses:w,attributes:f,hasLink:i,linkTag:s,navigateOnClick:a,isActionable:u}}const{passiveCapture:Bt}=Ct;let fi=null,pi=null,mi=null;var uh=Et({name:"QBtn",props:{...EN,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:r}=Ze(),{classes:i,style:s,innerClasses:o,attributes:a,hasLink:l,linkTag:c,navigateOnClick:u,isActionable:h}=TN(t),d=Ae(null),f=Ae(null);let g=null,w,y=null;const b=R(()=>t.label!==void 0&&t.label!==null&&t.label!==""),_=R(()=>t.disable===!0||t.ripple===!1?!1:{keyCodes:l.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),A=R(()=>({center:t.round})),x=R(()=>{const S=Math.max(0,Math.min(100,t.percentage));return S>0?{transition:"transform 0.6s",transform:`translateX(${S-100}%)`}:{}}),F=R(()=>{if(t.loading===!0)return{onMousedown:z,onTouchstart:z,onClick:z,onKeydown:z,onKeyup:z};if(h.value===!0){const S={onClick:B,onKeydown:V,onMousedown:I};if(r.$q.platform.has.touch===!0){const Z=t.onTouchstart!==void 0?"":"Passive";S[`onTouchstart${Z}`]=T}return S}return{onClick:jt}}),j=R(()=>({ref:d,class:"q-btn q-btn-item non-selectable no-outline "+i.value,style:s.value,...a.value,...F.value}));function B(S){if(d.value!==null){if(S!==void 0){if(S.defaultPrevented===!0)return;const Z=document.activeElement;if(t.type==="submit"&&Z!==document.body&&d.value.contains(Z)===!1&&Z.contains(d.value)===!1){d.value.focus();const K=()=>{document.removeEventListener("keydown",jt,!0),document.removeEventListener("keyup",K,Bt),d.value!==null&&d.value.removeEventListener("blur",K,Bt)};document.addEventListener("keydown",jt,!0),document.addEventListener("keyup",K,Bt),d.value.addEventListener("blur",K,Bt)}}u(S)}}function V(S){d.value!==null&&(n("keydown",S),Qs(S,[13,32])===!0&&pi!==d.value&&(pi!==null&&v(),S.defaultPrevented!==!0&&(d.value.focus(),pi=d.value,d.value.classList.add("q-btn--active"),document.addEventListener("keyup",L,!0),d.value.addEventListener("blur",L,Bt)),jt(S)))}function T(S){d.value!==null&&(n("touchstart",S),S.defaultPrevented!==!0&&(fi!==d.value&&(fi!==null&&v(),fi=d.value,g=S.target,g.addEventListener("touchcancel",L,Bt),g.addEventListener("touchend",L,Bt)),w=!0,y!==null&&clearTimeout(y),y=setTimeout(()=>{y=null,w=!1},200)))}function I(S){d.value!==null&&(S.qSkipRipple=w===!0,n("mousedown",S),S.defaultPrevented!==!0&&mi!==d.value&&(mi!==null&&v(),mi=d.value,d.value.classList.add("q-btn--active"),document.addEventListener("mouseup",L,Bt)))}function L(S){if(d.value!==null&&!(S!==void 0&&S.type==="blur"&&document.activeElement===d.value)){if(S!==void 0&&S.type==="keyup"){if(pi===d.value&&Qs(S,[13,32])===!0){const Z=new MouseEvent("click",S);Z.qKeyEvent=!0,S.defaultPrevented===!0&&Jn(Z),S.cancelBubble===!0&&Ma(Z),d.value.dispatchEvent(Z),jt(S),S.qKeyEvent=!0}n("keyup",S)}v()}}function v(S){const Z=f.value;S!==!0&&(fi===d.value||mi===d.value)&&Z!==null&&Z!==document.activeElement&&(Z.setAttribute("tabindex",-1),Z.focus()),fi===d.value&&(g!==null&&(g.removeEventListener("touchcancel",L,Bt),g.removeEventListener("touchend",L,Bt)),fi=g=null),mi===d.value&&(document.removeEventListener("mouseup",L,Bt),mi=null),pi===d.value&&(document.removeEventListener("keyup",L,!0),d.value!==null&&d.value.removeEventListener("blur",L,Bt),pi=null),d.value!==null&&d.value.classList.remove("q-btn--active")}function z(S){jt(S),S.qSkipRipple=!0}return an(()=>{v(!0)}),Object.assign(r,{click:B}),()=>{let S=[];t.icon!==void 0&&S.push(C(qn,{name:t.icon,left:t.stack!==!0&&b.value===!0,role:"img","aria-hidden":"true"})),b.value===!0&&S.push(C("span",{class:"block"},[t.label])),S=Lr(e.default,S),t.iconRight!==void 0&&t.round===!1&&S.push(C(qn,{name:t.iconRight,right:t.stack!==!0&&b.value===!0,role:"img","aria-hidden":"true"}));const Z=[C("span",{class:"q-focus-helper",ref:f})];return t.loading===!0&&t.percentage!==void 0&&Z.push(C("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[C("span",{class:"q-btn__progress-indicator fit block",style:x.value})])),Z.push(C("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+o.value},S)),t.loading!==null&&Z.push(C(Ni,{name:"q-transition--fade"},()=>t.loading===!0?[C("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[C(_o)])]:null)),c_(C(c.value,j.value,Z),[[cN,_.value,void 0,A.value]])}}});const ai={dark:{type:Boolean,default:null}};function li(t,e){return R(()=>t.dark===null?e.dark.isActive:t.dark)}var IN=Et({name:"QCard",props:{...ai,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Ze(),r=li(t,n),i=R(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>C(t.tag,{class:i.value},Zt(e.default))}}),fs=Et({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=R(()=>`q-card__section q-card__section--${t.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>C(t.tag,{class:n.value},Zt(e.default))}}),bN=Et({name:"QCardActions",props:{...s0,vertical:Boolean},setup(t,{slots:e}){const n=o0(t),r=R(()=>`q-card__actions ${n.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>C("div",{class:r.value},Zt(e.default))}});const AN={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},iu={xs:2,sm:4,md:8,lg:16,xl:24};var wg=Et({name:"QSeparator",props:{...ai,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=Ze(),n=li(t,e.proxy.$q),r=R(()=>t.vertical===!0?"vertical":"horizontal"),i=R(()=>` q-separator--${r.value}`),s=R(()=>t.inset!==!1?`${i.value}-${AN[t.inset]}`:""),o=R(()=>`q-separator${i.value}${s.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(n.value===!0?" q-separator--dark":"")),a=R(()=>{const l={};if(t.size!==void 0&&(l[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const c=t.spaced===!0?`${iu.md}px`:t.spaced in iu?`${iu[t.spaced]}px`:t.spaced,u=t.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${u[0]}`]=l[`margin${u[1]}`]=c}return l});return()=>C("hr",{class:o.value,style:a.value,"aria-orientation":r.value})}});function SN({validate:t,resetValidation:e,requiresQForm:n}){const r=Lt(Tb,!1);if(r!==!1){const{props:i,proxy:s}=Ze();Object.assign(s,{validate:t,resetValidation:e}),Fe(()=>i.disable,o=>{o===!0?(typeof e=="function"&&e(),r.unbindComponent(s)):r.bindComponent(s)}),Yi(()=>{i.disable!==!0&&r.bindComponent(s)}),an(()=>{i.disable!==!0&&r.unbindComponent(s)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Eg=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Tg=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ig=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ha=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,da=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,su={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>Eg.test(t),hexaColor:t=>Tg.test(t),hexOrHexaColor:t=>Ig.test(t),rgbColor:t=>ha.test(t),rgbaColor:t=>da.test(t),rgbOrRgbaColor:t=>ha.test(t)||da.test(t),hexOrRgbColor:t=>Eg.test(t)||ha.test(t),hexaOrRgbaColor:t=>Tg.test(t)||da.test(t),anyColor:t=>Ig.test(t)||ha.test(t)||da.test(t)},RN=[!0,!1,"ondemand"],CN={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:t=>RN.includes(t)}};function PN(t,e){const{props:n,proxy:r}=Ze(),i=Ae(!1),s=Ae(null),o=Ae(null);SN({validate:g,resetValidation:f});let a=0,l;const c=R(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),u=R(()=>n.disable!==!0&&c.value===!0),h=R(()=>n.error===!0||i.value===!0),d=R(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:s.value);Fe(()=>n.modelValue,()=>{w()}),Fe(()=>n.reactiveRules,b=>{b===!0?l===void 0&&(l=Fe(()=>n.rules,()=>{w(!0)})):l!==void 0&&(l(),l=void 0)},{immediate:!0}),Fe(t,b=>{b===!0?o.value===null&&(o.value=!1):o.value===!1&&(o.value=!0,u.value===!0&&n.lazyRules!=="ondemand"&&e.value===!1&&y())});function f(){a++,e.value=!1,o.value=null,i.value=!1,s.value=null,y.cancel()}function g(b=n.modelValue){if(u.value!==!0)return!0;const _=++a,A=e.value!==!0?()=>{o.value=!0}:()=>{},x=(j,B)=>{j===!0&&A(),i.value=j,s.value=B||null,e.value=!1},F=[];for(let j=0;j<n.rules.length;j++){const B=n.rules[j];let V;if(typeof B=="function"?V=B(b,su):typeof B=="string"&&su[B]!==void 0&&(V=su[B](b)),V===!1||typeof V=="string")return x(!0,V),!1;V!==!0&&V!==void 0&&F.push(V)}return F.length===0?(x(!1),!0):(e.value=!0,Promise.all(F).then(j=>{if(j===void 0||Array.isArray(j)===!1||j.length===0)return _===a&&x(!1),!0;const B=j.find(V=>V===!1||typeof V=="string");return _===a&&x(B!==void 0,B),B===void 0},j=>(_===a&&(console.error(j),x(!0)),!1)))}function w(b){u.value===!0&&n.lazyRules!=="ondemand"&&(o.value===!0||n.lazyRules!==!0&&b!==!0)&&y()}const y=q_(g,0);return an(()=>{l!==void 0&&l(),y.cancel()}),Object.assign(r,{resetValidation:f,validate:g}),ei(r,"hasError",()=>h.value),{isDirtyModel:o,hasRules:c,hasError:h,errorMessage:d,validate:g,resetValidation:f}}const bg=/^on[A-Z]/;function kN(t,e){const n={listeners:Ae({}),attributes:Ae({})};function r(){const i={},s={};for(const o in t)o!=="class"&&o!=="style"&&bg.test(o)===!1&&(i[o]=t[o]);for(const o in e.props)bg.test(o)===!0&&(s[o]=e.props[o]);n.attributes.value=i,n.listeners.value=s}return m_(r),r(),n}let ou,fa=0;const at=new Array(256);for(let t=0;t<256;t++)at[t]=(t+256).toString(16).substring(1);const xN=(()=>{const t=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(t!==void 0){if(t.randomBytes!==void 0)return t.randomBytes;if(t.getRandomValues!==void 0)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return e=>{const n=[];for(let r=e;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),Ag=4096;function a0(){(ou===void 0||fa+16>Ag)&&(fa=0,ou=xN(Ag));const t=Array.prototype.slice.call(ou,fa,fa+=16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,at[t[0]]+at[t[1]]+at[t[2]]+at[t[3]]+"-"+at[t[4]]+at[t[5]]+"-"+at[t[6]]+at[t[7]]+"-"+at[t[8]]+at[t[9]]+"-"+at[t[10]]+at[t[11]]+at[t[12]]+at[t[13]]+at[t[14]]+at[t[15]]}function l0(t,e){return t===void 0?e===!0?`f_${a0()}`:void 0:t}function hh(t){return t!=null&&(""+t).length!==0}const ON={...ai,...CN,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},DN=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function VN({requiredForAttr:t=!0,tagProp:e}={}){const{props:n,attrs:r,proxy:i,vnode:s}=Ze(),o=li(n,i.$q);return{requiredForAttr:t,tag:e===!0?R(()=>n.tag):{value:"label"},isDark:o,editable:R(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:Ae(!1),focused:Ae(!1),hasPopupOpen:!1,splitAttrs:kN(r,s),targetUid:Ae(l0(n.for,t)),rootRef:Ae(null),targetRef:Ae(null),controlRef:Ae(null)}}function NN(t){const{props:e,emit:n,slots:r,attrs:i,proxy:s}=Ze(),{$q:o}=s;let a=null;t.hasValue===void 0&&(t.hasValue=R(()=>hh(e.modelValue))),t.emitValue===void 0&&(t.emitValue=O=>{n("update:modelValue",O)}),t.controlEvents===void 0&&(t.controlEvents={onFocusin:T,onFocusout:I}),Object.assign(t,{clearValue:L,onControlFocusin:T,onControlFocusout:I,focus:B}),t.computedCounter===void 0&&(t.computedCounter=R(()=>{if(e.counter!==!1){const O=typeof e.modelValue=="string"||typeof e.modelValue=="number"?(""+e.modelValue).length:Array.isArray(e.modelValue)===!0?e.modelValue.length:0,ee=e.maxlength!==void 0?e.maxlength:e.maxValues;return O+(ee!==void 0?" / "+ee:"")}}));const{isDirtyModel:l,hasRules:c,hasError:u,errorMessage:h,resetValidation:d}=PN(t.focused,t.innerLoading),f=t.floatingLabel!==void 0?R(()=>e.stackLabel===!0||t.focused.value===!0||t.floatingLabel.value===!0):R(()=>e.stackLabel===!0||t.focused.value===!0||t.hasValue.value===!0),g=R(()=>e.bottomSlots===!0||e.hint!==void 0||c.value===!0||e.counter===!0||e.error!==null),w=R(()=>e.filled===!0?"filled":e.outlined===!0?"outlined":e.borderless===!0?"borderless":e.standout?"standout":"standard"),y=R(()=>`q-field row no-wrap items-start q-field--${w.value}`+(t.fieldClass!==void 0?` ${t.fieldClass.value}`:"")+(e.rounded===!0?" q-field--rounded":"")+(e.square===!0?" q-field--square":"")+(f.value===!0?" q-field--float":"")+(_.value===!0?" q-field--labeled":"")+(e.dense===!0?" q-field--dense":"")+(e.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(t.isDark.value===!0?" q-field--dark":"")+(t.getControl===void 0?" q-field--auto-height":"")+(t.focused.value===!0?" q-field--focused":"")+(u.value===!0?" q-field--error":"")+(u.value===!0||t.focused.value===!0?" q-field--highlighted":"")+(e.hideBottomSpace!==!0&&g.value===!0?" q-field--with-bottom":"")+(e.disable===!0?" q-field--disabled":e.readonly===!0?" q-field--readonly":"")),b=R(()=>"q-field__control relative-position row no-wrap"+(e.bgColor!==void 0?` bg-${e.bgColor}`:"")+(u.value===!0?" text-negative":typeof e.standout=="string"&&e.standout.length!==0&&t.focused.value===!0?` ${e.standout}`:e.color!==void 0?` text-${e.color}`:"")),_=R(()=>e.labelSlot===!0||e.label!==void 0),A=R(()=>"q-field__label no-pointer-events absolute ellipsis"+(e.labelColor!==void 0&&u.value!==!0?` text-${e.labelColor}`:"")),x=R(()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:f.value,modelValue:e.modelValue,emitValue:t.emitValue})),F=R(()=>{const O={for:t.targetUid.value};return e.disable===!0?O["aria-disabled"]="true":e.readonly===!0&&(O["aria-readonly"]="true"),O});Fe(()=>e.for,O=>{t.targetUid.value=l0(O,t.requiredForAttr)});function j(){const O=document.activeElement;let ee=t.targetRef!==void 0&&t.targetRef.value;ee&&(O===null||O.id!==t.targetUid.value)&&(ee.hasAttribute("tabindex")===!0||(ee=ee.querySelector("[tabindex]")),ee&&ee!==O&&ee.focus({preventScroll:!0}))}function B(){rf(j)}function V(){CV(j);const O=document.activeElement;O!==null&&t.rootRef.value.contains(O)&&O.blur()}function T(O){a!==null&&(clearTimeout(a),a=null),t.editable.value===!0&&t.focused.value===!1&&(t.focused.value=!0,n("focus",O))}function I(O,ee){a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,!(document.hasFocus()===!0&&(t.hasPopupOpen===!0||t.controlRef===void 0||t.controlRef.value===null||t.controlRef.value.contains(document.activeElement)!==!1))&&(t.focused.value===!0&&(t.focused.value=!1,n("blur",O)),ee!==void 0&&ee())})}function L(O){jt(O),o.platform.is.mobile!==!0?(t.targetRef!==void 0&&t.targetRef.value||t.rootRef.value).focus():t.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),e.type==="file"&&(t.inputRef.value.value=null),n("update:modelValue",null),n("clear",e.modelValue),Pt(()=>{d(),o.platform.is.mobile!==!0&&(l.value=!1)})}function v(){const O=[];return r.prepend!==void 0&&O.push(C("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Jn},r.prepend())),O.push(C("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},z())),u.value===!0&&e.noErrorIcon===!1&&O.push(Z("error",[C(qn,{name:o.iconSet.field.error,color:"negative"})])),e.loading===!0||t.innerLoading.value===!0?O.push(Z("inner-loading-append",r.loading!==void 0?r.loading():[C(_o,{color:e.color})])):e.clearable===!0&&t.hasValue.value===!0&&t.editable.value===!0&&O.push(Z("inner-clearable-append",[C(qn,{class:"q-field__focusable-action",tag:"button",name:e.clearIcon||o.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:L})])),r.append!==void 0&&O.push(C("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Jn},r.append())),t.getInnerAppend!==void 0&&O.push(Z("inner-append",t.getInnerAppend())),t.getControlChild!==void 0&&O.push(t.getControlChild()),O}function z(){const O=[];return e.prefix!==void 0&&e.prefix!==null&&O.push(C("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),t.getShadowControl!==void 0&&t.hasShadow.value===!0&&O.push(t.getShadowControl()),t.getControl!==void 0?O.push(t.getControl()):r.rawControl!==void 0?O.push(r.rawControl()):r.control!==void 0&&O.push(C("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0},r.control(x.value))),_.value===!0&&O.push(C("div",{class:A.value},Zt(r.label,e.label))),e.suffix!==void 0&&e.suffix!==null&&O.push(C("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),O.concat(Zt(r.default))}function S(){let O,ee;u.value===!0?h.value!==null?(O=[C("div",{role:"alert"},h.value)],ee=`q--slot-error-${h.value}`):(O=Zt(r.error),ee="q--slot-error"):(e.hideHint!==!0||t.focused.value===!0)&&(e.hint!==void 0?(O=[C("div",e.hint)],ee=`q--slot-hint-${e.hint}`):(O=Zt(r.hint),ee="q--slot-hint"));const Ue=e.counter===!0||r.counter!==void 0;if(e.hideBottomSpace===!0&&Ue===!1&&O===void 0)return;const ve=C("div",{key:ee,class:"q-field__messages col"},O);return C("div",{class:"q-field__bottom row items-start q-field__bottom--"+(e.hideBottomSpace!==!0?"animated":"stale"),onClick:Jn},[e.hideBottomSpace===!0?ve:C(Ni,{name:"q-transition--field-message"},()=>ve),Ue===!0?C("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():t.computedCounter.value):null])}function Z(O,ee){return ee===null?null:C("div",{key:O,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},ee)}let K=!1;return El(()=>{K=!0}),f_(()=>{K===!0&&e.autofocus===!0&&s.focus()}),Yi(()=>{hr.value===!0&&t.requiredForAttr===!0&&e.for===void 0&&(t.targetUid.value=`f_${a0()}`),e.autofocus===!0&&s.focus()}),an(()=>{a!==null&&clearTimeout(a)}),Object.assign(s,{focus:B,blur:V}),function(){const ee=t.getControl===void 0&&r.control===void 0?{...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0,...F.value}:F.value;return C(t.tag.value,{ref:t.rootRef,class:[y.value,i.class],style:i.style,...ee},[r.before!==void 0?C("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Jn},r.before()):null,C("div",{class:"q-field__inner relative-position col self-stretch"},[C("div",{ref:t.controlRef,class:b.value,tabindex:-1,...t.controlEvents},v()),g.value===!0?S():null]),r.after!==void 0?C("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Jn},r.after()):null])}}const Sg={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},cl={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},c0=Object.keys(cl);c0.forEach(t=>{cl[t].regex=new RegExp(cl[t].pattern)});const MN=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+c0.join("")+"])|(.)","g"),Rg=/[.*+?^${}()|[\]\\]/g,We=String.fromCharCode(1),LN={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function FN(t,e,n,r){let i,s,o,a,l,c;const u=Ae(null),h=Ae(f());function d(){return t.autogrow===!0||["textarea","text","search","url","tel","password"].includes(t.type)}Fe(()=>t.type+t.autogrow,w),Fe(()=>t.mask,T=>{if(T!==void 0)y(h.value,!0);else{const I=B(h.value);w(),t.modelValue!==I&&e("update:modelValue",I)}}),Fe(()=>t.fillMask+t.reverseFillMask,()=>{u.value===!0&&y(h.value,!0)}),Fe(()=>t.unmaskedValue,()=>{u.value===!0&&y(h.value)});function f(){if(w(),u.value===!0){const T=F(B(t.modelValue));return t.fillMask!==!1?V(T):T}return t.modelValue}function g(T){if(T<i.length)return i.slice(-T);let I="",L=i;const v=L.indexOf(We);if(v>-1){for(let z=T-L.length;z>0;z--)I+=We;L=L.slice(0,v)+I+L.slice(v)}return L}function w(){if(u.value=t.mask!==void 0&&t.mask.length!==0&&d(),u.value===!1){a=void 0,i="",s="";return}const T=Sg[t.mask]===void 0?t.mask:Sg[t.mask],I=typeof t.fillMask=="string"&&t.fillMask.length!==0?t.fillMask.slice(0,1):"_",L=I.replace(Rg,"\\$&"),v=[],z=[],S=[];let Z=t.reverseFillMask===!0,K="",O="";T.replace(MN,(Se,U,Ie,nt,ce)=>{if(nt!==void 0){const ae=cl[nt];S.push(ae),O=ae.negate,Z===!0&&(z.push("(?:"+O+"+)?("+ae.pattern+"+)?(?:"+O+"+)?("+ae.pattern+"+)?"),Z=!1),z.push("(?:"+O+"+)?("+ae.pattern+")?")}else if(Ie!==void 0)K="\\"+(Ie==="\\"?"":Ie),S.push(Ie),v.push("([^"+K+"]+)?"+K+"?");else{const ae=U!==void 0?U:ce;K=ae==="\\"?"\\\\\\\\":ae.replace(Rg,"\\\\$&"),S.push(ae),v.push("([^"+K+"]+)?"+K+"?")}});const ee=new RegExp("^"+v.join("")+"("+(K===""?".":"[^"+K+"]")+"+)?"+(K===""?"":"["+K+"]*")+"$"),Ue=z.length-1,ve=z.map((Se,U)=>U===0&&t.reverseFillMask===!0?new RegExp("^"+L+"*"+Se):U===Ue?new RegExp("^"+Se+"("+(O===""?".":O)+"+)?"+(t.reverseFillMask===!0?"$":L+"*")):new RegExp("^"+Se));o=S,a=Se=>{const U=ee.exec(t.reverseFillMask===!0?Se:Se.slice(0,S.length+1));U!==null&&(Se=U.slice(1).join(""));const Ie=[],nt=ve.length;for(let ce=0,ae=Se;ce<nt;ce++){const P=ve[ce].exec(ae);if(P===null)break;ae=ae.slice(P.shift().length),Ie.push(...P)}return Ie.length!==0?Ie.join(""):Se},i=S.map(Se=>typeof Se=="string"?Se:We).join(""),s=i.split(We).join(I)}function y(T,I,L){const v=r.value,z=v.selectionEnd,S=v.value.length-z,Z=B(T);I===!0&&w();const K=F(Z),O=t.fillMask!==!1?V(K):K,ee=h.value!==O;v.value!==O&&(v.value=O),ee===!0&&(h.value=O),document.activeElement===v&&Pt(()=>{if(O===s){const ve=t.reverseFillMask===!0?s.length:0;v.setSelectionRange(ve,ve,"forward");return}if(L==="insertFromPaste"&&t.reverseFillMask!==!0){const ve=v.selectionEnd;let Se=z-1;for(let U=l;U<=Se&&U<ve;U++)i[U]!==We&&Se++;_.right(v,Se);return}if(["deleteContentBackward","deleteContentForward"].indexOf(L)>-1){const ve=t.reverseFillMask===!0?z===0?O.length>K.length?1:0:Math.max(0,O.length-(O===s?0:Math.min(K.length,S)+1))+1:z;v.setSelectionRange(ve,ve,"forward");return}if(t.reverseFillMask===!0)if(ee===!0){const ve=Math.max(0,O.length-(O===s?0:Math.min(K.length,S+1)));ve===1&&z===1?v.setSelectionRange(ve,ve,"forward"):_.rightReverse(v,ve)}else{const ve=O.length-S;v.setSelectionRange(ve,ve,"backward")}else if(ee===!0){const ve=Math.max(0,i.indexOf(We),Math.min(K.length,z)-1);_.right(v,ve)}else{const ve=z-1;_.right(v,ve)}});const Ue=t.unmaskedValue===!0?B(O):O;String(t.modelValue)!==Ue&&(t.modelValue!==null||Ue!=="")&&n(Ue,!0)}function b(T,I,L){const v=F(B(T.value));I=Math.max(0,i.indexOf(We),Math.min(v.length,I)),l=I,T.setSelectionRange(I,L,"forward")}const _={left(T,I){const L=i.slice(I-1).indexOf(We)===-1;let v=Math.max(0,I-1);for(;v>=0;v--)if(i[v]===We){I=v,L===!0&&I++;break}if(v<0&&i[I]!==void 0&&i[I]!==We)return _.right(T,0);I>=0&&T.setSelectionRange(I,I,"backward")},right(T,I){const L=T.value.length;let v=Math.min(L,I+1);for(;v<=L;v++)if(i[v]===We){I=v;break}else i[v-1]===We&&(I=v);if(v>L&&i[I-1]!==void 0&&i[I-1]!==We)return _.left(T,L);T.setSelectionRange(I,I,"forward")},leftReverse(T,I){const L=g(T.value.length);let v=Math.max(0,I-1);for(;v>=0;v--)if(L[v-1]===We){I=v;break}else if(L[v]===We&&(I=v,v===0))break;if(v<0&&L[I]!==void 0&&L[I]!==We)return _.rightReverse(T,0);I>=0&&T.setSelectionRange(I,I,"backward")},rightReverse(T,I){const L=T.value.length,v=g(L),z=v.slice(0,I+1).indexOf(We)===-1;let S=Math.min(L,I+1);for(;S<=L;S++)if(v[S-1]===We){I=S,I>0&&z===!0&&I--;break}if(S>L&&v[I-1]!==void 0&&v[I-1]!==We)return _.leftReverse(T,L);T.setSelectionRange(I,I,"forward")}};function A(T){e("click",T),c=void 0}function x(T){if(e("keydown",T),j_(T)===!0||T.altKey===!0)return;const I=r.value,L=I.selectionStart,v=I.selectionEnd;if(T.shiftKey||(c=void 0),T.keyCode===37||T.keyCode===39){T.shiftKey&&c===void 0&&(c=I.selectionDirection==="forward"?L:v);const z=_[(T.keyCode===39?"right":"left")+(t.reverseFillMask===!0?"Reverse":"")];if(T.preventDefault(),z(I,c===L?v:L),T.shiftKey){const S=I.selectionStart;I.setSelectionRange(Math.min(c,S),Math.max(c,S),"forward")}}else T.keyCode===8&&t.reverseFillMask!==!0&&L===v?(_.left(I,L),I.setSelectionRange(I.selectionStart,v,"backward")):T.keyCode===46&&t.reverseFillMask===!0&&L===v&&(_.rightReverse(I,v),I.setSelectionRange(L,I.selectionEnd,"forward"))}function F(T){if(T==null||T==="")return"";if(t.reverseFillMask===!0)return j(T);const I=o;let L=0,v="";for(let z=0;z<I.length;z++){const S=T[L],Z=I[z];if(typeof Z=="string")v+=Z,S===Z&&L++;else if(S!==void 0&&Z.regex.test(S))v+=Z.transform!==void 0?Z.transform(S):S,L++;else return v}return v}function j(T){const I=o,L=i.indexOf(We);let v=T.length-1,z="";for(let S=I.length-1;S>=0&&v>-1;S--){const Z=I[S];let K=T[v];if(typeof Z=="string")z=Z+z,K===Z&&v--;else if(K!==void 0&&Z.regex.test(K))do z=(Z.transform!==void 0?Z.transform(K):K)+z,v--,K=T[v];while(L===S&&K!==void 0&&Z.regex.test(K));else return z}return z}function B(T){return typeof T!="string"||a===void 0?typeof T=="number"?a(""+T):T:a(T)}function V(T){return s.length-T.length<=0?T:t.reverseFillMask===!0&&T.length!==0?s.slice(0,-T.length)+T:T+s.slice(T.length)}return{innerValue:h,hasMask:u,moveCursorForPaste:b,updateMaskValue:y,onMaskedKeydown:x,onMaskedClick:A}}const of={name:String};function WM(t){return R(()=>({type:"hidden",name:t.name,value:t.modelValue}))}function u0(t={}){return(e,n,r)=>{e[n](C("input",{class:"hidden"+(r||""),...t.value}))}}function UN(t){return R(()=>t.name||t.for)}function qN(t,e){function n(){const r=t.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(s=>{i.items.add(s)}),{files:i.files}}catch{return{files:void 0}}}return R(e===!0?()=>{if(t.type==="file")return n()}:n)}const $N=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,BN=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,jN=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,zN=/[a-z0-9_ -]$/i;function HN(t){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,t(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(ze.is.firefox===!0?zN.test(n.data)===!1:$N.test(n.data)===!0||BN.test(n.data)===!0||jN.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var KN=Et({name:"QInput",inheritAttrs:!1,props:{...ON,...LN,...of,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...DN,"paste","change","keydown","click","animationend"],setup(t,{emit:e,attrs:n}){const{proxy:r}=Ze(),{$q:i}=r,s={};let o=NaN,a,l,c=null,u;const h=Ae(null),d=UN(t),{innerValue:f,hasMask:g,moveCursorForPaste:w,updateMaskValue:y,onMaskedKeydown:b,onMaskedClick:_}=FN(t,e,K,h),A=qN(t,!0),x=R(()=>hh(f.value)),F=HN(S),j=VN(),B=R(()=>t.type==="textarea"||t.autogrow===!0),V=R(()=>B.value===!0||["text","search","url","tel","password"].includes(t.type)),T=R(()=>{const U={...j.splitAttrs.listeners.value,onInput:S,onPaste:z,onChange:ee,onBlur:Ue,onFocus:Ma};return U.onCompositionstart=U.onCompositionupdate=U.onCompositionend=F,g.value===!0&&(U.onKeydown=b,U.onClick=_),t.autogrow===!0&&(U.onAnimationend=Z),U}),I=R(()=>{const U={tabindex:0,"data-autofocus":t.autofocus===!0||void 0,rows:t.type==="textarea"?6:void 0,"aria-label":t.label,name:d.value,...j.splitAttrs.attributes.value,id:j.targetUid.value,maxlength:t.maxlength,disabled:t.disable===!0,readonly:t.readonly===!0};return B.value===!1&&(U.type=t.type),t.autogrow===!0&&(U.rows=1),U});Fe(()=>t.type,()=>{h.value&&(h.value.value=t.modelValue)}),Fe(()=>t.modelValue,U=>{if(g.value===!0){if(l===!0&&(l=!1,String(U)===o))return;y(U)}else f.value!==U&&(f.value=U,t.type==="number"&&s.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete s.value));t.autogrow===!0&&Pt(O)}),Fe(()=>t.autogrow,U=>{U===!0?Pt(O):h.value!==null&&n.rows>0&&(h.value.style.height="auto")}),Fe(()=>t.dense,()=>{t.autogrow===!0&&Pt(O)});function L(){rf(()=>{const U=document.activeElement;h.value!==null&&h.value!==U&&(U===null||U.id!==j.targetUid.value)&&h.value.focus({preventScroll:!0})})}function v(){h.value!==null&&h.value.select()}function z(U){if(g.value===!0&&t.reverseFillMask!==!0){const Ie=U.target;w(Ie,Ie.selectionStart,Ie.selectionEnd)}e("paste",U)}function S(U){if(!U||!U.target)return;if(t.type==="file"){e("update:modelValue",U.target.files);return}const Ie=U.target.value;if(U.target.qComposing===!0){s.value=Ie;return}if(g.value===!0)y(Ie,!1,U.inputType);else if(K(Ie),V.value===!0&&U.target===document.activeElement){const{selectionStart:nt,selectionEnd:ce}=U.target;nt!==void 0&&ce!==void 0&&Pt(()=>{U.target===document.activeElement&&Ie.indexOf(U.target.value)===0&&U.target.setSelectionRange(nt,ce)})}t.autogrow===!0&&O()}function Z(U){e("animationend",U),O()}function K(U,Ie){u=()=>{c=null,t.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,t.modelValue!==U&&o!==U&&(o=U,Ie===!0&&(l=!0),e("update:modelValue",U),Pt(()=>{o===U&&(o=NaN)})),u=void 0},t.type==="number"&&(a=!0,s.value=U),t.debounce!==void 0?(c!==null&&clearTimeout(c),s.value=U,c=setTimeout(u,t.debounce)):u()}function O(){requestAnimationFrame(()=>{const U=h.value;if(U!==null){const Ie=U.parentNode.style,{scrollTop:nt}=U,{overflowY:ce,maxHeight:ae}=i.platform.is.firefox===!0?{}:window.getComputedStyle(U),P=ce!==void 0&&ce!=="scroll";P===!0&&(U.style.overflowY="hidden"),Ie.marginBottom=U.scrollHeight-1+"px",U.style.height="1px",U.style.height=U.scrollHeight+"px",P===!0&&(U.style.overflowY=parseInt(ae,10)<U.scrollHeight?"auto":"hidden"),Ie.marginBottom="",U.scrollTop=nt}})}function ee(U){F(U),c!==null&&(clearTimeout(c),c=null),u!==void 0&&u(),e("change",U.target.value)}function Ue(U){U!==void 0&&Ma(U),c!==null&&(clearTimeout(c),c=null),u!==void 0&&u(),a=!1,l=!1,delete s.value,t.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=f.value!==void 0?f.value:"")})}function ve(){return s.hasOwnProperty("value")===!0?s.value:f.value!==void 0?f.value:""}an(()=>{Ue()}),Yi(()=>{t.autogrow===!0&&O()}),Object.assign(j,{innerValue:f,fieldClass:R(()=>`q-${B.value===!0?"textarea":"input"}`+(t.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:R(()=>t.type!=="file"&&typeof t.shadowText=="string"&&t.shadowText.length!==0),inputRef:h,emitValue:K,hasValue:x,floatingLabel:R(()=>x.value===!0&&(t.type!=="number"||isNaN(f.value)===!1)||hh(t.displayValue)),getControl:()=>C(B.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",t.inputClass],style:t.inputStyle,...I.value,...T.value,...t.type!=="file"?{value:ve()}:A.value}),getShadowControl:()=>C("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(B.value===!0?"":" text-no-wrap")},[C("span",{class:"invisible"},ve()),C("span",t.shadowText)])});const Se=NN(j);return Object.assign(r,{focus:L,select:v,getNativeElement:()=>h.value}),ei(r,"nativeEl",()=>h.value),Se}});function h0(t,e){const n=Ae(null),r=R(()=>t.disable===!0?null:C("span",{ref:n,class:"no-outline",tabindex:-1}));function i(s){const o=e.value;s!==void 0&&s.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():n.value!==null&&(s===void 0||o!==null&&o.contains(s.target)===!0)&&n.value.focus()}return{refocusTargetEl:r,refocusTarget:i}}var d0={xs:30,sm:35,md:40,lg:50,xl:60};const WN=C("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[C("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),C("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var GN=Et({name:"QRadio",props:{...ai,...Bo,...of,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:r}=Ze(),i=li(t,r.$q),s=jo(t,d0),o=Ae(null),{refocusTargetEl:a,refocusTarget:l}=h0(t,o),c=R(()=>pe(t.modelValue)===pe(t.val)),u=R(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(i.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),h=R(()=>{const A=t.color!==void 0&&(t.keepColor===!0||c.value===!0)?` text-${t.color}`:"";return`q-radio__inner relative-position q-radio__inner--${c.value===!0?"truthy":"falsy"}${A}`}),d=R(()=>(c.value===!0?t.checkedIcon:t.uncheckedIcon)||null),f=R(()=>t.disable===!0?-1:t.tabindex||0),g=R(()=>{const A={type:"radio"};return t.name!==void 0&&Object.assign(A,{".checked":c.value===!0,"^checked":c.value===!0?"checked":void 0,name:t.name,value:t.val}),A}),w=u0(g);function y(A){A!==void 0&&(jt(A),l(A)),t.disable!==!0&&c.value!==!0&&n("update:modelValue",t.val,A)}function b(A){(A.keyCode===13||A.keyCode===32)&&jt(A)}function _(A){(A.keyCode===13||A.keyCode===32)&&y(A)}return Object.assign(r,{set:y}),()=>{const A=d.value!==null?[C("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[C(qn,{class:"q-radio__icon",name:d.value})])]:[WN];t.disable!==!0&&w(A,"unshift"," q-radio__native q-ma-none q-pa-none");const x=[C("div",{class:h.value,style:s.value,"aria-hidden":"true"},A)];a.value!==null&&x.push(a.value);const F=t.label!==void 0?Lr(e.default,[t.label]):Zt(e.default);return F!==void 0&&x.push(C("div",{class:"q-radio__label q-anchor--skip"},F)),C("div",{ref:o,class:u.value,tabindex:f.value,role:"radio","aria-label":t.label,"aria-checked":c.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:y,onKeydown:b,onKeyup:_},x)}}});const f0={...ai,...Bo,...of,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},p0=["update:modelValue"];function m0(t,e){const{props:n,slots:r,emit:i,proxy:s}=Ze(),{$q:o}=s,a=li(n,o),l=Ae(null),{refocusTargetEl:c,refocusTarget:u}=h0(n,l),h=jo(n,d0),d=R(()=>n.val!==void 0&&Array.isArray(n.modelValue)),f=R(()=>{const v=pe(n.val);return d.value===!0?n.modelValue.findIndex(z=>pe(z)===v):-1}),g=R(()=>d.value===!0?f.value>-1:pe(n.modelValue)===pe(n.trueValue)),w=R(()=>d.value===!0?f.value===-1:pe(n.modelValue)===pe(n.falseValue)),y=R(()=>g.value===!1&&w.value===!1),b=R(()=>n.disable===!0?-1:n.tabindex||0),_=R(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(a.value===!0?` q-${t}--dark`:"")+(n.dense===!0?` q-${t}--dense`:"")+(n.leftLabel===!0?" reverse":"")),A=R(()=>{const v=g.value===!0?"truthy":w.value===!0?"falsy":"indet",z=n.color!==void 0&&(n.keepColor===!0||(t==="toggle"?g.value===!0:w.value!==!0))?` text-${n.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${v}${z}`}),x=R(()=>{const v={type:"checkbox"};return n.name!==void 0&&Object.assign(v,{".checked":g.value,"^checked":g.value===!0?"checked":void 0,name:n.name,value:d.value===!0?n.val:n.trueValue}),v}),F=u0(x),j=R(()=>{const v={tabindex:b.value,role:t==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":y.value===!0?"mixed":g.value===!0?"true":"false"};return n.disable===!0&&(v["aria-disabled"]="true"),v});function B(v){v!==void 0&&(jt(v),u(v)),n.disable!==!0&&i("update:modelValue",V(),v)}function V(){if(d.value===!0){if(g.value===!0){const v=n.modelValue.slice();return v.splice(f.value,1),v}return n.modelValue.concat([n.val])}if(g.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(w.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function T(v){(v.keyCode===13||v.keyCode===32)&&jt(v)}function I(v){(v.keyCode===13||v.keyCode===32)&&B(v)}const L=e(g,y);return Object.assign(s,{toggle:B}),()=>{const v=L();n.disable!==!0&&F(v,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const z=[C("div",{class:A.value,style:h.value,"aria-hidden":"true"},v)];c.value!==null&&z.push(c.value);const S=n.label!==void 0?Lr(r.default,[n.label]):Zt(r.default);return S!==void 0&&z.push(C("div",{class:`q-${t}__label q-anchor--skip`},S)),C("div",{ref:l,class:_.value,...j.value,onClick:B,onKeydown:T,onKeyup:I},z)}}const QN=C("div",{key:"svg",class:"q-checkbox__bg absolute"},[C("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[C("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),C("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var YN=Et({name:"QCheckbox",props:f0,emits:p0,setup(t){function e(n,r){const i=R(()=>(n.value===!0?t.checkedIcon:r.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>i.value!==null?[C("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[C(qn,{class:"q-checkbox__icon",name:i.value})])]:[QN]}return m0("checkbox",e)}}),JN=Et({name:"QToggle",props:{...f0,icon:String,iconColor:String},emits:p0,setup(t){function e(n,r){const i=R(()=>(n.value===!0?t.checkedIcon:r.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),s=R(()=>n.value===!0?t.iconColor:null);return()=>[C("div",{class:"q-toggle__track"}),C("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},i.value!==void 0?[C(qn,{name:i.value,color:s.value})]:void 0)]}return m0("toggle",e)}});const g0={radio:GN,checkbox:YN,toggle:JN},XN=Object.keys(g0);var ZN=Et({name:"QOptionGroup",props:{...ai,modelValue:{required:!0},options:{type:Array,validator:t=>t.every(e=>"value"in e&&"label"in e)},name:String,type:{default:"radio",validator:t=>XN.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{proxy:{$q:r}}=Ze(),i=Array.isArray(t.modelValue);t.type==="radio"?i===!0&&console.error("q-option-group: model should not be array"):i===!1&&console.error("q-option-group: model should be array in your case");const s=li(t,r),o=R(()=>g0[t.type]),a=R(()=>"q-option-group q-gutter-x-sm"+(t.inline===!0?" q-option-group--inline":"")),l=R(()=>{const u={role:"group"};return t.type==="radio"&&(u.role="radiogroup",t.disable===!0&&(u["aria-disabled"]="true")),u});function c(u){e("update:modelValue",u)}return()=>C("div",{class:a.value,...l.value},t.options.map((u,h)=>{const d=n["label-"+h]!==void 0?()=>n["label-"+h](u):n.label!==void 0?()=>n.label(u):void 0;return C("div",[C(o.value,{modelValue:t.modelValue,val:u.value,name:u.name===void 0?t.name:u.name,disable:t.disable||u.disable,label:d===void 0?u.label:null,leftLabel:u.leftLabel===void 0?t.leftLabel:u.leftLabel,color:u.color===void 0?t.color:u.color,checkedIcon:u.checkedIcon,uncheckedIcon:u.uncheckedIcon,dark:u.dark||s.value,size:u.size===void 0?t.size:u.size,dense:t.dense,keepColor:u.keepColor===void 0?t.keepColor:u.keepColor,"onUpdate:modelValue":c},d)])}))}}),eM=Et({name:"DialogPlugin",props:{...ai,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:t=>["ok","cancel","none"].includes(t)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(t,{emit:e}){const{proxy:n}=Ze(),{$q:r}=n,i=li(t,r),s=Ae(null),o=Ae(t.prompt!==void 0?t.prompt.model:t.options!==void 0?t.options.model:void 0),a=R(()=>"q-dialog-plugin"+(i.value===!0?" q-dialog-plugin--dark q-dark":"")+(t.progress!==!1?" q-dialog-plugin--progress":"")),l=R(()=>t.color||(i.value===!0?"amber":"primary")),c=R(()=>t.progress===!1?null:fn(t.progress)===!0?{component:t.progress.spinner||_o,props:{color:t.progress.color||l.value}}:{component:_o,props:{color:l.value}}),u=R(()=>t.prompt!==void 0||t.options!==void 0),h=R(()=>{if(u.value!==!0)return{};const{model:S,isValid:Z,items:K,...O}=t.prompt!==void 0?t.prompt:t.options;return O}),d=R(()=>fn(t.ok)===!0||t.ok===!0?r.lang.label.ok:t.ok),f=R(()=>fn(t.cancel)===!0||t.cancel===!0?r.lang.label.cancel:t.cancel),g=R(()=>t.prompt!==void 0?t.prompt.isValid!==void 0&&t.prompt.isValid(o.value)!==!0:t.options!==void 0?t.options.isValid!==void 0&&t.options.isValid(o.value)!==!0:!1),w=R(()=>({color:l.value,label:d.value,ripple:!1,disable:g.value,...fn(t.ok)===!0?t.ok:{flat:!0},"data-autofocus":t.focus==="ok"&&u.value!==!0||void 0,onClick:A})),y=R(()=>({color:l.value,label:f.value,ripple:!1,...fn(t.cancel)===!0?t.cancel:{flat:!0},"data-autofocus":t.focus==="cancel"&&u.value!==!0||void 0,onClick:x}));Fe(()=>t.prompt&&t.prompt.model,j),Fe(()=>t.options&&t.options.model,j);function b(){s.value.show()}function _(){s.value.hide()}function A(){e("ok",pe(o.value)),_()}function x(){_()}function F(){e("hide")}function j(S){o.value=S}function B(S){g.value!==!0&&t.prompt.type!=="textarea"&&Qs(S,13)===!0&&A()}function V(S,Z){return t.html===!0?C(fs,{class:S,innerHTML:Z}):C(fs,{class:S},()=>Z)}function T(){return[C(KN,{color:l.value,dense:!0,autofocus:!0,dark:i.value,...h.value,modelValue:o.value,"onUpdate:modelValue":j,onKeyup:B})]}function I(){return[C(ZN,{color:l.value,options:t.options.items,dark:i.value,...h.value,modelValue:o.value,"onUpdate:modelValue":j})]}function L(){const S=[];return t.cancel&&S.push(C(uh,y.value)),t.ok&&S.push(C(uh,w.value)),C(bN,{class:t.stackButtons===!0?"items-end":"",vertical:t.stackButtons,align:"right"},()=>S)}function v(){const S=[];return t.title&&S.push(V("q-dialog__title",t.title)),t.progress!==!1&&S.push(C(fs,{class:"q-dialog__progress"},()=>C(c.value.component,c.value.props))),t.message&&S.push(V("q-dialog__message",t.message)),t.prompt!==void 0?S.push(C(fs,{class:"scroll q-dialog-plugin__form"},T)):t.options!==void 0&&S.push(C(wg,{dark:i.value}),C(fs,{class:"scroll q-dialog-plugin__form"},I),C(wg,{dark:i.value})),(t.ok||t.cancel)&&S.push(L()),S}function z(){return[C(IN,{class:[a.value,t.cardClass],style:t.cardStyle,dark:i.value},v)]}return Object.assign(n,{show:b,hide:_}),()=>C(XV,{ref:s,onHide:F},z)}});function _0(t,e){for(const n in e)n!=="spinner"&&Object(e[n])===e[n]?(t[n]=Object(t[n])!==t[n]?{}:{...t[n]},_0(t[n],e[n])):t[n]=e[n]}function tM(t,e,n){return r=>{let i,s;const o=e===!0&&r.component!==void 0;if(o===!0){const{component:_,componentProps:A}=r;i=typeof _=="string"?n.component(_):_,s=A||{}}else{const{class:_,style:A,...x}=r;i=t,s=x,_!==void 0&&(x.cardClass=_),A!==void 0&&(x.cardStyle=A)}let a,l=!1;const c=Ae(null),u=sf(!1,"dialog"),h=_=>{if(c.value!==null&&c.value[_]!==void 0){c.value[_]();return}const A=a.$.subTree;if(A&&A.component){if(A.component.proxy&&A.component.proxy[_]){A.component.proxy[_]();return}if(A.component.subTree&&A.component.subTree.component&&A.component.subTree.component.proxy&&A.component.subTree.component.proxy[_]){A.component.subTree.component.proxy[_]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},d=[],f=[],g={onOk(_){return d.push(_),g},onCancel(_){return f.push(_),g},onDismiss(_){return d.push(_),f.push(_),g},hide(){return h("hide"),g},update(_){if(a!==null){if(o===!0)Object.assign(s,_);else{const{class:A,style:x,...F}=_;A!==void 0&&(F.cardClass=A),x!==void 0&&(F.cardStyle=x),_0(s,F)}a.$forceUpdate()}return g}},w=_=>{l=!0,d.forEach(A=>{A(_)})},y=()=>{b.unmount(u),XE(u),b=null,a=null,l!==!0&&f.forEach(_=>{_()})};let b=W_({name:"QGlobalDialog",setup:()=>()=>C(i,{...s,ref:c,onOk:w,onHide:y,onVnodeMounted(..._){typeof s.onVnodeMounted=="function"&&s.onVnodeMounted(..._),Pt(()=>h("show"))}})},n);return a=b.mount(u),g}}var nM={install({$q:t,parentApp:e}){t.dialog=tM(eM,!0,e),this.__installed!==!0&&(this.create=t.dialog)}},rM=Et({name:"QAvatar",props:{...Bo,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const n=jo(t),r=R(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),i=R(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const s=t.icon!==void 0?[C(qn,{name:t.icon})]:void 0;return C("div",{class:r.value,style:n.value},[C("div",{class:"q-avatar__content row flex-center overflow-hidden",style:i.value},HV(e.default,s))])}}});let iM=0;const Ra={},Ca={},Yt={},v0={},sM=/^\s*$/,y0=[],af=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],oM=["top-left","top-right","bottom-left","bottom-right"],wi={positive:{icon:t=>t.iconSet.type.positive,color:"positive"},negative:{icon:t=>t.iconSet.type.negative,color:"negative"},warning:{icon:t=>t.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:t=>t.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function w0(t,e,n){if(!t)return ps("parameter required");let r;const i={textColor:"white"};if(t.ignoreDefaults!==!0&&Object.assign(i,Ra),fn(t)===!1&&(i.type&&Object.assign(i,wi[i.type]),t={message:t}),Object.assign(i,wi[t.type||i.type],t),typeof i.icon=="function"&&(i.icon=i.icon(e)),i.spinner?(i.spinner===!0&&(i.spinner=_o),i.spinner=mr(i.spinner)):i.spinner=!1,i.meta={hasMedia:Boolean(i.spinner!==!1||i.icon||i.avatar),hasText:Cg(i.message)||Cg(i.caption)},i.position){if(af.includes(i.position)===!1)return ps("wrong position",t)}else i.position="bottom";if(i.timeout===void 0)i.timeout=5e3;else{const l=parseInt(i.timeout,10);if(isNaN(l)||l<0)return ps("wrong timeout",t);i.timeout=l}i.timeout===0?i.progress=!1:i.progress===!0&&(i.meta.progressClass="q-notification__progress"+(i.progressClass?` ${i.progressClass}`:""),i.meta.progressStyle={animationDuration:`${i.timeout+1e3}ms`});const s=(Array.isArray(t.actions)===!0?t.actions:[]).concat(t.ignoreDefaults!==!0&&Array.isArray(Ra.actions)===!0?Ra.actions:[]).concat(wi[t.type]!==void 0&&Array.isArray(wi[t.type].actions)===!0?wi[t.type].actions:[]),{closeBtn:o}=i;if(o&&s.push({label:typeof o=="string"?o:e.lang.label.close}),i.actions=s.map(({handler:l,noDismiss:c,...u})=>({flat:!0,...u,onClick:typeof l=="function"?()=>{l(),c!==!0&&a()}:()=>{a()}})),i.multiLine===void 0&&(i.multiLine=i.actions.length>1),Object.assign(i.meta,{class:`q-notification row items-stretch q-notification--${i.multiLine===!0?"multi-line":"standard"}`+(i.color!==void 0?` bg-${i.color}`:"")+(i.textColor!==void 0?` text-${i.textColor}`:"")+(i.classes!==void 0?` ${i.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(i.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(i.multiLine===!0?"":" col"),leftClass:i.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...i.attrs}}),i.group===!1?(i.group=void 0,i.meta.group=void 0):((i.group===void 0||i.group===!0)&&(i.group=[i.message,i.caption,i.multiline].concat(i.actions.map(l=>`${l.label}*${l.icon}`)).join("|")),i.meta.group=i.group+"|"+i.position),i.actions.length===0?i.actions=void 0:i.meta.actionsClass="q-notification__actions row items-center "+(i.multiLine===!0?"justify-end":"col-auto")+(i.meta.hasMedia===!0?" q-notification__actions--with-media":""),n!==void 0){n.notif.meta.timer&&(clearTimeout(n.notif.meta.timer),n.notif.meta.timer=void 0),i.meta.uid=n.notif.meta.uid;const l=Yt[i.position].value.indexOf(n.notif);Yt[i.position].value[l]=i}else{const l=Ca[i.meta.group];if(l===void 0){if(i.meta.uid=iM++,i.meta.badge=1,["left","right","center"].indexOf(i.position)!==-1)Yt[i.position].value.splice(Math.floor(Yt[i.position].value.length/2),0,i);else{const c=i.position.indexOf("top")>-1?"unshift":"push";Yt[i.position].value[c](i)}i.group!==void 0&&(Ca[i.meta.group]=i)}else{if(l.meta.timer&&(clearTimeout(l.meta.timer),l.meta.timer=void 0),i.badgePosition!==void 0){if(oM.includes(i.badgePosition)===!1)return ps("wrong badgePosition",t)}else i.badgePosition=`top-${i.position.indexOf("left")>-1?"right":"left"}`;i.meta.uid=l.meta.uid,i.meta.badge=l.meta.badge+1,i.meta.badgeClass=`q-notification__badge q-notification__badge--${i.badgePosition}`+(i.badgeColor!==void 0?` bg-${i.badgeColor}`:"")+(i.badgeTextColor!==void 0?` text-${i.badgeTextColor}`:"")+(i.badgeClass?` ${i.badgeClass}`:"");const c=Yt[i.position].value.indexOf(l);Yt[i.position].value[c]=Ca[i.meta.group]=i}}const a=()=>{aM(i),r=void 0};if(i.timeout>0&&(i.meta.timer=setTimeout(()=>{i.meta.timer=void 0,a()},i.timeout+1e3)),i.group!==void 0)return l=>{l!==void 0?ps("trying to update a grouped one which is forbidden",t):a()};if(r={dismiss:a,config:t,notif:i},n!==void 0){Object.assign(n,r);return}return l=>{if(r!==void 0)if(l===void 0)r.dismiss();else{const c=Object.assign({},r.config,l,{group:!1,position:i.position});w0(c,e,r)}}}function aM(t){t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0);const e=Yt[t.position].value.indexOf(t);if(e!==-1){t.group!==void 0&&delete Ca[t.meta.group];const n=y0[""+t.meta.uid];if(n){const{width:r,height:i}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=r,n.style.height=i}Yt[t.position].value.splice(e,1),typeof t.onDismiss=="function"&&t.onDismiss()}}function Cg(t){return t!=null&&sM.test(t)!==!0}function ps(t,e){return console.error(`Notify: ${t}`,e),!1}function lM(){return Et({name:"QNotifications",devtools:{hide:!0},setup(){return()=>C("div",{class:"q-notifications"},af.map(t=>C(KI,{key:t,class:v0[t],tag:"div",name:`q-notification--${t}`},()=>Yt[t].value.map(e=>{const n=e.meta,r=[];if(n.hasMedia===!0&&(e.spinner!==!1?r.push(C(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+n.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?r.push(C(qn,{class:"q-notification__icon q-notification__icon--"+n.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&r.push(C(rM,{class:"q-notification__avatar q-notification__avatar--"+n.leftClass},()=>C("img",{src:e.avatar,"aria-hidden":"true"})))),n.hasText===!0){let s;const o={class:"q-notification__message col"};if(e.html===!0)o.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const a=[e.message];s=e.caption?[C("div",a),C("div",{class:"q-notification__caption"},[e.caption])]:a}r.push(C("div",o,s))}const i=[C("div",{class:n.contentClass},r)];return e.progress===!0&&i.push(C("div",{key:`${n.uid}|p|${n.badge}`,class:n.progressClass,style:n.progressStyle})),e.actions!==void 0&&i.push(C("div",{class:n.actionsClass},e.actions.map(s=>C(uh,s)))),n.badge>1&&i.push(C("div",{key:`${n.uid}|${n.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[n.badge])),C("div",{ref:s=>{y0[""+n.uid]=s},key:n.uid,class:n.class,...n.attrs},[C("div",{class:n.wrapperClass},i)])}))))}})}var cM={setDefaults(t){fn(t)===!0&&Object.assign(Ra,t)},registerType(t,e){fn(e)===!0&&(wi[t]=e)},install({$q:t,parentApp:e}){if(t.notify=this.create=n=>w0(n,t),t.notify.setDefaults=this.setDefaults,t.notify.registerType=this.registerType,t.config.notify!==void 0&&this.setDefaults(t.config.notify),this.__installed!==!0){af.forEach(r=>{Yt[r]=Ae([]);const i=["left","center","right"].includes(r)===!0?"center":r.indexOf("top")>-1?"top":"bottom",s=r.indexOf("left")>-1?"start":r.indexOf("right")>-1?"end":"center",o=["left","right"].includes(r)?`items-${r==="left"?"start":"end"} justify-center`:r==="center"?"flex-center":`items-${s}`;v0[r]=`q-notifications__list q-notifications__list--${i} fixed column no-wrap ${o}`});const n=sf("q-notify");W_(lM(),e).mount(n)}}},uM={config:{},iconSet:H_,plugins:{Dialog:nM,Notify:cM}};const hM="https://thomasdeparis.github.io/store-manager/";async function dM({app:t,router:e,store:n},r){let i=!1;const s=l=>{try{return e.resolve(l).href}catch{}return Object(l)===l?null:l},o=l=>{if(i=!0,typeof l=="string"&&/^https?:\/\//.test(l)){window.location.href=l;return}const c=s(l);c!==null&&(window.location.href=c,window.location.reload())},a=window.location.href.replace(window.location.origin,"");for(let l=0;i===!1&&l<r.length;l++)try{await r[l]({app:t,router:e,store:n,ssrContext:null,redirect:o,urlPath:a,publicPath:hM})}catch(c){if(c&&c.url){o(c.url);return}console.error("[Quasar] boot error:",c);return}i!==!0&&(t.use(e),t.mount("#q-app"))}vV(F_,uM).then(t=>{const[e,n]=Promise.allSettled!==void 0?["allSettled",r=>r.map(i=>{if(i.status==="rejected"){console.error("[Quasar] boot error:",i.reason);return}return i.value.default})]:["all",r=>r.map(i=>i.default)];return Promise[e]([St(()=>import("./i18n.4a1d0edc.js"),["assets/i18n.4a1d0edc.js","assets/index.0c7b4a53.js","assets/vue-i18n.runtime.d7d53555.js"])]).then(r=>{const i=n(r).filter(s=>typeof s=="function");dM(t,i)})});export{mN as $,jM as A,LV as B,FV as C,zM as D,Zr as E,Nt as F,AT as G,Oh as H,Dh as I,wT as J,EM as K,uI as L,fM as M,OM as N,_V as O,uh as P,qn as Q,C_ as R,wM as S,Il as T,vM as U,hI as V,ai as W,li as X,yu as Y,pN as Z,Rb as _,Ch as a,XV as a$,Qs as a0,jt as a1,zV as a2,ze as a3,bM as a4,cb as a5,AM as a6,Jn as a7,Ma as a8,ab as a9,q_ as aA,VT as aB,El as aC,f_ as aD,ON as aE,DN as aF,NN as aG,VN as aH,Bo as aI,jo as aJ,HV as aK,cN as aL,YV as aM,cg as aN,lg as aO,xV as aP,QV as aQ,rf as aR,NV as aS,of as aT,UN as aU,hh as aV,Ac as aW,m_ as aX,g_ as aY,HN as aZ,j_ as a_,ub as aa,TV as ab,IV as ac,wV as ad,bV as ae,yV as af,c_ as ag,KM as ah,jV as ai,Ni as aj,_o as ak,fs as al,IN as am,mM as an,gM as ao,KN as ap,pM as aq,_M as ar,JN as as,Eb as at,AV as au,EV as av,SV as aw,DV as ax,yM as ay,Sa as az,xM as b,QE as b0,wu as b1,kM as b2,PM as b3,fn as b4,IM as b5,YN as b6,ei as b7,wg as b8,Fb as b9,DE as ba,iV as bb,sV as bc,uV as bd,WD as be,GE as bf,hV as bg,UM as bh,FM as bi,qM as bj,YE as bk,Tb as bl,TM as bm,DM as bn,tt as bo,LM as bp,Qt as bq,Zf as br,WM as bs,u0 as bt,$M as bu,BM as bv,R as c,yl as d,Mg as e,$e as f,Ze as g,C as h,Lt as i,It as j,Et as k,Lr as l,Zt as m,hr as n,Yi as o,an as p,Gs as q,Ae as r,Pt as s,Ct as t,CM as u,SM as v,Fe as w,HM as x,ma as y,RM as z};
