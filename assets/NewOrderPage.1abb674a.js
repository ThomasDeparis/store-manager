import{Q as p}from"./QPage.5de83ca0.js";import{_ as c,d as m,N as u,w as f,c as l,G as S,H as v,I as N,J as O,P,M as g,j as h}from"./index.9f4750be.js";import{u as w}from"./provider-store.c31e6975.js";import{u as y}from"./user-store.9a7bf1de.js";import{u as _,a as I}from"./order-error-handler.3231cc46.js";import{u as $}from"./notify-handler.22bc6a9f.js";import{t as C}from"./index.5d49afe9.js";import{O as b}from"./OrderCreation.62bca042.js";import"./errortype.c2c282ff.js";import"./QItem.a953653e.js";import"./product-store.8720c5f0.js";import"./vue-i18n.runtime.77fe3db3.js";import"./QForm.22a0a8d0.js";import"./PriceInput.65611463.js";const B=m({name:"NewOrderPage",components:{OrderCreation:b},props:{providerId:{type:String,required:!1}},setup(){const r=y(),e=w(),i=_(),s=$(),n=u();r.currentStore&&e.loadProviders(r.currentStore),f(()=>r.currentStore,()=>{var o;(e.providers==null||((o=e.providers)==null?void 0:o.length)===0)&&e.loadProviders(r.currentStore)});const d=async o=>{try{const{recipientId:t,...a}=o;await i.addProviderOrder({providerId:t,...a}),s.NotifySuccess(C("order.created")),n.push({name:"orders"})}catch(t){s.NotifyError(I(t))}};return{providersList:l(()=>e.providers),onSubmit:d}}});function k(r,e,i,s,n,d){const o=S("order-creation");return v(),N(p,{padding:""},{default:O(()=>[P("h4",null,g(r.$t("order.newOrder")),1),h(o,{"recipient-id":r.providerId,"recipients-list":r.providersList,"onSubmit:order":e[0]||(e[0]=t=>r.onSubmit(t))},null,8,["recipient-id","recipients-list"])]),_:1})}var x=c(B,[["render",k]]);export{x as default};
